{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 62388a80eeb939f0356f","webpack:///./src/index.js","webpack:///./src/polymer-bridge.js","webpack:///./~/cells-bridge/src/bridge.js","webpack:///./~/string/lib/string.js","webpack:///./~/string/lib/_count.js","webpack:///./~/string/lib/_splitLeft.js","webpack:///./~/string/lib/_splitRight.js","webpack:///./~/cells-bridge/src/manager/dom.js","webpack:///./~/cells-bridge/src/manager/events.js","webpack:///./~/events/events.js","webpack:///./~/cells-bridge/src/manager/page.js","webpack:///./~/cells-bridge/src/manager/storage.js","webpack:///./~/cells-bridge/src/connector.js","webpack:///./~/cells-bridge/src/sanitizer.js","webpack:///./~/cells-bridge/src/component-connector.js","webpack:///./~/rxjs/Subscription.js","webpack:///./~/rxjs/util/isArray.js","webpack:///./~/rxjs/util/isObject.js","webpack:///./~/rxjs/util/isFunction.js","webpack:///./~/rxjs/util/tryCatch.js","webpack:///./~/rxjs/util/errorObject.js","webpack:///./~/rxjs/util/UnsubscriptionError.js","webpack:///./~/rxjs/Observable.js","webpack:///./~/rxjs/util/root.js","webpack:///./~/rxjs/util/toSubscriber.js","webpack:///./~/rxjs/Subscriber.js","webpack:///./~/rxjs/Observer.js","webpack:///./~/rxjs/symbol/rxSubscriber.js","webpack:///./~/rxjs/symbol/observable.js","webpack:///./~/rxjs/util/pipe.js","webpack:///./~/rxjs/util/noop.js","webpack:///./~/rxjs/add/observable/fromEvent.js","webpack:///./~/rxjs/observable/fromEvent.js","webpack:///./~/rxjs/observable/FromEventObservable.js","webpack:///./~/rxjs/ReplaySubject.js","webpack:///./~/rxjs/Subject.js","webpack:///./~/rxjs/util/ObjectUnsubscribedError.js","webpack:///./~/rxjs/SubjectSubscription.js","webpack:///./~/rxjs/scheduler/queue.js","webpack:///./~/rxjs/scheduler/QueueAction.js","webpack:///./~/rxjs/scheduler/AsyncAction.js","webpack:///./~/rxjs/scheduler/Action.js","webpack:///./~/rxjs/scheduler/QueueScheduler.js","webpack:///./~/rxjs/scheduler/AsyncScheduler.js","webpack:///./~/rxjs/Scheduler.js","webpack:///./~/rxjs/operators/observeOn.js","webpack:///./~/rxjs/Notification.js","webpack:///./~/cells-bridge/src/router.js","webpack:///./~/cells-bridge/src/route.js","webpack:///./~/rxjs/add/observable/merge.js","webpack:///./~/rxjs/observable/merge.js","webpack:///./~/rxjs/observable/ArrayObservable.js","webpack:///./~/rxjs/observable/ScalarObservable.js","webpack:///./~/rxjs/observable/EmptyObservable.js","webpack:///./~/rxjs/util/isScheduler.js","webpack:///./~/rxjs/operators/mergeAll.js","webpack:///./~/rxjs/operators/mergeMap.js","webpack:///./~/rxjs/util/subscribeToResult.js","webpack:///./~/rxjs/util/isArrayLike.js","webpack:///./~/rxjs/util/isPromise.js","webpack:///./~/rxjs/symbol/iterator.js","webpack:///./~/rxjs/InnerSubscriber.js","webpack:///./~/rxjs/OuterSubscriber.js","webpack:///./~/rxjs/util/identity.js","webpack:///./~/rxjs/add/operator/distinctUntilChanged.js","webpack:///./~/rxjs/operator/distinctUntilChanged.js","webpack:///./~/rxjs/operators/distinctUntilChanged.js","webpack:///./~/rxjs/add/operator/map.js","webpack:///./~/rxjs/operator/map.js","webpack:///./~/rxjs/operators/map.js","webpack:///./~/rxjs/add/operator/startWith.js","webpack:///./~/rxjs/operator/startWith.js","webpack:///./~/rxjs/operators/startWith.js","webpack:///./~/rxjs/observable/concat.js","webpack:///./~/rxjs/observable/of.js","webpack:///./~/rxjs/observable/from.js","webpack:///./~/rxjs/observable/FromObservable.js","webpack:///./~/rxjs/observable/PromiseObservable.js","webpack:///./~/rxjs/observable/IteratorObservable.js","webpack:///./~/rxjs/observable/ArrayLikeObservable.js","webpack:///./~/rxjs/operators/concatAll.js","webpack:///./~/cells-bridge/src/manager/import.js","webpack:///./~/cells-bridge/src/manager/template.js","webpack:///./~/cells-bridge/src/template.js","webpack:///./~/cells-bridge/src/component.js","webpack:///./~/cells-bridge/src/manager/bridge-channels.js","webpack:///./~/rxjs/add/operator/first.js","webpack:///./~/rxjs/operator/first.js","webpack:///./~/rxjs/operators/first.js","webpack:///./~/rxjs/util/EmptyError.js","webpack:///./~/cells-bridge/src/manager/action-channels.js","webpack:///./src/polymer-component-connector.js","webpack:///./src/polymer-template-manager.js","webpack:///./src/polymer-template.js","webpack:///./src/polymer-resolution-checker.js","webpack:///./src/polymer-component.js"],"names":["window","CellsPolymerBridge","module","exports","config","avoidPolymerEventCache","origGetEvent","Polymer","Base","_getEvent","type","bubbles","cancelable","dependencies","ComponentConnector","TemplateManager","spec","context","coreInstances","globalChannel","CellsBridge","DomManager","ImportManager","PageManager","Router","Sanitizer","BridgeChannelManager","binding","prplLevel","cache","channel","componentsPath","templatesPath","crossContainerId","debug","preCache","preRender","storagePrefix","version","viewLimit","initialTemplate","externalEvents","_initDependencies","manager","channels","mainNode","console","warn","_plugExternalEvents","id","_initCrossComponents","persistent","generateRequestUrl","assert","onPageDefinitionNotFound","$core","push","printDebugInfo","logout","bind","subscribeToEvent","initAppContextChannel","ActionChannelManager","subscribeAll","handler","routeHandler","addRoutes","routes","start","on","info","event","navigationDetail","detail","page","params","p","paramPage","param","hasOwnProperty","go","len","length","document","querySelector","setExternalEvent","name","payload","CustomEvent","dispatchEvent","i","data","_initEventChannels","initEventChannels","_addInitialSubscribersToEvents","eventSubscriptions","_subscribeToEvents","forEach","subscription","callback","crossContainer","create","tagName","body","appendChild","node","dependence","container","get","cmp","_createCellsComponent","__parentTemplate","register","connections","progressiveRegister","bindingType","items","template","collection","l","itemsToInject","sortedList","j","k","concat","_createLocalComponent","response","isPreRendering","options","split","components","createComponentsByType","unresolvedComponents","templateParents","setProps","component","parentName","append","isUnresolved","emit","loadComponent","selectTemplate","method","headers","app","templates","getNode","getPrivate","invalidate","loadBundleForTemplate","_createTemplateFromSpec","_preRender","pages","pageAlreadyLoaded","loadTemplate","then","templateResponse","doPreRender","createTemplate","_idleCallback","_createComponents","call","replace","value","camelize","s","getColor","option","color","hexColor","log","route","currentRoute","eventData","dasherize","next","currentTemplate","previousTemplate","registerChildren","unregisterChildren","oldName","undefined","updateAppContext","initPrivateChannel","children","unregister","onTemplateAnimationFinishes","registerCurrentTemplate","selected","animationCompleteEvent","listenToOnce","once","onRender","fixedChildren","animateTemplate","select","fn","getIdleCallbackChannel","first","subscribe","eventName","indexOf","getMainNode","resetBridgeChannels","removeTemplates","removeCrossComponents","removeTemplateChildrens","removeInitialTemplateToForceFreshLoadingAndCCRegistration","removeTemplate","_resetBridgeChannels","VERSION","ENTITIES","latin_map","initialize","object","toString","orig","__defineGetter__","S","__nsp","String","prototype","__sp","between","left","right","startPos","endPos","constructor","substring","slice","trim","mathc","sep","c","toUpperCase","capitalize","substr","toLowerCase","charAt","index","chompLeft","prefix","chompRight","suffix","endsWith","collapseWhitespace","contains","ss","count","require","equalsIgnoreCase","latinise","x","decodeHtmlEntities","_","code","fromCharCode","hex","parseInt","m","e","ee","target","match","suffixes","Array","arguments","escapeHTML","reversedEscapeChars","ensureLeft","ensureRight","humanize","underscore","isAlpha","test","isAlphaNumeric","isEmpty","isLower","isNumeric","isUpper","N","lines","replaceAll","pad","ch","Math","ceil","join","floor","padLeft","padRight","parseCSV","delimiter","qualifier","escape","lineDelimiter","fieldBuffer","fields","inField","inUnqualifiedString","self","ca","rows","current","r","splitLeft","maxSplit","limit","splitRight","strip","n","stripLeft","chars","regex","pattern","ensureString","escapeRegExp","RegExp","stripRight","setValue","slugify","sl","startsWith","prefixes","lastIndexOf","stripPunctuation","stripTags","args","multiArgs","tag","values","opening","closing","Export","TMPL_OPEN","TMPL_CLOSE","open","close","matches","key","times","titleCase","$1","toBoolean","toFloat","precision","num","parseFloat","toFixed","toInt","trimLeft","trimRight","truncate","pruneStr","str","tmpl","toCSV","delim","encloseNumbers","keys","dataArray","hasVal","it","separator","rep","buildString","shouldQualify","d","unescapeHTML","entity","entityCode","escapeChars","valueOf","wrapHTML","tagAttrs","el","elAttr","wrapped","prop","methodsAdded","extendPrototype","func","apply","restorePrototype","nativeProperties","getNativeStringProperties","stringProp","repeat","include","toInteger","toBool","decodeHTMLEntities","names","getNativeStringPropertyNames","retObj","results","Object","getOwnPropertyNames","splice","stringNames","objectNames","define","result","lt","gt","quot","apos","amp","ret","re","string","pos","splitResult","splitPart1","splitPart2","CellsManagerDom","elements","element","createElement","__zone","zone","attrs","properties","setAttrs","maxNumListeners","CustomEventEmitter","removeEventListener","addEventListener","eventManager","setMaxListeners","EventEmitter","_events","_maxListeners","defaultMaxListeners","isNumber","isNaN","TypeError","er","listeners","error","isObject","Error","err","isUndefined","isFunction","addListener","listener","newListener","warned","trace","fired","g","removeListener","list","position","removeAllListeners","listenerCount","evlistener","emitter","arg","CellsManagerPage","bridge","storage","connector","sanitizer","path","clear","getItem","Promise","resolve","_getFromConnector","url","promise","getJSON","_onResponse","_onResponseFail","catch","message","sanitizedData","parse","setItem","reject","InMemmoryStorage","dictionary","CellsStorage","internalStorage","JSON","stringify","removeItem","store","localStorage","sessionStorage","CellsBridgeConnector","xhr","XMLHttpRequest","status","responseText","statusText","header","setRequestHeader","send","_getPath","cmpDef","familyPath","CellsBridgeComposerSanitizer","fixed","parseConnections","json","LTRIM_SLASH","_parseComponentsFromJson","jsonTemplate","_buildConfig","jsonPages","currentPage","isArray","cellsConnections","in","out","paramsToActions","paramDef","global","CC","UI","DM","item","Channel","buffer","hasObservers","closed","observers","generateUUID","Date","getTime","uuid","random","complete","o","isStopped","onError","unsubscribe","unsubscribeAll","clean","Subscriptor","subscriptions","publications","hasSubscription","filter","publish","add","makeCallbackWithNoReplay","intervals","ids","getTimeFromNode","setTimeForNode","time","getTimeFromChannel","getIdFromNode","setIdForNode","getIdFromChannel","fnReplayOff","lastInterval","nodeInterval","lastId","nodeId","previousState","_firstInstanceOfObserver","observer","ChannelManager","getUnsafe","remove","has","EventManager","subscriptors","bridgeChannelsPrefix","WeakMap","subscriptor","set","_registerOutConnections","_registerInConnections","_updateInConnections","inConnections","channelName","bindName","isBridgeChannel","getSubscriptor","_wrapCallbackWithNode","isActiveBridgeChannel","hasSubscriptions","cb","wrapCallback","hasPublisher","_subscriptions","publication","outConnections","_hasPublisher","wrapEvent","delete","wrappedCb","eventPhase","Event","AT_TARGET","connection","source","fromEvent","wrappedListener","_isEventAtTarget","link","analytics","evt","isArray_1","isObject_1","isFunction_1","tryCatch_1","errorObject_1","UnsubscriptionError_1","Subscription","_parent","_parents","_unsubscribe","hasErrors","errors","_a","trial","tryCatch","errorObject","UnsubscriptionError","flattenUnsubscriptionErrors","sub","teardown","EMPTY","_addParent","tmp","subscriptionIndex","parent","empty","reduce","errs","tryCatchTarget","tryCatcher","__extends","b","__","_super","map","stack","root_1","toSubscriber_1","observable_1","pipe_1","Observable","_isScalar","_subscribe","lift","operator","observable","observerOrNext","sink","toSubscriber","syncErrorThrowable","_trySubscribe","syncErrorThrown","syncErrorValue","PromiseCtor","_this","root","Rx","subscriber","pipe","operations","_i","pipeFromArray","toPromise","__window","__self","WorkerGlobalScope","__global","_root","Subscriber_1","rxSubscriber_1","Observer_1","nextOrObserver","Subscriber","rxSubscriber","Subscription_1","destinationOrNext","destination","SafeSubscriber","_next","_error","_complete","_unsubscribeAndRecycle","_parentSubscriber","_context","__tryOrUnsub","__tryOrSetError","wrappedComplete","Symbol","for","$$rxSubscriber","getSymbolObservable","$$observable","noop_1","fns","noop","piped","input","prev","Observable_1","fromEvent_1","FromEventObservable_1","FromEventObservable","isNodeStyleEventEmitter","sourceObj","isJQueryStyleEventEmitter","off","isNodeList","isHTMLCollection","isEventTarget","selector","setupSubscription","source_1","source_2","source_3","Subject_1","queue_1","observeOn_1","ObjectUnsubscribedError_1","SubjectSubscription_1","ReplaySubject","bufferSize","windowTime","scheduler","Number","POSITIVE_INFINITY","_bufferSize","_windowTime","now","_getNow","ReplayEvent","_trimBufferThenGetEvents","ObjectUnsubscribedError","hasError","SubjectSubscription","ObserveOnSubscriber","thrownError","queue","eventsCount","spliceCount","max","Subject","SubjectSubscriber","subject","AnonymousSubject","copy","asObservable","subscriberIndex","QueueAction_1","QueueScheduler_1","QueueScheduler","QueueAction","AsyncAction_1","work","schedule","state","delay","flush","execute","_execute","requestAsyncId","AsyncAction","Action_1","pending","recycleAsyncId","setInterval","clearInterval","errored","errorValue","actions","Action","AsyncScheduler_1","AsyncScheduler","Scheduler_1","active","scheduled","action","shift","Scheduler","SchedulerAction","Notification_1","observeOn","observeOnOperatorFunction","ObserveOnOperator","dispatch","notification","observe","scheduleMessage","ObserveOnMessage","Notification","createNext","createError","createComplete","kind","hasValue","do","accept","toObservable","of","throw","undefinedValueNotification","completeNotification","instance","_useHistory","_routes","_disposables","_currentRoute","_404Route","SerialSubscription","_currentSubscription","isNavigationInProgress","__routes","routeName","addRoute","location","hash","HASH_PREFIX","_getHashPath","startWith","pathname","PATH_PREFIX","merge","_getURLPath","fullPath","query","_parseQuery","is404","isAccessible","matchPath","parsePath","parseQuery","querystr","queries","decodeURIComponent","route404","_404_PAGE_NAME","routeWithSamePattern","getRouteWithPattern","redirectPage","patternToMath","_setup404","useHistory","_observeStateChange","_observeHashChange","distinctUntilChanged","matchRoute","disposable","goReplacing","stop","sanitizedName","getPath","historyReplaceState","historyPushState","locationReplace","locationHash","history","replaceState","pushState","SUPPORTS_HISTORY_API","PARAM","Route","regexp","TRAILING_SLASHES","parts","exec","queryParams","encodeURIComponent","_parseParam","queryParam","_isNumber","merge_1","ArrayObservable_1","isScheduler_1","mergeAll_1","observables","concurrent","last","isScheduler","pop","mergeAll","ArrayObservable","ScalarObservable_1","EmptyObservable_1","array","ScalarObservable","EmptyObservable","done","mergeMap_1","identity_1","mergeMap","identity","subscribeToResult_1","OuterSubscriber_1","project","resultSelector","mergeMapOperatorFunction","MergeMapOperator","MergeMapSubscriber","hasCompleted","_tryNext","_innerSub","ish","subscribeToResult","notifyNext","outerValue","innerValue","outerIndex","innerIndex","innerSub","_notifyResultSelector","notifyComplete","OuterSubscriber","isArrayLike_1","isPromise_1","iterator_1","InnerSubscriber_1","outerSubscriber","InnerSubscriber","isArrayLike","isPromise","setTimeout","iterator","obs","msg","symbolIteratorPonyfill","Set_1","Set","Map_1","Map","$$iterator","notifyError","distinctUntilChanged_1","compare","keySelector","DistinctUntilChangedOperator","DistinctUntilChangedSubscriber","hasKey","y","Boolean","map_1","thisArg","mapOperation","MapOperator","MapSubscriber","startWith_1","concat_1","of_1","from_1","concatAll_1","from","concatAll","FromObservable_1","FromObservable","PromiseObservable_1","IteratorObservable_1","ArrayLikeObservable_1","PromiseObservable","IteratorObservable","ArrayLikeObservable","dispatchNext","dispatchError","getIterator","return","StringIterator","idx","ArrayIterator","arr","toLength","obj","maxSafeInteger","pow","numberIsFinite","sign","abs","isFinite","valueAsNumber","arrayLike","_after","CellsManagerImport","endPoint","componentPath","rel","href","onload","onerror","setAttribute","head","baseUri","pageName","_importElement","iCb","CellsManagerTemplate","_createCellsTemplate","parseTemplateId","parseTemplateName","bridgeChannelManager","oldPageName","tplName","deactivate","activate","templateName","parentNode","removeChild","CellsBridgeTemplate","zoneId","curTemplate","$","newContentComponents","newFixedChildren","getZone","CellsBridgeComponent","ignoreAttr","HTMLElement","componentConnector","privateChannels","getBridgeChannelPrefix","getAppContextChannelName","newName","getPrivateChannelPrefix","getAppContextChannel","newPageName","createEvent","oldPage","newPage","fromPage","bridgeChannels","chnlName","chnl","getEventChannelPrefix","first_1","predicate","defaultValue","EmptyError_1","FirstOperator","FirstSubscriber","_emitted","_tryPredicate","_emit","_tryResultSelector","_emitFinal","EmptyError","getBridgeChannel","_configSubscriptor","_localesSubscriptor","_logoutSubscriptor","_isAllowedProperty","pagesPath","I18nMsg","lang","_getProperyChangedName","propertyName","_EVENT_CHANGED","CaseMap","dashToCamelCase","_parseActionInEvent","targetPath","is","Element","property","CellsPolymerComponentConnector","checkDispatchActionType","mutations","observerObject","_isPolymerElement","_dispatchActionFunction","_dispatchActionProperty","disconnect","MutationObserver","attributes","childList","characterData","__isPolymerInstance__","_whichPolymerVersion","atTarget","Settings","hasShadow","normalizedEvent","dom","localTarget","currentTarget","rootTarget","parsePayload","props","getPropertyInfo","_getTargetProperties","defined","readOnly","computed","__isCellsConnected","_action","attrName","polymerVersion","__data","_hasReadOnlyEffect","_hasComputedEffect","oldValue","__data__","PolymerTemplateManager","PolymerTemplate","isPolymerElementUnresolved","isCustomElement","isPolymer1","isPolymer2","PolymerComponent"],"mappings":"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","file":"cells-polymer-bridge.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cellsPolymer\"] = factory();\n\telse\n\t\troot[\"cellsPolymer\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 62388a80eeb939f0356f","import CellsPolymerBridge from './polymer-bridge';\n\nwindow.CellsPolymerBridge = CellsPolymerBridge;\nmodule.exports = CellsPolymerBridge;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import CellsBridge from 'cells-bridge/src/bridge';\nimport PolymerComponentConnector from './polymer-component-connector';\nimport PolymerTemplateManager from './polymer-template-manager';\nimport PolymerComponent from './polymer-component';\n\nexport default class CellsPolymerBridge extends CellsBridge {\n\n  constructor(config) {\n    super(config);\n\n    if (config.avoidPolymerEventCache === true) {\n      var origGetEvent = Polymer.Base._getEvent;\n      Polymer.Base._getEvent = function(type, bubbles, cancelable) {\n        return origGetEvent(type, bubbles, cancelable, false);\n      }\n    }\n  }\n\n  _initDependencies(dependencies) {\n    dependencies = Object.assign(\n      {\n        ComponentConnector: PolymerComponentConnector,\n        TemplateManager: PolymerTemplateManager\n      },\n      dependencies\n    );\n    super._initDependencies(dependencies);\n  }\n\n  _createCellsComponent(spec, context) {\n    return new PolymerComponent(spec, context);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/polymer-bridge.js","import string from 'string';\n// eslint-disable-next-line no-unused-vars\nimport ManagerDom from './manager/dom';\nimport ManagerPage from './manager/page';\nimport ComponentConnector from './component-connector';\nimport Router from './router';\nimport Sanitizer from './sanitizer';\nimport eventManager from './manager/events';\nimport ImportManager from './manager/import';\nimport TemplateManager from './manager/template';\nimport Component from './component';\nimport BridgeChannelManager from './manager/bridge-channels';\nimport ActionChannelManager from './manager/action-channels';\n\nvar coreInstances = 0;\nvar globalChannel = {};\n\n// @TODO: Agregar los imports y eliminar los `new this.*`\n// @TODO: Revisar los mtodos que manipulan templates. Quizs deban ser responsabilidad del TemplateManager\n\nlet CellsBridge = class CellsBridge {\n  ComponentConnector = null;\n  DomManager = null;\n  ImportManager = null;\n  PageManager = null;\n  Router = null;\n  TemplateManager = null;\n  Sanitizer = null;\n  BridgeChannelManager = null;\n\t/**\n\t * Binding Type\n\t *\n\t * 'always'      => Register all components of all views. Never unregister them.\n\t * 'delayed'     => Like 'always' but waits for idle to start the animation.\n\t * 'ui'          => Register only ui and cross components of all views. Never\n\t *                  unregister them. Datamanagers are only connected when the\n\t *                  animation of the current view finishes.\n\t * 'currentview' => Register all components of the current view when the\n\t *                  animation finishes.\n\t *\n\t * @type {String}\n\t */\n  binding = 'always';\n  /**\n   *\n   */\n  prplLevel = 2;\n\t/**\n\t * Pages Cache\n\t *\n\t * Saves page definitions into localstorage.\n\t *\n\t * @type {Boolean}\n\t */\n  cache = true;\n\t/**\n\t * PubSub Context\n\t *\n\t * 'global'   => Notifies all components of all bridge instances.\n\t * 'local'    => Notifies components created by the current bridge instance.\n\t *\n\t * @type {String}\n\t */\n  channel = 'global';\n\t/**\n\t * URL Components Path\n\t *\n\t * URL path to load components.\n\t *\n\t * @type {String}\n\t */\n  componentsPath = '';\n  /**\n\t * URL templates Path\n\t *\n\t * URL path to load templates.\n\t *\n\t * @type {String}\n\t */\n  templatesPath = '';\n\t/**\n\t * Cross container node Id\n\t *\n\t * @type {String}\n\t */\n  crossContainerId = '__cross';\n\t/**\n\t * Prints debug info\n\t *\n\t * @type {Boolean}\n\t */\n  debug = true;\n\t/**\n\t * Proactive Cache.\n\t * Loads future pages definition.\n\t *\n\t * @type {Boolean}\n\t */\n  preCache = false;\n\t/**\n\t * Proactive Render\n\t * Render future pages.\n\t *\n\t * @type {Boolean}\n\t */\n  preRender = false;\n\t/**\n\t * Prefix for LocalStorage keys\n\t *\n\t * @type {String}\n\t */\n  storagePrefix = '__bridge-';\n\t/**\n\t * Lib version.\n\t *\n\t * @type {string}\n\t */\n  version = '__VERSION__';\n\t/**\n\t * Max number of views\n\t *\n\t * Keeps this number of template alive.\n\t *\n\t * @type {Number}\n\t */\n  viewLimit = 6;\n  /**\n   * The name of the initial template that gets rendered\n   *\n   * @type {String}\n   */\n  initialTemplate = 'login';\n\n  /**\n\t * Events to expose\n\t *\n\t *\n\t * @type {Array}\n\t */\n  externalEvents = [\n    'page-ready', 'parse-route', 'after-publish', 'nav-request', 'before-set-attr-to-node',\n    'after-set-attr-to-node', 'before-create-node', 'after-create-node', 'before-import',\n    'after-import', 'page-request', 'page-response', 'data-load', 'template-transition-end',\n    'track-event', 'template-registered'\n  ];\n\n  constructor(config) {\n\n    if (!config || typeof config !== 'object') {\n      config = {};\n    }\n\n    let dependencies = config.dependencies;\n    delete config.dependencies;\n    Object.assign(this, config);\n\n    this._initDependencies(dependencies);\n\n    if (this.channel === 'global') {\n      this.ComponentConnector.manager.channels = globalChannel;\n    }\n\n    if (!this.mainNode) {\n      console.warn('You should indicate the main node of your app');\n    } else {\n      this._plugExternalEvents();\n    }\n\n    this.id = coreInstances++;\n    this._initCrossComponents();\n\n    if (this.cache) {\n      this.PageManager.persistent = true;\n    }\n    if (this.generateRequestUrl) {\n      console.assert(\n        typeof this.generateRequestUrl === 'function',\n        'generateRequestUrl has to be a function'\n      );\n      this.PageManager.generateRequestUrl = this.generateRequestUrl;\n    }\n    if (this.onPageDefinitionNotFound) {\n      console.assert(\n        typeof this.onPageDefinitionNotFound === 'function',\n        'onPageDefinitionNotFound has to be a function'\n      );\n      this.PageManager.onPageDefinitionNotFound = this.onPageDefinitionNotFound;\n    }\n    window.$core = window.$core || [];\n    /* istanbul ignore else */\n    if (this.debug) {\n      window.$core.push(this);\n      this.printDebugInfo();\n    } else {\n      window.$core.push(\n        {\n          logout: this.logout.bind(this),\n          subscribeToEvent: this.subscribeToEvent.bind(this)\n        }\n      );\n    }\n\n    this.BridgeChannelManager.initAppContextChannel();\n    this.ActionChannelManager.subscribeAll();\n\n    // 1. Listen for route changes\n    // @TODO: Revisar este binding de un mtodo de otro objeto a otro objeto\n    this.Router.handler = this.routeHandler.bind(this);\n    this.Router.addRoutes(this.routes);\n    this.Router.start();\n\n    eventManager.on(\n      'nav-request',\n      function (info) {\n        var event = info.event;\n        var navigationDetail = info.detail;\n        var page = navigationDetail.page;\n        var params = navigationDetail.params;\n        var p = {};\n        if (!page && navigationDetail.paramPage && event.detail) {\n          page = event.detail[navigationDetail.paramPage];\n        }\n        if (event.detail && params) {\n          for (var param in params) {\n            if (params.hasOwnProperty(param)) {\n              p[params[param]] = event.detail[param];\n            }\n          }\n        }\n        this.Router.go(page, p);\n        Object.assign(this, config);\n      }.bind(this)\n    );\n  }\n\n  _plugExternalEvents() {\n    let len = this.externalEvents.length;\n    let mainNode = document.querySelector('#' + this.mainNode);\n    let setExternalEvent = function (name, payload) {\n      let event = (payload) ? new CustomEvent(name, { detail: payload }) : new CustomEvent(name);\n      mainNode.dispatchEvent(event);\n    }\n    if (mainNode) {\n      for (let i = 0; i < len; i++) {\n        eventManager.on(this.externalEvents[i], (data) => {\n          setExternalEvent(this.externalEvents[i], data);\n        });\n      }\n      this._initEventChannels();\n    } else {\n      console.warn('The defined main node does not exist');\n    }\n  }\n\n  _initEventChannels() {\n    let mainNode = document.querySelector('#' + this.mainNode);\n    this.BridgeChannelManager.initEventChannels(mainNode, this.externalEvents);\n    this._addInitialSubscribersToEvents();\n  }\n\n  _addInitialSubscribersToEvents() {\n    if (this.eventSubscriptions && this.eventSubscriptions.length > 0) {\n      this._subscribeToEvents(this.eventSubscriptions);\n    }\n  }\n\n  _subscribeToEvents(eventSubscriptions) {\n    eventSubscriptions.forEach(function(subscription) {\n      this.subscribeToEvent(subscription.event, subscription.callback);\n    }.bind(this));\n  }\n\n  _initCrossComponents() {\n    // Cross components case: creates a cardboard template\n    var crossContainer = this.TemplateManager.create(\n      this.crossContainerId, {\n        tagName: 'div'\n      }\n    );\n    document.body.appendChild(crossContainer.node);\n  }\n\n  _initDependencies(dependencies) {\n    dependencies = Object.assign(\n      {\n        ComponentConnector: ComponentConnector,\n        DomManager: ManagerDom,\n        ImportManager: ImportManager,\n        PageManager: ManagerPage,\n        TemplateManager: TemplateManager,\n        Router: Router,\n        Sanitizer: Sanitizer,\n        BridgeChannelManager: BridgeChannelManager,\n        ActionChannelManager: ActionChannelManager\n      },\n      dependencies\n    );\n    for (let dependence in dependencies) {\n      if (dependencies.hasOwnProperty(dependence)) {\n        this[dependence] = new dependencies[dependence](this);\n      }\n    }\n  }\n\n  _createCellsComponent(spec, context) {\n    return new Component(spec, context);\n  }\n\n  createCCComponent(spec) {\n    var container = this.TemplateManager.get(this.crossContainerId);\n    var node = container.node.querySelector(spec.tagName);\n    if (!node) {\n      var cmp = this._createCellsComponent(spec, this);\n      cmp.__parentTemplate = container;\n      this.ComponentConnector.register(cmp.node, cmp.spec.connections);\n      return cmp;\n    } else {\n      this.ComponentConnector.progressiveRegister(node, spec.connections);\n    }\n  }\n\n  createUIComponent(spec) {\n    var bindingType = this.binding;\n    var cmp = this._createCellsComponent(spec, this);\n    if (bindingType === 'always' || bindingType === 'delayed' || bindingType === 'ui') {\n      this.ComponentConnector.register(cmp.node, cmp.connections);\n    }\n    return cmp;\n  }\n\n  createDMComponent(spec) {\n    var bindingType = this.binding;\n    var cmp = this._createCellsComponent(spec, this);\n    if (bindingType === 'always' || bindingType === 'delayed') {\n      this.ComponentConnector.register(cmp.node, cmp.connections);\n    }\n    return cmp;\n  }\n\n  _createLocalComponent(type, items, template) {\n    var collection = [];\n    for (var i = 0, l = items.length; i < l; i++) {\n      var spec = items[i];\n      var cmp = this['create' + type + 'Component'](spec);\n      if (cmp) {\n        cmp.__parentTemplate = cmp.__parentTemplate || template;\n        collection.push(cmp);\n      }\n    }\n    return collection;\n  }\n\n  createComponentsByType(collection, template) {\n    var itemsToInject = [];\n    var sortedList = ['CC', 'UI', 'DM'];\n    for (var j = 0, k = sortedList.length; j < k; j++) {\n      var type = sortedList[j];\n      var items = collection[type];\n      itemsToInject = itemsToInject.concat(this._createLocalComponent(type, items, template));\n    }\n    return itemsToInject;\n  }\n\n  _createComponents(response, template, isPreRendering = false) {\n    var options = this;\n    var collection = this.Sanitizer.split(response.components);\n    var components = this.createComponentsByType(collection, template);\n    var unresolvedComponents = [];\n    var templateParents = [];\n\n    for (var i = 0, l = components.length; i < l; i++) {\n      // 9. Sets default attributes\n      components[i].setProps();\n      var component = components[i];\n      var parentName = component.__parentTemplate.name;\n      if (!templateParents[parentName]) {\n        templateParents[parentName] = this.TemplateManager.get(parentName);\n      }\n      // 9.1 Append components to template\n      templateParents[parentName].append(component);\n\n      if (component.isUnresolved()) {\n        unresolvedComponents.push(component);\n      }\n    }\n    eventManager.emit('page-ready');\n    this.ImportManager.loadComponent(\n      unresolvedComponents,\n      this.selectTemplate.bind(this, response.page, isPreRendering),\n      options.componentsPath\n    );\n  }\n\n  loadTemplate(name, params) {\n    var options = this;\n    return this.PageManager.get(\n      name, {\n        cache: options.cache,\n        params: params,\n        method: options.method,\n        body: options.body,\n        headers: options.headers\n      },\n      {\n        app: this.app,\n        templates: this.templatesPath\n      }\n    );\n  }\n\n  createTemplate(response, isPreRendering = false) {\n    var spec = response;\n    var name = response.page;\n    var node = this.TemplateManager.getNode(name);\n    this.BridgeChannelManager.getPrivate(name);\n    // Template is cached\n    if (node && !node.invalidate) {\n      this.selectTemplate(name, isPreRendering);\n    } else {\n      if (node) {\n        node.invalidate = false;\n      }\n      // Template not cached and has definition\n      if (spec && spec.template) {\n        if (this.prplLevel>0) {\n          this.ImportManager.loadBundleForTemplate(\n            this.componentsPath,\n            name,\n            this._createTemplateFromSpec.bind(this, name, spec, isPreRendering),\n          );\n        } else {\n          this._createTemplateFromSpec(name, spec, isPreRendering);\n        }\n      }\n    }\n    this._preRender(response, isPreRendering);\n  }\n\n  _preRender(response, isPreRendering) {\n    if (this.preCache === true && response.pages) {\n      for (var page in response.pages) {\n        let pageAlreadyLoaded = (page === name || this.TemplateManager.cache[page]);\n        if (pageAlreadyLoaded) {\n          continue;\n        }\n        this.loadTemplate(page).then(\n          function (templateResponse) {\n            if (this.preRender) {\n              if (isPreRendering === false) {\n                let doPreRender = true;\n                if (templateResponse.page) {\n                  let create = this.createTemplate.bind(this, templateResponse, doPreRender);\n                  this._idleCallback(create);\n                } else {\n                  console.warn('Missing page. ', templateResponse);\n                }\n              }\n            }\n          }.bind(this)\n        );\n      }\n    }\n  }\n\n  _createTemplateFromSpec(name, spec, isPreRendering = false) {\n    // 4. Creates the new template\n    var template = this.TemplateManager.create(name, spec.template);\n    this.ComponentConnector.register(template.node, template.connections);\n    // Add new routes in router\n    if (spec.pages) {\n      this.Router.addRoutes(spec.pages);\n    }\n    // 5. Import it when doesn't exists\n    if (template.isUnresolved()) {\n      this.ImportManager.loadComponent(\n        template,\n        this._createComponents.bind(this, spec, template, isPreRendering),\n        this.componentsPath\n      );\n    } else {\n      this._createComponents.call(this, spec, template, isPreRendering);\n    }\n  }\n\n\t/**\n\t * Id for template node\n\t *\n\t * @param  {String} name Template name\n\t *\n\t * @return {String}\n\t */\n  parseTemplateId(name) {\n    return 'cells-template-' + name.replace(/\\./g, '-');\n  }\n\n  parse(name, value) {\n    name = string('parse-' + name).camelize().s;\n    return typeof this[name] === 'function' ?\n      this[name](value) :\n      value;\n  }\n\n  printDebugInfo() {\n    var getColor = function (option, color) {\n      var hexColor = option ?\n        color :\n        '#b0bec5';\n      return `background:${hexColor}; color:#fff; padding:2px 4px; margin-right: 5px;`;\n    };\n    console.log(\n      `%cbridge version: ${this.version} %cbinding: ${this.binding} %ccache: ${this.cache} %cpreCache: ${this.preCache} %cpreRender: ${this.preRender}`,\n      getColor(this.version, '#003f8d'),\n      getColor(this.binding, '#0065ba'),\n      getColor(this.cache, '#0093e2'),\n      getColor(this.preCache, '#00aeeb'),\n      getColor(this.preRender, '#41cef8') //#00aeeb\n    );\n\n    if (this.id > 0) {\n      console.log(`%cWARNING: There are ${this.id + 1} simultaneous instances of the Bridge running.`,\n      getColor(this.id, '#FF0000'));\n    }\n  }\n\n  routeHandler() {\n    var route = this.Router.currentRoute;\n\n    // route = this.parse('route', route);\n    eventManager.emit('parse-route', route);\n    // 2. Load a new page when route changes\n    this.loadTemplate(route.name, route.params).then(this.createTemplate.bind(this));\n    // 3. Publish URL params to global params.\n    for (let param in route.params) {\n      if (route.params.hasOwnProperty(param)) {\n        let eventData = {\n          detail: {\n            value: route.params[param]\n          },\n          type: string(param).dasherize().s + '-changed'\n        };\n\n        this.ComponentConnector.manager.get(param).next(eventData);\n      }\n    }\n  }\n\n  registerCurrentTemplate(currentTemplate, previousTemplate) {\n    var options = this;\n    this.registerChildren(currentTemplate, options.binding === 'ui' ? 'DM' : null);\n    if (previousTemplate && previousTemplate !== currentTemplate) {\n      this.unregisterChildren(previousTemplate, options.binding === 'ui' ? 'DM' : null);\n    }\n    if (this.BridgeChannelManager) {\n      var oldName = previousTemplate ? previousTemplate.name : undefined;\n      this.BridgeChannelManager.updateAppContext(oldName, currentTemplate.name);\n      this.BridgeChannelManager.initPrivateChannel(oldName, currentTemplate.name);\n    }\n    eventManager.emit('template-registered', { template: currentTemplate.name });\n  }\n\n  registerChildren(template, type) {\n    for (let component of template.children) {\n      if ((type && type === component.type) || !type) {\n        this.ComponentConnector.register(component.node, component.connections);\n      }\n    }\n  }\n\n  unregisterChildren(template, type) {\n    for (let component of template.children) {\n      if ((type && type === component.type) || !type) {\n        this.ComponentConnector.unregister(component.node);\n      }\n    }\n  }\n\n  selectTemplate(name, isPreRendering = false) {\n    var options = this;\n    var template = this.TemplateManager.get(name);\n    if ((options.binding === 'currentview' || options.binding === 'ui') && (isPreRendering !== true)) {\n      var onTemplateAnimationFinishes = this.registerCurrentTemplate.bind(\n        this,\n        template,\n        this.TemplateManager.get(this.TemplateManager.selected)\n      );\n      if (template.node.animationCompleteEvent) {\n        eventManager.listenToOnce(template.node, template.node.animationCompleteEvent, onTemplateAnimationFinishes);\n      } else {\n        eventManager.once('template-transition-end', onTemplateAnimationFinishes);\n      }\n    }\n    if (options.onRender) {\n      if (template.fixedChildren.length>0) {\n        options.onRender(template.node, template.fixedChildren);\n      } else {\n        options.onRender(template.node);\n      }\n    }\n    // 10. Shows the template created\n    if (isPreRendering !== true) {\n      var animateTemplate = this.TemplateManager.select.bind(this.TemplateManager, name, this.BridgeChannelManager, options.binding);\n      if (options.binding === 'delayed') {\n        this._idleCallback(animateTemplate);\n      } else {\n        animateTemplate()\n      }\n    }\n  }\n\n  _idleCallback(fn) {\n    this.BridgeChannelManager.getIdleCallbackChannel().first().subscribe(fn);\n  }\n\n  /**\n   *\n   * It subscribe the main node to an event channel.\n   *\n   * @param {*} eventName is the name of the event to subscribe\n   * @param {*} callback is the function to call when the event channel is activated with a new value\n   */\n  subscribeToEvent(eventName, callback) {\n    if (this.externalEvents.indexOf(eventName)<0) {\n      console.warn('Trying to subscribe to a non existing event: ', eventName);\n      return;\n    }\n    if (typeof callback !== 'function') {\n      console.warn('You must provide a function callback to subscribe to the event: ', eventName);\n      return;\n    }\n    let mainNode = this.getMainNode();\n    this.BridgeChannelManager.subscribeToEvent(mainNode, eventName, callback);\n  }\n\n  getMainNode() {\n    return document.querySelector('#' + this.mainNode);\n  }\n\n  _resetBridgeChannels() {\n    this.BridgeChannelManager.resetBridgeChannels(this.getMainNode());\n  }\n\n  /**\n   *\n   * Performs a logout action. It resets all channels, removes templates from DOM\n   * and redirects to the initial page\n   *\n   */\n  logout() {\n\n    if (this.TemplateManager.selected === this.initialTemplate) {\n      return;\n    }\n\n    let removeTemplates = function() {\n      this.TemplateManager.removeTemplates(this.initialTemplate, this.crossContainerId);\n    }.bind(this);\n\n    let removeCrossComponents = function() {\n      this.TemplateManager.removeTemplateChildrens(this.crossContainerId);\n    }.bind(this);\n\n    let removeInitialTemplateToForceFreshLoadingAndCCRegistration = function() {\n      this.TemplateManager.removeTemplate(this.initialTemplate);\n    }.bind(this);\n\n    this._resetBridgeChannels();\n    removeCrossComponents();\n    removeInitialTemplateToForceFreshLoadingAndCCRegistration();\n    eventManager.once('template-registered', removeTemplates);\n    this._addInitialSubscribersToEvents();\n    this.Router.go(this.initialTemplate);\n  }\n}\n\nexport default CellsBridge;\n\n\n\n// WEBPACK FOOTER //\n// ./~/cells-bridge/src/bridge.js","/*\nstring.js - Copyright (C) 2012-2014, JP Richardson <jprichardson@gmail.com>\n*/\n\n!(function() {\n  \"use strict\";\n\n  var VERSION = '3.3.3';\n\n  var ENTITIES = {};\n\n  // from http://semplicewebsites.com/removing-accents-javascript\n  var latin_map={\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"AA\",\"\":\"AE\",\"\":\"AE\",\"\":\"AE\",\"\":\"AO\",\"\":\"AU\",\"\":\"AV\",\"\":\"AV\",\"\":\"AY\",\"\":\"B\",\"\":\"B\",\"\":\"B\",\"\":\"B\",\"\":\"B\",\"\":\"B\",\"\":\"C\",\"\":\"C\",\"\":\"C\",\"\":\"C\",\"\":\"C\",\"\":\"C\",\"\":\"C\",\"\":\"C\",\"\":\"D\",\"\":\"D\",\"\":\"D\",\"\":\"D\",\"\":\"D\",\"\":\"D\",\"\":\"D\",\"\":\"D\",\"\":\"D\",\"\":\"D\",\"\":\"D\",\"\":\"DZ\",\"\":\"DZ\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"ET\",\"\":\"F\",\"\":\"F\",\"\":\"G\",\"\":\"G\",\"\":\"G\",\"\":\"G\",\"\":\"G\",\"\":\"G\",\"\":\"G\",\"\":\"G\",\"\":\"G\",\"\":\"H\",\"\":\"H\",\"\":\"H\",\"\":\"H\",\"\":\"H\",\"\":\"H\",\"\":\"H\",\"\":\"H\",\"\":\"H\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"D\",\"\":\"F\",\"\":\"G\",\"\":\"R\",\"\":\"S\",\"\":\"T\",\"\":\"IS\",\"\":\"J\",\"\":\"J\",\"\":\"K\",\"\":\"K\",\"\":\"K\",\"\":\"K\",\"\":\"K\",\"\":\"K\",\"\":\"K\",\"\":\"K\",\"\":\"K\",\"\":\"K\",\"\":\"L\",\"\":\"L\",\"\":\"L\",\"\":\"L\",\"\":\"L\",\"\":\"L\",\"\":\"L\",\"\":\"L\",\"\":\"L\",\"\":\"L\",\"\":\"L\",\"\":\"L\",\"\":\"L\",\"\":\"L\",\"\":\"LJ\",\"\":\"M\",\"\":\"M\",\"\":\"M\",\"\":\"M\",\"\":\"N\",\"\":\"N\",\"\":\"N\",\"\":\"N\",\"\":\"N\",\"\":\"N\",\"\":\"N\",\"\":\"N\",\"\":\"N\",\"\":\"N\",\"\":\"N\",\"\":\"N\",\"\":\"NJ\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"OI\",\"\":\"OO\",\"\":\"E\",\"\":\"O\",\"\":\"OU\",\"\":\"P\",\"\":\"P\",\"\":\"P\",\"\":\"P\",\"\":\"P\",\"\":\"P\",\"\":\"P\",\"\":\"Q\",\"\":\"Q\",\"\":\"R\",\"\":\"R\",\"\":\"R\",\"\":\"R\",\"\":\"R\",\"\":\"R\",\"\":\"R\",\"\":\"R\",\"\":\"R\",\"\":\"R\",\"\":\"R\",\"\":\"C\",\"\":\"E\",\"\":\"S\",\"\":\"S\",\"\":\"S\",\"\":\"S\",\"\":\"S\",\"\":\"S\",\"\":\"S\",\"\":\"S\",\"\":\"S\",\"\":\"S\",\"\":\"SS\",\"\":\"T\",\"\":\"T\",\"\":\"T\",\"\":\"T\",\"\":\"T\",\"\":\"T\",\"\":\"T\",\"\":\"T\",\"\":\"T\",\"\":\"T\",\"\":\"T\",\"\":\"A\",\"\":\"L\",\"\":\"M\",\"\":\"V\",\"\":\"TZ\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"V\",\"\":\"V\",\"\":\"V\",\"\":\"V\",\"\":\"VY\",\"\":\"W\",\"\":\"W\",\"\":\"W\",\"\":\"W\",\"\":\"W\",\"\":\"W\",\"\":\"W\",\"\":\"X\",\"\":\"X\",\"\":\"Y\",\"\":\"Y\",\"\":\"Y\",\"\":\"Y\",\"\":\"Y\",\"\":\"Y\",\"\":\"Y\",\"\":\"Y\",\"\":\"Y\",\"\":\"Y\",\"\":\"Y\",\"\":\"Y\",\"\":\"Z\",\"\":\"Z\",\"\":\"Z\",\"\":\"Z\",\"\":\"Z\",\"\":\"Z\",\"\":\"Z\",\"\":\"Z\",\"\":\"Z\",\"\":\"IJ\",\"\":\"OE\",\"\":\"A\",\"\":\"AE\",\"\":\"B\",\"\":\"B\",\"\":\"C\",\"\":\"D\",\"\":\"E\",\"\":\"F\",\"\":\"G\",\"\":\"G\",\"\":\"H\",\"\":\"I\",\"\":\"R\",\"\":\"J\",\"\":\"K\",\"\":\"L\",\"\":\"L\",\"\":\"M\",\"\":\"N\",\"\":\"O\",\"\":\"OE\",\"\":\"O\",\"\":\"OU\",\"\":\"P\",\"\":\"R\",\"\":\"N\",\"\":\"R\",\"\":\"S\",\"\":\"T\",\"\":\"E\",\"\":\"R\",\"\":\"U\",\"\":\"V\",\"\":\"W\",\"\":\"Y\",\"\":\"Z\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"aa\",\"\":\"ae\",\"\":\"ae\",\"\":\"ae\",\"\":\"ao\",\"\":\"au\",\"\":\"av\",\"\":\"av\",\"\":\"ay\",\"\":\"b\",\"\":\"b\",\"\":\"b\",\"\":\"b\",\"\":\"b\",\"\":\"b\",\"\":\"b\",\"\":\"b\",\"\":\"o\",\"\":\"c\",\"\":\"c\",\"\":\"c\",\"\":\"c\",\"\":\"c\",\"\":\"c\",\"\":\"c\",\"\":\"c\",\"\":\"c\",\"\":\"d\",\"\":\"d\",\"\":\"d\",\"\":\"d\",\"\":\"d\",\"\":\"d\",\"\":\"d\",\"\":\"d\",\"\":\"d\",\"\":\"d\",\"\":\"d\",\"\":\"d\",\"\":\"d\",\"\":\"d\",\"\":\"i\",\"\":\"j\",\"\":\"j\",\"\":\"j\",\"\":\"dz\",\"\":\"dz\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"et\",\"\":\"f\",\"\":\"f\",\"\":\"f\",\"\":\"f\",\"\":\"g\",\"\":\"g\",\"\":\"g\",\"\":\"g\",\"\":\"g\",\"\":\"g\",\"\":\"g\",\"\":\"g\",\"\":\"g\",\"\":\"g\",\"\":\"h\",\"\":\"h\",\"\":\"h\",\"\":\"h\",\"\":\"h\",\"\":\"h\",\"\":\"h\",\"\":\"h\",\"\":\"h\",\"\":\"h\",\"\":\"h\",\"\":\"hv\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"d\",\"\":\"f\",\"\":\"g\",\"\":\"r\",\"\":\"s\",\"\":\"t\",\"\":\"is\",\"\":\"j\",\"\":\"j\",\"\":\"j\",\"\":\"j\",\"\":\"k\",\"\":\"k\",\"\":\"k\",\"\":\"k\",\"\":\"k\",\"\":\"k\",\"\":\"k\",\"\":\"k\",\"\":\"k\",\"\":\"k\",\"\":\"k\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"lj\",\"\":\"s\",\"\":\"s\",\"\":\"s\",\"\":\"s\",\"\":\"m\",\"\":\"m\",\"\":\"m\",\"\":\"m\",\"\":\"m\",\"\":\"m\",\"\":\"n\",\"\":\"n\",\"\":\"n\",\"\":\"n\",\"\":\"n\",\"\":\"n\",\"\":\"n\",\"\":\"n\",\"\":\"n\",\"\":\"n\",\"\":\"n\",\"\":\"n\",\"\":\"n\",\"\":\"n\",\"\":\"n\",\"\":\"nj\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"oi\",\"\":\"oo\",\"\":\"e\",\"\":\"e\",\"\":\"o\",\"\":\"o\",\"\":\"ou\",\"\":\"p\",\"\":\"p\",\"\":\"p\",\"\":\"p\",\"\":\"p\",\"\":\"p\",\"\":\"p\",\"\":\"p\",\"\":\"p\",\"\":\"q\",\"\":\"q\",\"\":\"q\",\"\":\"q\",\"\":\"r\",\"\":\"r\",\"\":\"r\",\"\":\"r\",\"\":\"r\",\"\":\"r\",\"\":\"r\",\"\":\"r\",\"\":\"r\",\"\":\"r\",\"\":\"r\",\"\":\"r\",\"\":\"r\",\"\":\"r\",\"\":\"r\",\"\":\"r\",\"\":\"c\",\"\":\"c\",\"\":\"e\",\"\":\"r\",\"\":\"s\",\"\":\"s\",\"\":\"s\",\"\":\"s\",\"\":\"s\",\"\":\"s\",\"\":\"s\",\"\":\"s\",\"\":\"s\",\"\":\"s\",\"\":\"s\",\"\":\"s\",\"\":\"s\",\"\":\"s\",\"\":\"g\",\"\":\"ss\",\"\":\"o\",\"\":\"o\",\"\":\"u\",\"\":\"t\",\"\":\"t\",\"\":\"t\",\"\":\"t\",\"\":\"t\",\"\":\"t\",\"\":\"t\",\"\":\"t\",\"\":\"t\",\"\":\"t\",\"\":\"t\",\"\":\"t\",\"\":\"t\",\"\":\"t\",\"\":\"t\",\"\":\"th\",\"\":\"a\",\"\":\"ae\",\"\":\"e\",\"\":\"g\",\"\":\"h\",\"\":\"h\",\"\":\"h\",\"\":\"i\",\"\":\"k\",\"\":\"l\",\"\":\"m\",\"\":\"m\",\"\":\"oe\",\"\":\"r\",\"\":\"r\",\"\":\"r\",\"\":\"r\",\"\":\"t\",\"\":\"v\",\"\":\"w\",\"\":\"y\",\"\":\"tz\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"ue\",\"\":\"um\",\"\":\"v\",\"\":\"v\",\"\":\"v\",\"\":\"v\",\"\":\"v\",\"\":\"v\",\"\":\"v\",\"\":\"vy\",\"\":\"w\",\"\":\"w\",\"\":\"w\",\"\":\"w\",\"\":\"w\",\"\":\"w\",\"\":\"w\",\"\":\"w\",\"\":\"x\",\"\":\"x\",\"\":\"x\",\"\":\"y\",\"\":\"y\",\"\":\"y\",\"\":\"y\",\"\":\"y\",\"\":\"y\",\"\":\"y\",\"\":\"y\",\"\":\"y\",\"\":\"y\",\"\":\"y\",\"\":\"y\",\"\":\"y\",\"\":\"z\",\"\":\"z\",\"\":\"z\",\"\":\"z\",\"\":\"z\",\"\":\"z\",\"\":\"z\",\"\":\"z\",\"\":\"z\",\"\":\"z\",\"\":\"z\",\"\":\"z\",\"\":\"z\",\"\":\"z\",\"\":\"ff\",\"\":\"ffi\",\"\":\"ffl\",\"\":\"fi\",\"\":\"fl\",\"\":\"ij\",\"\":\"oe\",\"\":\"st\",\"\":\"a\",\"\":\"e\",\"\":\"i\",\"\":\"j\",\"\":\"o\",\"\":\"r\",\"\":\"u\",\"\":\"v\",\"\":\"x\"};\n\n//******************************************************************************\n// Added an initialize function which is essentially the code from the S\n// constructor.  Now, the S constructor calls this and a new method named\n// setValue calls it as well.  The setValue function allows constructors for\n// modules that extend string.js to set the initial value of an object without\n// knowing the internal workings of string.js.\n//\n// Also, all methods which return a new S object now call:\n//\n//      return new this.constructor(s);\n//\n// instead of:\n//\n//      return new S(s);\n//\n// This allows extended objects to keep their proper instanceOf and constructor.\n//******************************************************************************\n\n  function initialize (object, s) {\n    if (s !== null && s !== undefined) {\n      if (typeof s === 'string')\n        object.s = s;\n      else\n        object.s = s.toString();\n    } else {\n      object.s = s; //null or undefined\n    }\n\n    object.orig = s; //original object, currently only used by toCSV() and toBoolean()\n\n    if (s !== null && s !== undefined) {\n      if (object.__defineGetter__) {\n        object.__defineGetter__('length', function() {\n          return object.s.length;\n        })\n      } else {\n        object.length = s.length;\n      }\n    } else {\n      object.length = -1;\n    }\n  }\n\n  function S(s) {\n  \tinitialize(this, s);\n  }\n\n  var __nsp = String.prototype;\n  var __sp = S.prototype = {\n\n    between: function(left, right) {\n      var s = this.s;\n      var startPos = s.indexOf(left);\n      var endPos = s.indexOf(right, startPos + left.length);\n      if (endPos == -1 && right != null)\n        return new this.constructor('')\n      else if (endPos == -1 && right == null)\n        return new this.constructor(s.substring(startPos + left.length))\n      else\n        return new this.constructor(s.slice(startPos + left.length, endPos));\n    },\n\n    //# modified slightly from https://github.com/epeli/underscore.string\n    camelize: function() {\n      var s = this.trim().s.replace(/(\\-|_|\\s)+(.)?/g, function(mathc, sep, c) {\n        return (c ? c.toUpperCase() : '');\n      });\n      return new this.constructor(s);\n    },\n\n    capitalize: function() {\n      return new this.constructor(this.s.substr(0, 1).toUpperCase() + this.s.substring(1).toLowerCase());\n    },\n\n    charAt: function(index) {\n      return this.s.charAt(index);\n    },\n\n    chompLeft: function(prefix) {\n      var s = this.s;\n      if (s.indexOf(prefix) === 0) {\n         s = s.slice(prefix.length);\n         return new this.constructor(s);\n      } else {\n        return this;\n      }\n    },\n\n    chompRight: function(suffix) {\n      if (this.endsWith(suffix)) {\n        var s = this.s;\n        s = s.slice(0, s.length - suffix.length);\n        return new this.constructor(s);\n      } else {\n        return this;\n      }\n    },\n\n    //#thanks Google\n    collapseWhitespace: function() {\n      var s = this.s.replace(/[\\s\\xa0]+/g, ' ').replace(/^\\s+|\\s+$/g, '');\n      return new this.constructor(s);\n    },\n\n    contains: function(ss) {\n      return this.s.indexOf(ss) >= 0;\n    },\n\n    count: function(ss) {\n      return require('./_count')(this.s, ss)\n    },\n\n    //#modified from https://github.com/epeli/underscore.string\n    dasherize: function() {\n      var s = this.trim().s.replace(/[_\\s]+/g, '-').replace(/([A-Z])/g, '-$1').replace(/-+/g, '-').toLowerCase();\n      return new this.constructor(s);\n    },\n    \n    equalsIgnoreCase: function(prefix) {\n      var s = this.s;\n      return s.toLowerCase() == prefix.toLowerCase()\n    },\n\n    latinise: function() {\n      var s = this.replace(/[^A-Za-z0-9\\[\\] ]/g, function(x) { return latin_map[x] || x; });\n      return new this.constructor(s);\n    },\n\n    decodeHtmlEntities: function() { //https://github.com/substack/node-ent/blob/master/index.js\n      var s = this.s;\n      s = s.replace(/&#(\\d+);?/g, function (_, code) {\n        return String.fromCharCode(code);\n      })\n      .replace(/&#[xX]([A-Fa-f0-9]+);?/g, function (_, hex) {\n        return String.fromCharCode(parseInt(hex, 16));\n      })\n      .replace(/&([^;\\W]+;?)/g, function (m, e) {\n        var ee = e.replace(/;$/, '');\n        var target = ENTITIES[e] || (e.match(/;$/) && ENTITIES[ee]);\n\n        if (typeof target === 'number') {\n          return String.fromCharCode(target);\n        }\n        else if (typeof target === 'string') {\n          return target;\n        }\n        else {\n          return m;\n        }\n      })\n\n      return new this.constructor(s);\n    },\n\n    endsWith: function() {\n      var suffixes = Array.prototype.slice.call(arguments, 0);\n      for (var i = 0; i < suffixes.length; ++i) {\n        var l  = this.s.length - suffixes[i].length;\n        if (l >= 0 && this.s.indexOf(suffixes[i], l) === l) return true;\n      }\n      return false;\n    },\n\n    escapeHTML: function() { //from underscore.string\n      return new this.constructor(this.s.replace(/[&<>\"']/g, function(m){ return '&' + reversedEscapeChars[m] + ';'; }));\n    },\n\n    ensureLeft: function(prefix) {\n      var s = this.s;\n      if (s.indexOf(prefix) === 0) {\n        return this;\n      } else {\n        return new this.constructor(prefix + s);\n      }\n    },\n\n    ensureRight: function(suffix) {\n      var s = this.s;\n      if (this.endsWith(suffix))  {\n        return this;\n      } else {\n        return new this.constructor(s + suffix);\n      }\n    },\n\n    humanize: function() { //modified from underscore.string\n      if (this.s === null || this.s === undefined)\n        return new this.constructor('')\n      var s = this.underscore().replace(/_id$/,'').replace(/_/g, ' ').trim().capitalize()\n      return new this.constructor(s)\n    },\n\n    isAlpha: function() {\n      return !/[^a-z\\xDF-\\xFF]|^$/.test(this.s.toLowerCase());\n    },\n\n    isAlphaNumeric: function() {\n      return !/[^0-9a-z\\xDF-\\xFF]/.test(this.s.toLowerCase());\n    },\n\n    isEmpty: function() {\n      return this.s === null || this.s === undefined ? true : /^[\\s\\xa0]*$/.test(this.s);\n    },\n\n    isLower: function() {\n      return this.isAlpha() && this.s.toLowerCase() === this.s;\n    },\n\n    isNumeric: function() {\n      return !/[^0-9]/.test(this.s);\n    },\n\n    isUpper: function() {\n      return this.isAlpha() && this.s.toUpperCase() === this.s;\n    },\n\n    left: function(N) {\n      if (N >= 0) {\n        var s = this.s.substr(0, N);\n        return new this.constructor(s);\n      } else {\n        return this.right(-N);\n      }\n    },\n\n    lines: function() { //convert windows newlines to unix newlines then convert to an Array of lines\n      return this.replaceAll('\\r\\n', '\\n').s.split('\\n');\n    },\n\n    pad: function(len, ch) { //https://github.com/component/pad\n      if (ch == null) ch = ' ';\n      if (this.s.length >= len) return new this.constructor(this.s);\n      len = len - this.s.length;\n      var left = Array(Math.ceil(len / 2) + 1).join(ch);\n      var right = Array(Math.floor(len / 2) + 1).join(ch);\n      return new this.constructor(left + this.s + right);\n    },\n\n    padLeft: function(len, ch) { //https://github.com/component/pad\n      if (ch == null) ch = ' ';\n      if (this.s.length >= len) return new this.constructor(this.s);\n      return new this.constructor(Array(len - this.s.length + 1).join(ch) + this.s);\n    },\n\n    padRight: function(len, ch) { //https://github.com/component/pad\n      if (ch == null) ch = ' ';\n      if (this.s.length >= len) return new this.constructor(this.s);\n      return new this.constructor(this.s + Array(len - this.s.length + 1).join(ch));\n    },\n\n    parseCSV: function(delimiter, qualifier, escape, lineDelimiter) { //try to parse no matter what\n      delimiter = delimiter || ',';\n      escape = escape || '\\\\'\n      if (typeof qualifier == 'undefined')\n        qualifier = '\"';\n\n      var i = 0, fieldBuffer = [], fields = [], len = this.s.length, inField = false, inUnqualifiedString = false, self = this;\n      var ca = function(i){return self.s.charAt(i)};\n      if (typeof lineDelimiter !== 'undefined') var rows = [];\n\n      if (!qualifier)\n        inField = true;\n\n      while (i < len) {\n        var current = ca(i);\n        switch (current) {\n          case escape:\n            //fix for issues #32 and #35\n            if (inField && ((escape !== qualifier) || ca(i+1) === qualifier)) {\n              i += 1;\n              fieldBuffer.push(ca(i));\n              break;\n            }\n            if (escape !== qualifier) break;\n          case qualifier:\n            inField = !inField;\n            break;\n          case delimiter:\n            if(inUnqualifiedString) {\n              inField=false;\n              inUnqualifiedString=false;\n            }\n            if (inField && qualifier)\n              fieldBuffer.push(current);\n            else {\n              fields.push(fieldBuffer.join(''))\n              fieldBuffer.length = 0;\n            }\n            break;\n          case lineDelimiter:\n            if(inUnqualifiedString) {\n              inField=false;\n              inUnqualifiedString=false;\n              fields.push(fieldBuffer.join(''))\n              rows.push(fields);\n              fields = [];\n              fieldBuffer.length = 0;\n            }\n            else if (inField) {\n              fieldBuffer.push(current);\n            } else {\n              if (rows) {\n                fields.push(fieldBuffer.join(''))\n                rows.push(fields);\n                fields = [];\n                fieldBuffer.length = 0;\n              }\n            }\n            break;\n          case ' ':\n            if (inField)\n              fieldBuffer.push(current);\n            break;\n          default:\n            if (inField)\n              fieldBuffer.push(current);\n            else if(current!==qualifier) {\n              fieldBuffer.push(current);\n              inField=true;\n              inUnqualifiedString=true;\n            }\n            break;\n        }\n        i += 1;\n      }\n\n      fields.push(fieldBuffer.join(''));\n      if (rows) {\n        rows.push(fields);\n        return rows;\n      }\n      return fields;\n    },\n\n    replaceAll: function(ss, r) {\n      //var s = this.s.replace(new RegExp(ss, 'g'), r);\n      var s = this.s.split(ss).join(r)\n      return new this.constructor(s);\n    },\n\n    splitLeft: function(sep, maxSplit, limit) {\n      return require('./_splitLeft')(this.s, sep, maxSplit, limit)\n    },\n\n    splitRight: function(sep, maxSplit, limit) {\n      return require('./_splitRight')(this.s, sep, maxSplit, limit)\n    },\n\n    strip: function() {\n      var ss = this.s;\n      for(var i= 0, n=arguments.length; i<n; i++) {\n        ss = ss.split(arguments[i]).join('');\n      }\n      return new this.constructor(ss);\n    },\n\n    stripLeft: function (chars) {\n      var regex;\n      var pattern;\n      var ss = ensureString(this.s);\n\n      if (chars === undefined) {\n        pattern = /^\\s+/g;\n      }\n      else {\n        regex = escapeRegExp(chars);\n        pattern = new RegExp(\"^[\" + regex + \"]+\", \"g\");\n      }\n\n      return new this.constructor(ss.replace(pattern, \"\"));\n    },\n\n    stripRight: function (chars) {\n      var regex;\n      var pattern;\n      var ss = ensureString(this.s);\n\n      if (chars === undefined) {\n        pattern = /\\s+$/g;\n      }\n      else {\n        regex = escapeRegExp(chars);\n        pattern = new RegExp(\"[\" + regex + \"]+$\", \"g\");\n      }\n\n      return new this.constructor(ss.replace(pattern, \"\"));\n    },\n\n    right: function(N) {\n      if (N >= 0) {\n        var s = this.s.substr(this.s.length - N, N);\n        return new this.constructor(s);\n      } else {\n        return this.left(-N);\n      }\n    },\n\n    setValue: function (s) {\n\t  initialize(this, s);\n\t  return this;\n    },\n\n    slugify: function() {\n      var sl = (new S(new S(this.s).latinise().s.replace(/[^\\w\\s-]/g, '').toLowerCase())).dasherize().s;\n      if (sl.charAt(0) === '-')\n        sl = sl.substr(1);\n      return new this.constructor(sl);\n    },\n\n    startsWith: function() {\n      var prefixes = Array.prototype.slice.call(arguments, 0);\n      for (var i = 0; i < prefixes.length; ++i) {\n        if (this.s.lastIndexOf(prefixes[i], 0) === 0) return true;\n      }\n      return false;\n    },\n\n    stripPunctuation: function() {\n      //return new this.constructor(this.s.replace(/[\\.,-\\/#!$%\\^&\\*;:{}=\\-_`~()]/g,\"\"));\n      return new this.constructor(this.s.replace(/[^\\w\\s]|_/g, \"\").replace(/\\s+/g, \" \"));\n    },\n\n    stripTags: function() { //from sugar.js\n      var s = this.s, args = arguments.length > 0 ? arguments : [''];\n      multiArgs(args, function(tag) {\n        s = s.replace(RegExp('<\\/?' + tag + '[^<>]*>', 'gi'), '');\n      });\n      return new this.constructor(s);\n    },\n\n    template: function(values, opening, closing) {\n      var s = this.s\n      var opening = opening || Export.TMPL_OPEN\n      var closing = closing || Export.TMPL_CLOSE\n\n      var open = opening.replace(/[-[\\]()*\\s]/g, \"\\\\$&\").replace(/\\$/g, '\\\\$')\n      var close = closing.replace(/[-[\\]()*\\s]/g, \"\\\\$&\").replace(/\\$/g, '\\\\$')\n      var r = new RegExp(open + '(.+?)' + close, 'g')\n        //, r = /\\{\\{(.+?)\\}\\}/g\n      var matches = s.match(r) || [];\n\n      matches.forEach(function(match) {\n        var key = match.substring(opening.length, match.length - closing.length).trim();//chop {{ and }}\n        var value = typeof values[key] == 'undefined' ? '' : values[key];\n        s = s.replace(match, value);\n      });\n      return new this.constructor(s);\n    },\n\n    times: function(n) {\n      return new this.constructor(new Array(n + 1).join(this.s));\n    },\n\n    titleCase: function() {\n      var s = this.s;\n      if (s) {\n        s = s.replace(/(^[a-z]| [a-z]|-[a-z]|_[a-z])/g,\n          function($1){\n            return $1.toUpperCase();\n          }\n        );\n      }\n      return new this.constructor(s);\n    },\n\n    toBoolean: function() {\n      if (typeof this.orig === 'string') {\n        var s = this.s.toLowerCase();\n        return s === 'true' || s === 'yes' || s === 'on' || s === '1';\n      } else\n        return this.orig === true || this.orig === 1;\n    },\n\n    toFloat: function(precision) {\n      var num = parseFloat(this.s)\n      if (precision)\n        return parseFloat(num.toFixed(precision))\n      else\n        return num\n    },\n\n    toInt: function() { //thanks Google\n      // If the string starts with '0x' or '-0x', parse as hex.\n      return /^\\s*-?0x/i.test(this.s) ? parseInt(this.s, 16) : parseInt(this.s, 10)\n    },\n\n    trim: function() {\n      var s;\n      if (typeof __nsp.trim === 'undefined')\n        s = this.s.replace(/(^\\s*|\\s*$)/g, '')\n      else\n        s = this.s.trim()\n      return new this.constructor(s);\n    },\n\n    trimLeft: function() {\n      var s;\n      if (__nsp.trimLeft)\n        s = this.s.trimLeft();\n      else\n        s = this.s.replace(/(^\\s*)/g, '');\n      return new this.constructor(s);\n    },\n\n    trimRight: function() {\n      var s;\n      if (__nsp.trimRight)\n        s = this.s.trimRight();\n      else\n        s = this.s.replace(/\\s+$/, '');\n      return new this.constructor(s);\n    },\n\n    truncate: function(length, pruneStr) { //from underscore.string, author: github.com/rwz\n      var str = this.s;\n\n      length = ~~length;\n      pruneStr = pruneStr || '...';\n\n      if (str.length <= length) return new this.constructor(str);\n\n      var tmpl = function(c){ return c.toUpperCase() !== c.toLowerCase() ? 'A' : ' '; },\n        template = str.slice(0, length+1).replace(/.(?=\\W*\\w*$)/g, tmpl); // 'Hello, world' -> 'HellAA AAAAA'\n\n      if (template.slice(template.length-2).match(/\\w\\w/))\n        template = template.replace(/\\s*\\S+$/, '');\n      else\n        template = new S(template.slice(0, template.length-1)).trimRight().s;\n\n      return (template+pruneStr).length > str.length ? new S(str) : new S(str.slice(0, template.length)+pruneStr);\n    },\n\n    toCSV: function() {\n      var delim = ',', qualifier = '\"', escape = '\\\\', encloseNumbers = true, keys = false;\n      var dataArray = [];\n\n      function hasVal(it) {\n        return it !== null && it !== '';\n      }\n\n      if (typeof arguments[0] === 'object') {\n        delim = arguments[0].delimiter || delim;\n        delim = arguments[0].separator || delim;\n        qualifier = arguments[0].qualifier || qualifier;\n        encloseNumbers = !!arguments[0].encloseNumbers;\n        escape = arguments[0].escape || escape;\n        keys = !!arguments[0].keys;\n      } else if (typeof arguments[0] === 'string') {\n        delim = arguments[0];\n      }\n\n      if (typeof arguments[1] === 'string')\n        qualifier = arguments[1];\n\n      if (arguments[1] === null)\n        qualifier = null;\n\n       if (this.orig instanceof Array)\n        dataArray  = this.orig;\n      else { //object\n        for (var key in this.orig)\n          if (this.orig.hasOwnProperty(key))\n            if (keys)\n              dataArray.push(key);\n            else\n              dataArray.push(this.orig[key]);\n      }\n\n      var rep = escape + qualifier;\n      var buildString = [];\n      for (var i = 0; i < dataArray.length; ++i) {\n        var shouldQualify = hasVal(qualifier)\n        if (typeof dataArray[i] == 'number')\n          shouldQualify &= encloseNumbers;\n\n        if (shouldQualify)\n          buildString.push(qualifier);\n\n        if (dataArray[i] !== null && dataArray[i] !== undefined) {\n          var d = new S(dataArray[i]).replaceAll(qualifier, rep).s;\n          buildString.push(d);\n        } else\n          buildString.push('')\n\n        if (shouldQualify)\n          buildString.push(qualifier);\n\n        if (delim)\n          buildString.push(delim);\n      }\n\n      //chop last delim\n      //console.log(buildString.length)\n      buildString.length = buildString.length - 1;\n      return new this.constructor(buildString.join(''));\n    },\n\n    toString: function() {\n      return this.s;\n    },\n\n    //#modified from https://github.com/epeli/underscore.string\n    underscore: function() {\n      var s = this.trim().s.replace(/([a-z\\d])([A-Z]+)/g, '$1_$2').replace(/([A-Z\\d]+)([A-Z][a-z])/g,'$1_$2').replace(/[-\\s]+/g, '_').toLowerCase();\n      return new this.constructor(s);\n    },\n\n    unescapeHTML: function() { //from underscore.string\n      return new this.constructor(this.s.replace(/\\&([^;]+);/g, function(entity, entityCode){\n        var match;\n\n        if (entityCode in escapeChars) {\n          return escapeChars[entityCode];\n        } else if (match = entityCode.match(/^#x([\\da-fA-F]+)$/)) {\n          return String.fromCharCode(parseInt(match[1], 16));\n        } else if (match = entityCode.match(/^#(\\d+)$/)) {\n          return String.fromCharCode(~~match[1]);\n        } else {\n          return entity;\n        }\n      }));\n    },\n\n    valueOf: function() {\n      return this.s.valueOf();\n    },\n\n    //#Added a New Function called wrapHTML.\n    wrapHTML: function (tagName, tagAttrs) {\n      var s = this.s, el = (tagName == null) ? 'span' : tagName, elAttr = '', wrapped = '';\n      if(typeof tagAttrs == 'object') for(var prop in tagAttrs) elAttr += ' ' + prop + '=\"' +(new this.constructor(tagAttrs[prop])).escapeHTML() + '\"';\n      s = wrapped.concat('<', el, elAttr, '>', this, '</', el, '>');\n      return new this.constructor(s);\n    }\n  }\n\n  var methodsAdded = [];\n  function extendPrototype() {\n    for (var name in __sp) {\n      (function(name){\n        var func = __sp[name];\n        if (!__nsp.hasOwnProperty(name)) {\n          methodsAdded.push(name);\n          __nsp[name] = function() {\n            String.prototype.s = this;\n            return func.apply(this, arguments);\n          }\n        }\n      })(name);\n    }\n  }\n\n  function restorePrototype() {\n    for (var i = 0; i < methodsAdded.length; ++i)\n      delete String.prototype[methodsAdded[i]];\n    methodsAdded.length = 0;\n  }\n\n\n/*************************************\n/* Attach Native JavaScript String Properties\n/*************************************/\n\n  var nativeProperties = getNativeStringProperties();\n  for (var name in nativeProperties) {\n    (function(name) {\n      var stringProp = __nsp[name];\n      if (typeof stringProp == 'function') {\n        //console.log(stringProp)\n        if (!__sp[name]) {\n          if (nativeProperties[name] === 'string') {\n            __sp[name] = function() {\n              //console.log(name)\n              return new this.constructor(stringProp.apply(this, arguments));\n            }\n          } else {\n            __sp[name] = stringProp;\n          }\n        }\n      }\n    })(name);\n  }\n\n\n/*************************************\n/* Function Aliases\n/*************************************/\n\n  __sp.repeat = __sp.times;\n  __sp.include = __sp.contains;\n  __sp.toInteger = __sp.toInt;\n  __sp.toBool = __sp.toBoolean;\n  __sp.decodeHTMLEntities = __sp.decodeHtmlEntities //ensure consistent casing scheme of 'HTML'\n\n\n//******************************************************************************\n// Set the constructor.  Without this, string.js objects are instances of\n// Object instead of S.\n//******************************************************************************\n\n  __sp.constructor = S;\n\n\n/*************************************\n/* Private Functions\n/*************************************/\n\n  function getNativeStringProperties() {\n    var names = getNativeStringPropertyNames();\n    var retObj = {};\n\n    for (var i = 0; i < names.length; ++i) {\n      var name = names[i];\n      if (name === 'to' || name === 'toEnd') continue;       // get rid of the shelljs prototype messup\n      var func = __nsp[name];\n      try {\n        var type = typeof func.apply('teststring');\n        retObj[name] = type;\n      } catch (e) {}\n    }\n    return retObj;\n  }\n\n  function getNativeStringPropertyNames() {\n    var results = [];\n    if (Object.getOwnPropertyNames) {\n      results = Object.getOwnPropertyNames(__nsp);\n      results.splice(results.indexOf('valueOf'), 1);\n      results.splice(results.indexOf('toString'), 1);\n      return results;\n    } else { //meant for legacy cruft, this could probably be made more efficient\n      var stringNames = {};\n      var objectNames = [];\n      for (var name in String.prototype)\n        stringNames[name] = name;\n\n      for (var name in Object.prototype)\n        delete stringNames[name];\n\n      //stringNames['toString'] = 'toString'; //this was deleted with the rest of the object names\n      for (var name in stringNames) {\n        results.push(name);\n      }\n      return results;\n    }\n  }\n\n  function Export(str) {\n    return new S(str);\n  };\n\n  //attach exports to StringJSWrapper\n  Export.extendPrototype = extendPrototype;\n  Export.restorePrototype = restorePrototype;\n  Export.VERSION = VERSION;\n  Export.TMPL_OPEN = '{{';\n  Export.TMPL_CLOSE = '}}';\n  Export.ENTITIES = ENTITIES;\n\n\n\n/*************************************\n/* Exports\n/*************************************/\n\n  if (typeof module !== 'undefined'  && typeof module.exports !== 'undefined') {\n    module.exports = Export;\n\n  } else {\n\n    if(typeof define === \"function\" && define.amd) {\n      define([], function() {\n        return Export;\n      });\n    } else {\n      window.S = Export;\n    }\n  }\n\n\n/*************************************\n/* 3rd Party Private Functions\n/*************************************/\n\n  //from sugar.js\n  function multiArgs(args, fn) {\n    var result = [], i;\n    for(i = 0; i < args.length; i++) {\n      result.push(args[i]);\n      if(fn) fn.call(args, args[i], i);\n    }\n    return result;\n  }\n\n  //from underscore.string\n  var escapeChars = {\n    lt: '<',\n    gt: '>',\n    quot: '\"',\n    apos: \"'\",\n    amp: '&'\n  };\n\n  function escapeRegExp (s) {\n    // most part from https://github.com/skulpt/skulpt/blob/ecaf75e69c2e539eff124b2ab45df0b01eaf2295/src/str.js#L242\n    var c;\n    var i;\n    var ret = [];\n    var re = /^[A-Za-z0-9]+$/;\n    s = ensureString(s);\n    for (i = 0; i < s.length; ++i) {\n      c = s.charAt(i);\n\n      if (re.test(c)) {\n        ret.push(c);\n      }\n      else {\n        if (c === \"\\\\000\") {\n          ret.push(\"\\\\000\");\n        }\n        else {\n          ret.push(\"\\\\\" + c);\n        }\n      }\n    }\n    return ret.join(\"\");\n  }\n\n  function ensureString(string) {\n    return string == null ? '' : '' + string;\n  }\n\n  //from underscore.string\n  var reversedEscapeChars = {};\n  for(var key in escapeChars){ reversedEscapeChars[escapeChars[key]] = key; }\n\n  ENTITIES = {\n    \"amp\" : \"&\",\n    \"gt\" : \">\",\n    \"lt\" : \"<\",\n    \"quot\" : \"\\\"\",\n    \"apos\" : \"'\",\n    \"AElig\" : 198,\n    \"Aacute\" : 193,\n    \"Acirc\" : 194,\n    \"Agrave\" : 192,\n    \"Aring\" : 197,\n    \"Atilde\" : 195,\n    \"Auml\" : 196,\n    \"Ccedil\" : 199,\n    \"ETH\" : 208,\n    \"Eacute\" : 201,\n    \"Ecirc\" : 202,\n    \"Egrave\" : 200,\n    \"Euml\" : 203,\n    \"Iacute\" : 205,\n    \"Icirc\" : 206,\n    \"Igrave\" : 204,\n    \"Iuml\" : 207,\n    \"Ntilde\" : 209,\n    \"Oacute\" : 211,\n    \"Ocirc\" : 212,\n    \"Ograve\" : 210,\n    \"Oslash\" : 216,\n    \"Otilde\" : 213,\n    \"Ouml\" : 214,\n    \"THORN\" : 222,\n    \"Uacute\" : 218,\n    \"Ucirc\" : 219,\n    \"Ugrave\" : 217,\n    \"Uuml\" : 220,\n    \"Yacute\" : 221,\n    \"aacute\" : 225,\n    \"acirc\" : 226,\n    \"aelig\" : 230,\n    \"agrave\" : 224,\n    \"aring\" : 229,\n    \"atilde\" : 227,\n    \"auml\" : 228,\n    \"ccedil\" : 231,\n    \"eacute\" : 233,\n    \"ecirc\" : 234,\n    \"egrave\" : 232,\n    \"eth\" : 240,\n    \"euml\" : 235,\n    \"iacute\" : 237,\n    \"icirc\" : 238,\n    \"igrave\" : 236,\n    \"iuml\" : 239,\n    \"ntilde\" : 241,\n    \"oacute\" : 243,\n    \"ocirc\" : 244,\n    \"ograve\" : 242,\n    \"oslash\" : 248,\n    \"otilde\" : 245,\n    \"ouml\" : 246,\n    \"szlig\" : 223,\n    \"thorn\" : 254,\n    \"uacute\" : 250,\n    \"ucirc\" : 251,\n    \"ugrave\" : 249,\n    \"uuml\" : 252,\n    \"yacute\" : 253,\n    \"yuml\" : 255,\n    \"copy\" : 169,\n    \"reg\" : 174,\n    \"nbsp\" : 160,\n    \"iexcl\" : 161,\n    \"cent\" : 162,\n    \"pound\" : 163,\n    \"curren\" : 164,\n    \"yen\" : 165,\n    \"brvbar\" : 166,\n    \"sect\" : 167,\n    \"uml\" : 168,\n    \"ordf\" : 170,\n    \"laquo\" : 171,\n    \"not\" : 172,\n    \"shy\" : 173,\n    \"macr\" : 175,\n    \"deg\" : 176,\n    \"plusmn\" : 177,\n    \"sup1\" : 185,\n    \"sup2\" : 178,\n    \"sup3\" : 179,\n    \"acute\" : 180,\n    \"micro\" : 181,\n    \"para\" : 182,\n    \"middot\" : 183,\n    \"cedil\" : 184,\n    \"ordm\" : 186,\n    \"raquo\" : 187,\n    \"frac14\" : 188,\n    \"frac12\" : 189,\n    \"frac34\" : 190,\n    \"iquest\" : 191,\n    \"times\" : 215,\n    \"divide\" : 247,\n    \"OElig;\" : 338,\n    \"oelig;\" : 339,\n    \"Scaron;\" : 352,\n    \"scaron;\" : 353,\n    \"Yuml;\" : 376,\n    \"fnof;\" : 402,\n    \"circ;\" : 710,\n    \"tilde;\" : 732,\n    \"Alpha;\" : 913,\n    \"Beta;\" : 914,\n    \"Gamma;\" : 915,\n    \"Delta;\" : 916,\n    \"Epsilon;\" : 917,\n    \"Zeta;\" : 918,\n    \"Eta;\" : 919,\n    \"Theta;\" : 920,\n    \"Iota;\" : 921,\n    \"Kappa;\" : 922,\n    \"Lambda;\" : 923,\n    \"Mu;\" : 924,\n    \"Nu;\" : 925,\n    \"Xi;\" : 926,\n    \"Omicron;\" : 927,\n    \"Pi;\" : 928,\n    \"Rho;\" : 929,\n    \"Sigma;\" : 931,\n    \"Tau;\" : 932,\n    \"Upsilon;\" : 933,\n    \"Phi;\" : 934,\n    \"Chi;\" : 935,\n    \"Psi;\" : 936,\n    \"Omega;\" : 937,\n    \"alpha;\" : 945,\n    \"beta;\" : 946,\n    \"gamma;\" : 947,\n    \"delta;\" : 948,\n    \"epsilon;\" : 949,\n    \"zeta;\" : 950,\n    \"eta;\" : 951,\n    \"theta;\" : 952,\n    \"iota;\" : 953,\n    \"kappa;\" : 954,\n    \"lambda;\" : 955,\n    \"mu;\" : 956,\n    \"nu;\" : 957,\n    \"xi;\" : 958,\n    \"omicron;\" : 959,\n    \"pi;\" : 960,\n    \"rho;\" : 961,\n    \"sigmaf;\" : 962,\n    \"sigma;\" : 963,\n    \"tau;\" : 964,\n    \"upsilon;\" : 965,\n    \"phi;\" : 966,\n    \"chi;\" : 967,\n    \"psi;\" : 968,\n    \"omega;\" : 969,\n    \"thetasym;\" : 977,\n    \"upsih;\" : 978,\n    \"piv;\" : 982,\n    \"ensp;\" : 8194,\n    \"emsp;\" : 8195,\n    \"thinsp;\" : 8201,\n    \"zwnj;\" : 8204,\n    \"zwj;\" : 8205,\n    \"lrm;\" : 8206,\n    \"rlm;\" : 8207,\n    \"ndash;\" : 8211,\n    \"mdash;\" : 8212,\n    \"lsquo;\" : 8216,\n    \"rsquo;\" : 8217,\n    \"sbquo;\" : 8218,\n    \"ldquo;\" : 8220,\n    \"rdquo;\" : 8221,\n    \"bdquo;\" : 8222,\n    \"dagger;\" : 8224,\n    \"Dagger;\" : 8225,\n    \"bull;\" : 8226,\n    \"hellip;\" : 8230,\n    \"permil;\" : 8240,\n    \"prime;\" : 8242,\n    \"Prime;\" : 8243,\n    \"lsaquo;\" : 8249,\n    \"rsaquo;\" : 8250,\n    \"oline;\" : 8254,\n    \"frasl;\" : 8260,\n    \"euro;\" : 8364,\n    \"image;\" : 8465,\n    \"weierp;\" : 8472,\n    \"real;\" : 8476,\n    \"trade;\" : 8482,\n    \"alefsym;\" : 8501,\n    \"larr;\" : 8592,\n    \"uarr;\" : 8593,\n    \"rarr;\" : 8594,\n    \"darr;\" : 8595,\n    \"harr;\" : 8596,\n    \"crarr;\" : 8629,\n    \"lArr;\" : 8656,\n    \"uArr;\" : 8657,\n    \"rArr;\" : 8658,\n    \"dArr;\" : 8659,\n    \"hArr;\" : 8660,\n    \"forall;\" : 8704,\n    \"part;\" : 8706,\n    \"exist;\" : 8707,\n    \"empty;\" : 8709,\n    \"nabla;\" : 8711,\n    \"isin;\" : 8712,\n    \"notin;\" : 8713,\n    \"ni;\" : 8715,\n    \"prod;\" : 8719,\n    \"sum;\" : 8721,\n    \"minus;\" : 8722,\n    \"lowast;\" : 8727,\n    \"radic;\" : 8730,\n    \"prop;\" : 8733,\n    \"infin;\" : 8734,\n    \"ang;\" : 8736,\n    \"and;\" : 8743,\n    \"or;\" : 8744,\n    \"cap;\" : 8745,\n    \"cup;\" : 8746,\n    \"int;\" : 8747,\n    \"there4;\" : 8756,\n    \"sim;\" : 8764,\n    \"cong;\" : 8773,\n    \"asymp;\" : 8776,\n    \"ne;\" : 8800,\n    \"equiv;\" : 8801,\n    \"le;\" : 8804,\n    \"ge;\" : 8805,\n    \"sub;\" : 8834,\n    \"sup;\" : 8835,\n    \"nsub;\" : 8836,\n    \"sube;\" : 8838,\n    \"supe;\" : 8839,\n    \"oplus;\" : 8853,\n    \"otimes;\" : 8855,\n    \"perp;\" : 8869,\n    \"sdot;\" : 8901,\n    \"lceil;\" : 8968,\n    \"rceil;\" : 8969,\n    \"lfloor;\" : 8970,\n    \"rfloor;\" : 8971,\n    \"lang;\" : 9001,\n    \"rang;\" : 9002,\n    \"loz;\" : 9674,\n    \"spades;\" : 9824,\n    \"clubs;\" : 9827,\n    \"hearts;\" : 9829,\n    \"diams;\" : 9830\n  }\n\n\n}).call(this);\n\n\n\n// WEBPACK FOOTER //\n// ./~/string/lib/string.js","function count(self, substr) {\n  var count = 0\n  var pos = self.indexOf(substr)\n\n  while (pos >= 0) {\n    count += 1\n    pos = self.indexOf(substr, pos + 1)\n  }\n\n  return count\n}\n\nmodule.exports = count\n\n\n// WEBPACK FOOTER //\n// ./~/string/lib/_count.js","function splitLeft(self, sep, maxSplit, limit) {\n\n  if (typeof maxSplit === 'undefined') {\n    var maxSplit = -1;\n  }\n\n  var splitResult = self.split(sep);\n  var splitPart1 = splitResult.slice(0, maxSplit);\n  var splitPart2 = splitResult.slice(maxSplit);\n\n  if (splitPart2.length === 0) {\n    splitResult = splitPart1;\n  } else {\n    splitResult = splitPart1.concat(splitPart2.join(sep));\n  }\n\n  if (typeof limit === 'undefined') {\n    return splitResult;\n  } else if (limit < 0) {\n    return splitResult.slice(limit);\n  } else {\n    return splitResult.slice(0, limit);\n  }\n\n}\n\nmodule.exports = splitLeft;\n\n\n\n// WEBPACK FOOTER //\n// ./~/string/lib/_splitLeft.js","function splitRight(self, sep, maxSplit, limit) {\n\n  if (typeof maxSplit === 'undefined') {\n    var maxSplit = -1;\n  }\n  if (typeof limit === 'undefined') {\n    var limit = 0;\n  }\n\n  var splitResult = [self];\n\n  for (var i = self.length-1; i >= 0; i--) {\n\n    if (\n      splitResult[0].slice(i).indexOf(sep) === 0 &&\n      (splitResult.length <= maxSplit || maxSplit === -1)\n    ) {\n      splitResult.splice(1, 0, splitResult[0].slice(i+sep.length)); // insert\n      splitResult[0] = splitResult[0].slice(0, i)\n    }\n  }\n\n  if (limit >= 0) {\n    return splitResult.slice(-limit);\n  } else {\n    return splitResult.slice(0, -limit);\n  }\n\n}\n\nmodule.exports = splitRight;\n\n\n\n// WEBPACK FOOTER //\n// ./~/string/lib/_splitRight.js","import eventManager from './events'\n\nlet CellsManagerDom = class CellsManagerDom  {\n  createComponents(spec) {\n    /* istanbul ignore if */\n    if (!spec) {\n      return;\n    }\n    var elements = [];\n    var i = 0;\n    for (let element of spec) {\n      elements[i] = this.createElement(element.tagName);\n      elements[i].__zone = element.zone;\n      i++;\n    }\n\n    return elements;\n  }\n\n  setAttrs(node, attrs) {\n    if (attrs && typeof attrs === 'object') {\n      eventManager.emit('before-set-attr-to-node', node.tagName);\n      Object.assign(node, attrs);\n      eventManager.emit('after-set-attr-to-node', node);\n    }\n  }\n\n  createElement(tagName, properties) {\n    eventManager.emit('before-create-node', tagName);\n    var node = document.createElement(tagName);\n    eventManager.emit('after-create-node', node);\n\n    /* istanbul ignore else */\n    if (properties) {\n      this.setAttrs(node, properties);\n    }\n\n    return node;\n  }\n}\n\nexport default CellsManagerDom;\n\n\n\n// WEBPACK FOOTER //\n// ./~/cells-bridge/src/manager/dom.js","import EventEmitter from 'events';\n\nconst maxNumListeners = 20;\n\nclass CustomEventEmitter extends EventEmitter {\n  listenToOnce(node, name, callback) {\n    var fn = function () {\n      callback();\n      node.removeEventListener(name, fn);\n    }.bind(this);\n    node.addEventListener(name, fn);\n  }\n}\n\nconst eventManager = new CustomEventEmitter();\n\neventManager.setMaxListeners(maxNumListeners);\n\nexport default eventManager;\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/cells-bridge/src/manager/events.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/events/events.js","import CellsStorage from './storage';\nimport CellsConnector from '../connector';\nimport CellsSanitizer from '../sanitizer';\nimport eventManager from './events';\n\nlet CellsManagerPage = class CellsManagerPage {\n  constructor(bridge) {\n    this.storage = new CellsStorage({\n      prefix: bridge.storagePrefix,\n      persistent: bridge.cache\n    });\n    this.cache = bridge.cache;\n    this.connector = new CellsConnector();\n    this.sanitizer = new CellsSanitizer();\n  }\n\n  generateRequestUrl(page, options, config = {}) {\n    let path = config.templates || 'componentsPages/';\n    if (config.app) {\n      path += config.app + '/';\n    }\n    return path + page + '.json';\n  }\n\n  /**\n   * @param {Object} page\n   */\n  // eslint-disable-next-line no-unused-vars\n  onPageDefinitionNotFound(page) {\n    // Overwrite to make something when page definition is not found.\n  }\n\n  clear() {\n    this.storage.clear();\n  }\n\n  get(page, options, config) {\n    let spec = this.storage.getItem(page);\n    if(this.cache && spec) {\n      return (new Promise(\n        function (resolve) {\n          resolve(spec);\n        }\n      ));\n    } else {\n      return this._getFromConnector(page, options, config);\n    }\n  }\n\n  _getFromConnector(page, options, config) {\n    options = options || {};\n    options.url = this.generateRequestUrl(page, options, config);\n\n    eventManager.emit('page-request', options);\n\n    let promise = this.connector.getJSON(options);\n\n    return promise.then(this._onResponse.bind(this, page, options), this._onResponseFail.bind(this, page)).catch(error => error.message);\n  }\n\n  _onResponse(page, options, response) {\n    response.page = page;\n\n    eventManager.emit('page-response', response);\n\n    let sanitizedData = this.sanitizer.parse(response);\n    // sanitizedData = this.bridge.parse('data', sanitizedData);\n\n    this.storage.setItem(page, sanitizedData);\n\n    eventManager.emit('data-load', sanitizedData);\n\n    return sanitizedData;\n  }\n\n  _onResponseFail(page) {\n    if (this.onPageDefinitionNotFound) {\n      this.onPageDefinitionNotFound(page);\n    }\n\n    return new Promise((resolve, reject) => reject(new Error(`Definition file for page '${page}' not found.`)));\n  }\n}\n\nexport default CellsManagerPage;\n\n\n\n// WEBPACK FOOTER //\n// ./~/cells-bridge/src/manager/page.js","class InMemmoryStorage  {\n  dictionary = {};\n  getItem(key) {\n    return this.dictionary[key] || null;\n  }\n  setItem(key, value) {\n    this.dictionary[key] = value;\n  }\n}\n\nexport default class CellsStorage {\n  prefix = '';\n  persistent = false;\n  internalStorage = new InMemmoryStorage();\n\n  constructor(options) {\n    Object.assign(this, options);\n\n    if (this.persistent) {\n      this.clear();\n    }\n  }\n\n  get storage() {\n    let store;\n    if (this.persistent) {\n      store = window.localStorage;\n    } else {\n      store = window.sessionStorage;\n    }\n    try {\n      store.setItem('_$_', {});\n    } catch (error) {\n      store = this.internalStorage;\n    }\n    return store;\n  }\n\n  getItem(key) {\n    return JSON.parse(this.storage.getItem(this.prefix + key));\n  }\n\n  setItem(key, value) {\n    this.storage.setItem(this.prefix + key, JSON.stringify(value, '', true));\n  }\n\n  clear() {\n    var pattern = new RegExp('^(' + this.prefix + ')');\n\n    for (let key in this.storage) {\n      if (pattern.test(key)) {\n        this.storage.removeItem(key)\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/cells-bridge/src/manager/storage.js","export default class CellsBridgeConnector {\n\n  getJSON(options) {\n    return new Promise(\n      function (resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        if (!options || !options.url) {\n          reject(new Error('URL not defined'));\n        }\n        var method = (options.method || '').toUpperCase() || 'GET';\n        xhr.addEventListener('load', (e) => {\n          let xhr = e.target;\n          let status = xhr.status;\n          if ((status >= 200 && status < 300) || (status == 0 && xhr.responseText.length > 0)) {\n            resolve(JSON.parse(xhr.response));\n          } else {\n            reject(new Error(xhr.statusText));\n          }\n        });\n        xhr.addEventListener('error', () => {\n          reject(new Error('Network Error'));\n        });\n        xhr.open(method, options.url);\n        //\n        let headers = options.headers;\n        for (var header in headers) {\n          if (headers.hasOwnProperty(header)) {\n            xhr.setRequestHeader(header, headers[header]);\n          }\n        }\n        xhr.send(options.body);\n      }\n    );\n  }\n\n  _onErrorCallback() {\n    this.reject(new Error('Network Error'));\n  }\n\n  _onLoadCallback() {\n    let xhr = this.xhr;\n    let status = xhr.status;\n    if ((status >= 200 && status < 300) || (status == 0 && xhr.responseText.length > 0)) {\n      this.resolve(JSON.parse(xhr.response));\n    } else {\n      this.reject(new Error(xhr.statusText));\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/cells-bridge/src/connector.js","import string from 'string';\nvar _getPath = function _getPath(cmpDef) {\n  return (cmpDef.familyPath\n    ? cmpDef.familyPath\n    : (cmpDef.tag || cmpDef.tagName)) + '/' + (cmpDef.tag || cmpDef.tagName) + '.html'\n};\nexport default class CellsBridgeComposerSanitizer {\n  _buildConfig(component, type = 'UI') {\n    let config = {\n      type: component.type ? component.type.toUpperCase() : type,\n      tagName: (component.tag || component.tagName),\n      zone: component.zone,\n      fixed: component.fixed,\n      properties: component.properties,\n      path: _getPath(component)\n    };\n    this.parseConnections(config);\n    return config;\n  }\n\n  parse(json) {\n    var components = [];\n    const LTRIM_SLASH = /^\\/(\\b)/;\n    components.push(\n      ...this._parseComponentsFromJson(json, 'components', 'UI')\n    );\n    let jsonTemplate = json.template;\n    if (jsonTemplate) {\n      jsonTemplate = this._buildConfig(jsonTemplate, 'TEMPLATE');\n    }\n    let pages = {};\n    let jsonPages = json.pages;\n    /* istanbul ignore if */\n    if (jsonPages) {\n      for (let page of Object.keys(jsonPages)) {\n        pages[page] = '/' + jsonPages[page].url.replace(LTRIM_SLASH, '');\n      }\n    }\n    return {\n      page: json.page,\n      currentPage: json.currentPage || {},\n      template: jsonTemplate,\n      components: components,\n      pages: pages\n    };\n  }\n\n  _parseComponentsFromJson(json, key, type) {\n    let list = [];\n    let components = json[key];\n    /* istanbul ignore if */\n    if (Array.isArray(components)) {\n      for (let component of components) {\n        list.push(this._buildConfig(component, type));\n      }\n    }\n    return list;\n  }\n\n  parseConnections(component) {\n    var connections;\n    /* istanbul ignore else */\n    if (component.properties) {\n      connections = component.properties.cellsConnections;\n    }\n    /* istanbul ignore else */\n    if (connections) {\n      if (connections.params) {\n\n        /* istanbul ignore if */\n        if (!connections.in) {\n          connections.in = {};\n        }\n        /* istanbul ignore if */\n        if (!connections.out) {\n          connections.out = {};\n        }\n        var params = this.paramsToActions(connections.params);\n        Object.assign(connections.in, params.in);\n        Object.assign(connections.out, params.out);\n      }\n      component.connections = connections;\n    }\n  }\n\n  paramsToActions(params) {\n    var connections = {\n      in: {},\n      out: {}\n    };\n    for (var prop in params) {\n      var paramDef = params[prop];\n      connections.in[paramDef] = {\n        bind: prop,\n        global: true\n      };\n      connections.out[paramDef] = {\n        bind: string(prop).dasherize().s + '-changed',\n        global: true\n      };\n    }\n    return connections;\n  }\n\n  split(data) {\n    var response;\n    /* istanbul ignore if */\n    if (data) {\n      response = {\n        CC: [],\n        UI: [],\n        DM: []\n      };\n      for (let item of data) {\n        response[item.type].push(item);\n      }\n    }\n    return response;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/cells-bridge/src/sanitizer.js","import eventManager from './manager/events'\nimport { Subscription } from 'rxjs/Subscription';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/fromEvent';\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\nimport { ObjectUnsubscribedError } from 'rxjs/util/ObjectUnsubscribedError';\n\n/**\n * Channel ReplaySubject extension of Rx.ReplaySubject.\n * This is pretty hacky, but so far I'd found no better way of having\n * Channels that do no close on multicasted stream completion and on multiple errors.\n * For documentation refer to\n * [Rx.ReplaySubject docs](@link https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/subjects/replaysubject.md).\n * The only difference is that Channel never triggers '.onCompleted()' and\n * does not closes observers on errors (thus allowing to continuously dispatch them).\n */\nvar Channel = function(buffer) {\n  ReplaySubject.call(this, buffer);\n}\n\nChannel.prototype = Object.create(ReplaySubject.prototype);\n\nChannel.prototype.hasObservers = function hasObservers() {\n  if (this.closed) {\n    throw new ObjectUnsubscribedError();\n  }\n\n  return this.observers.length > 0;\n};\n\nChannel.prototype.next = function next(value) {\n  let generateUUID = function() {\n    let d = new Date().getTime();\n    let uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n      let r = (d + Math.random()*16)%16 | 0;\n      return (c=='x' ? r : (r&0x3|0x8)).toString(16);\n    });\n    return uuid;\n  };\n\n  value.uuid = generateUUID();\n  ReplaySubject.prototype.next.call(this, value);\n};\n\nObject.assign(Channel.prototype, {\n  /**\n   * Dummy method override to prevent execution and Rx.Observable completion\n   * @ignore\n   */\n  complete: function() {},\n\n  /**\n   * Dummy method override to prevent stop execution when error in Rx.Observable\n   * @ignore\n   */\n  error: function(error) {\n    this.error = error;\n    this.observers.forEach(function(o) {\n      o.isStopped = false;\n      o.onError(error);\n    });\n  },\n\n  /**\n   * Removes a specific observer.\n   *\n   * @param  {Number} index  Position of observer in array\n   * @example\n   * channel.unsubscribe(1);\n   */\n  unsubscribe: function(index) {\n    this.observers.splice(index, 1);\n  },\n\n  /**\n   * Removes all observers.\n   *\n   * @example\n   * channel.unsubscribe();\n   */\n  unsubscribeAll: function() {\n    this.observers.splice(0, this.observers.length);\n  },\n\n  /**\n   * Resets the channel.\n   */\n  clean: function() {\n    this._events = [];\n  }\n});\n\n\n/**\n * A subscriptor can publish to a channel and receive notifications\n * about changes from a channel.\n *\n * @param {HTMLElement/Object} node\n */\nvar Subscriptor = function(node) {\n  this.node = node;\n  this.subscriptions = []; //[] //*1prototype mixin clone problem\n  this.publications = new Subscription();\n};\n\nSubscriptor.prototype = {\n  node: null,\n  subscriptions: null, //[] //*1prototype mixin clone problem\n  publications: null,\n\n  /**\n   * Returns true if the subscriptor has already subscribed to a channel.\n   *\n   * @param  {Channel}  channel The channel to check the subscription\n   * @return {Boolean}\n   */\n  hasSubscription: function(channel) {\n    return(this.subscriptions.filter(d => d.channel === channel).length > 0);\n  },\n\n  /**\n   * Publish an event.sss\n   *\n   * @param  {Event} event\n   */\n  publish: function(event) {\n    this.publications.add(event);\n  },\n\n  makeCallbackWithNoReplay: function(channel, fn) {\n    if (!fn.node.intervals) {\n      fn.node.intervals = [];\n    }\n    if (!fn.node.ids) {\n      fn.node.ids = [];\n    }\n    let getTimeFromNode = function(node) {\n      return node.intervals[channel.name];\n    };\n    let setTimeForNode = function(node, time) {\n      node.intervals[channel.name] = time;\n    };\n    let getTimeFromChannel = function(channel) {\n      return channel._events.length > 0 ? channel._events[0].time : 1;\n    };\n    let getIdFromNode = function(node) {\n      return node.ids[channel.name];\n    };\n    let setIdForNode = function(node, id) {\n      node.ids[channel.name] = id;\n    };\n    let getIdFromChannel = function(channel) {\n      return channel._events.length > 0 ? channel._events[0].value.uuid : null;\n    };\n    let fnReplayOff = function() {\n      let lastInterval = getTimeFromChannel(channel);\n      let nodeInterval = getTimeFromNode(fn.node);\n      let lastId = getIdFromChannel(channel);\n      let nodeId = getIdFromNode(fn.node);\n      if (!nodeInterval || nodeInterval < lastInterval ||\n        (nodeInterval === lastInterval && (nodeId != lastId))) {\n        setTimeForNode(fn.node, lastInterval);\n        setIdForNode(fn.node, lastId);\n        return fn.apply(this, arguments);\n      }\n      setTimeForNode(fn.node, lastInterval);\n    }.bind(this);\n    fnReplayOff.node = fn.node;\n    return fnReplayOff;\n  },\n\n  /**\n   * Subscribe to a channel.\n   *\n   * @param  {Channel}   channel  Channel to subscribe\n   * @param  {Function}  fn       Callback function to run when a value from a channel changed\n   */\n  subscribe: function(channel, fn, previousState) {\n    if(!this.hasSubscription(channel)) {\n      let callback = fn;\n      if (previousState === false) {\n        callback = this.makeCallbackWithNoReplay(channel, fn);\n      }\n\n      let pos = this._firstInstanceOfObserver(callback.node, channel);\n      if(pos === -1) {\n        channel.subscribe(callback);\n        pos = channel.observers.length - 1;\n      }\n      channel.observers[pos].node = callback.node;\n\n      var subscription = {\n        channel: channel,\n        observer: channel.observers[pos]\n      };\n\n      this.subscriptions.push(subscription);\n    }\n  },\n\n  /**\n   * Remove all active subscriptions.\n   */\n  unsubscribe: function() {\n    for(var i = this.subscriptions.length - 1; i >= 0; i--) {\n      var subscription = this.subscriptions[i];\n      var channel = subscription.channel;\n      var observer = subscription.observer;\n      var index = channel.observers.indexOf(observer);\n\n      if(!channel.name.match(/\\b__bridge_/)) {\n        channel.unsubscribe(index);\n      }\n      // if(!channel.hasObservers()) {\n      //   channel.clean();\n      // }\n    }\n\n    this.publications.unsubscribe();\n  },\n\n  /**\n   * Returns the position of the first occurrence of the observer's node in the channel.\n   * If the node has none observer registered to the channel, it returns -1.\n   *\n   * @param {node}\n   * @param {channel}\n   */\n  _firstInstanceOfObserver: function(node, channel) {\n    var pos = -1;\n\n    for(let index = 0; index < channel.observers.length; index++) {\n      if(channel.observers[index].node === node) {\n        pos = index;\n        break;\n      }\n    }\n    return pos;\n  }\n};\n\n/**\n * Collection of channels.\n */\nvar ChannelManager = function() {\n  this.channels = {}; //*1prototype mixin clone problem\n};\n\nChannelManager.prototype = {\n  channels: null, //{} //*1prototype mixin clone problem\n\n  /**\n   * Gets a channel by name.\n   *\n   * @param  {String} name\n   *\n   * @return {Channel}\n   */\n  get: function(name) {\n    var channel = this.channels[name];\n\n    if(channel == null) {\n      channel = this.create(name);\n    }\n\n    return channel;\n  },\n\n  /**\n   * Gets a channel by name.\n   *\n   * @param  {String} name\n   *\n   * @return {Channel}\n   */\n  getUnsafe: function(name) {\n    return this.channels[name];\n  },\n\n  /**\n   * Creates a channel.\n   *\n   * @param  {String} name Channel name\n   *\n   * @return {Channel}\n   */\n  create: function(name) {\n    var channel = new Channel(1);\n    channel.name = name;\n    return this.channels[name] = channel;\n  },\n\n  /**\n   * Removes a channel from the collection.\n   *\n   * @param  {String} name Name of the channel to remove.\n   */\n  remove: function(name) {\n    delete this.channels[name];\n  },\n\n  /**\n   * Returns true if there is a channel registered with the given name,\n   *\n   * @param {String} name Channel name,\n   *\n   * @return {Boolean}\n   */\n  has: function(name) {\n    return this.channels[name] != null;\n  }\n};\n\n\nlet ComponentConnector = class ComponentConnector {\n\n  EventManager = null;\n  manager = null;\n  subscriptors = null;\n  bridgeChannelsPrefix = null;\n\n  constructor() {\n    this.manager = new ChannelManager();\n    this.subscriptors = new WeakMap();\n    this.bridgeChannelsPrefix = /__bridge_(?!ch)/;\n  }\n\n  getSubscriptor(node) {\n    var subscriptor = this.subscriptors.get(node);\n\n    if(!subscriptor) {\n      subscriptor = new Subscriptor(node);\n      this.subscriptors.set(node, subscriptor);\n    }\n\n    return subscriptor;\n  }\n\n  /**\n   * Register a node in pubsub\n   *\n   * @param  {HTMLElement}  node\n   * @param  {Object}       connections\n   */\n  register(node, connections) {\n    if(node && connections) {\n      this._registerOutConnections(node, connections.out);\n      this._registerInConnections(node, connections.in);\n    }\n  }\n\n  /**\n   * Registesr new connections of a node that may have other connections registered previously.\n   *\n   * @param  {HTMLElement}  node\n   * @param  {Object}       connections\n   */\n  progressiveRegister(node, connections) {\n    if(node && connections) {\n      this._registerOutConnections(node, connections.out);\n      this._updateInConnections(node, connections.in);\n    }\n  }\n\n  _registerInConnections(node, inConnections) {\n    let channelName;\n    let bindName;\n    let previousState;\n    let subscriptor;\n    let channel;\n\n    if(inConnections) {\n      for(channelName in inConnections) {\n        channel = this.isBridgeChannel(channelName) ? this.manager.getUnsafe(channelName) : this.manager.get(channelName);\n        if(channel) {\n          bindName = inConnections[channelName].bind;\n          previousState = inConnections[channelName].previousState || false;\n          subscriptor = this.getSubscriptor(node);\n\n          subscriptor.subscribe(channel, this._wrapCallbackWithNode(node, bindName), previousState);\n        }\n      }\n    }\n  }\n\n  _updateInConnections(node, inConnections) {\n    let channelName;\n    let bindName;\n    let previousState;\n    let subscriptor;\n    let channel;\n\n    if(inConnections) {\n      for(channelName in inConnections) {\n        bindName = inConnections[channelName].bind;\n        previousState = inConnections[channelName].previousState || false;\n        subscriptor = this.getSubscriptor(node);\n        if(this.isActiveBridgeChannel(channelName) ||\n          (!this.isActiveBridgeChannel(channelName) && !this.hasSubscriptions(subscriptor, channelName))\n        ) {\n          channel = this.manager.get(channelName);\n\n          subscriptor.subscribe(channel, this._wrapCallbackWithNode(node, bindName), previousState);\n        }\n      }\n    }\n  }\n\n  _wrapCallbackWithNode(node, bindName) {\n    let cb = this.wrapCallback(node, bindName);\n    cb.node = node;\n    return cb;\n  }\n\n  _hasPublisher(subscriptor, node, channelName, bindName) {\n    let hasPublisher = false;\n\n    if (subscriptor.publications._subscriptions) {\n      subscriptor.publications._subscriptions.forEach(function(publication){\n        if (publication.node === node &&\n        publication.channelName === channelName &&\n        publication.eventName === bindName) {\n          hasPublisher = true;\n        }\n      });\n    }\n    return hasPublisher;\n  }\n\n  _registerOutConnections(node, outConnections) {\n    let channelName;\n    let bindName;\n    let subscriptor;\n    let channel;\n    let hasPublisher;\n\n    if(outConnections) {\n      for(channelName in outConnections) {\n        if(this.isBridgeChannel(channelName)) {\n          console.warn(`Forbidden operation. You are trying to write to a private channel (${channelName}).`);\n        } else {\n          bindName = outConnections[channelName].bind;\n          subscriptor = this.getSubscriptor(node);\n          channel = this.manager.get(channelName);\n          hasPublisher = this._hasPublisher(subscriptor, node, channelName, bindName);\n\n          if (!hasPublisher) {\n            subscriptor.publish(this.wrapEvent(node, bindName, channel, outConnections[channelName]));\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Unregister a node from pubsub\n   *\n   * @param  {HTMLElement} node\n   */\n  unregister(node) {\n    if(!node) {\n      return;\n    }\n\n    var subscriptor = this.subscriptors.get(node);\n\n    if(subscriptor) {\n      subscriptor.unsubscribe();\n      this.subscriptors.delete(node);\n    }\n  }\n\n  /**\n   * Wrap a callback.\n   *\n   * @param  {HTMLElement/Object} node\n   * @param  {String} bindName Method or property name\n   *\n   * @return {Function}\n   */\n  wrapCallback(node, bindName) {\n    var wrappedCb = function(event) {\n      if(typeof node[bindName] === 'function') {\n        node[bindName](event.detail);\n      } else {\n        node[bindName] = event.detail;\n      }\n    };\n\n    return wrappedCb;\n  }\n\n  /**\n   * Returns true if the event has reached the node that is listening the event\n   *\n   * @param {Event} event\n   */\n  _isEventAtTarget(event) {\n    return event.eventPhase === Event.AT_TARGET;\n  }\n\n  /**\n   * Wrap an event.\n   *\n   * @param  {HTMLElement} node\n   * @param  {String} eventName\n   * @param  {Channel} channel\n   *\n   * @return {Function}\n   */\n  wrapEvent(node, eventName, channel, connection) {\n    var source = Observable.fromEvent(node, eventName);\n    var wrappedListener = source.subscribe(function(event) {\n      if(!this._isEventAtTarget(event)) {\n        // If the event bubbles up from a child element:\n        return;\n      }\n\n      channel.next(event);\n      eventManager.emit('after-publish', event);\n\n      if(connection.link) {\n        eventManager.emit('nav-request', {\n          event: event,\n          detail: connection.link\n        });\n      }\n\n      if(connection.analytics) {\n        eventManager.emit('track-event', {\n          event: event,\n          detail: connection.analytics\n        });\n      }\n\n    }.bind(this));\n\n    wrappedListener.node = node;\n    wrappedListener.eventName = eventName;\n    wrappedListener.channelName = channel.name;\n\n    return wrappedListener;\n  }\n\n  /**\n   * receive a channel name and change old private values.\n   *\n   * @param  {string} name\n   *\n   */\n  createEvent(name, value) {\n    let evt = new Event(name);\n    evt.detail = { value };\n    return evt;\n  }\n\n  /**\n   * returns true if there's a private channel with the given name\n   *\n   * @param {String} name\n   *\n   * @return {Boolean}\n   */\n  isActiveBridgeChannel(name) {\n    return this.isBridgeChannel(name) && this.manager.getUnsafe(name);\n  }\n\n  /**\n   * returns true if the given name matches a private channel's name\n   *\n   * @param {String} name\n   *\n   * @return {Boolean}\n   */\n  isBridgeChannel(name) {\n    return this.bridgeChannelsPrefix.test(name);\n  }\n\n  /**\n   * returns true if the subscriptor has been subscribed to the given channel.\n   *\n   * @param {Subscriptor} subscriptor\n   * @param {String} channelName\n   *\n   * @return {Boolean}\n   */\n  hasSubscriptions(subscriptor, channelName) {\n    return subscriptor.subscriptions.filter(d => d.channel.name === channelName).length > 0;\n  }\n}\n\n/**\n * ComponentConnector definition\n */\nexport default ComponentConnector;\n\n\n\n// WEBPACK FOOTER //\n// ./~/cells-bridge/src/component-connector.js","\"use strict\";\nvar isArray_1 = require('./util/isArray');\nvar isObject_1 = require('./util/isObject');\nvar isFunction_1 = require('./util/isFunction');\nvar tryCatch_1 = require('./util/tryCatch');\nvar errorObject_1 = require('./util/errorObject');\nvar UnsubscriptionError_1 = require('./util/UnsubscriptionError');\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nvar Subscription = (function () {\n    /**\n     * @param {function(): void} [unsubscribe] A function describing how to\n     * perform the disposal of resources when the `unsubscribe` method is called.\n     */\n    function Subscription(unsubscribe) {\n        /**\n         * A flag to indicate whether this Subscription has already been unsubscribed.\n         * @type {boolean}\n         */\n        this.closed = false;\n        this._parent = null;\n        this._parents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    /**\n     * Disposes the resources held by the subscription. May, for instance, cancel\n     * an ongoing Observable execution or cancel any other type of work that\n     * started when the Subscription was created.\n     * @return {void}\n     */\n    Subscription.prototype.unsubscribe = function () {\n        var hasErrors = false;\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parent = _a._parent, _parents = _a._parents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parent = null;\n        this._parents = null;\n        // null out _subscriptions first so any child subscriptions that attempt\n        // to remove themselves from this subscription will noop\n        this._subscriptions = null;\n        var index = -1;\n        var len = _parents ? _parents.length : 0;\n        // if this._parent is null, then so is this._parents, and we\n        // don't have to remove ourselves from any parent subscriptions.\n        while (_parent) {\n            _parent.remove(this);\n            // if this._parents is null or index >= len,\n            // then _parent is set to null, and the loop exits\n            _parent = ++index < len && _parents[index] || null;\n        }\n        if (isFunction_1.isFunction(_unsubscribe)) {\n            var trial = tryCatch_1.tryCatch(_unsubscribe).call(this);\n            if (trial === errorObject_1.errorObject) {\n                hasErrors = true;\n                errors = errors || (errorObject_1.errorObject.e instanceof UnsubscriptionError_1.UnsubscriptionError ?\n                    flattenUnsubscriptionErrors(errorObject_1.errorObject.e.errors) : [errorObject_1.errorObject.e]);\n            }\n        }\n        if (isArray_1.isArray(_subscriptions)) {\n            index = -1;\n            len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject_1.isObject(sub)) {\n                    var trial = tryCatch_1.tryCatch(sub.unsubscribe).call(sub);\n                    if (trial === errorObject_1.errorObject) {\n                        hasErrors = true;\n                        errors = errors || [];\n                        var err = errorObject_1.errorObject.e;\n                        if (err instanceof UnsubscriptionError_1.UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(err.errors));\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                }\n            }\n        }\n        if (hasErrors) {\n            throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n        }\n    };\n    /**\n     * Adds a tear down to be called during the unsubscribe() of this\n     * Subscription.\n     *\n     * If the tear down being added is a subscription that is already\n     * unsubscribed, is the same reference `add` is being called on, or is\n     * `Subscription.EMPTY`, it will not be added.\n     *\n     * If this subscription is already in an `closed` state, the passed\n     * tear down logic will be executed immediately.\n     *\n     * @param {TeardownLogic} teardown The additional logic to execute on\n     * teardown.\n     * @return {Subscription} Returns the Subscription used or created to be\n     * added to the inner subscriptions list. This Subscription can be used with\n     * `remove()` to remove the passed teardown logic from the inner subscriptions\n     * list.\n     */\n    Subscription.prototype.add = function (teardown) {\n        if (!teardown || (teardown === Subscription.EMPTY)) {\n            return Subscription.EMPTY;\n        }\n        if (teardown === this) {\n            return this;\n        }\n        var subscription = teardown;\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (typeof subscription._addParent !== 'function' /* quack quack */) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default:\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n        }\n        var subscriptions = this._subscriptions || (this._subscriptions = []);\n        subscriptions.push(subscription);\n        subscription._addParent(this);\n        return subscription;\n    };\n    /**\n     * Removes a Subscription from the internal list of subscriptions that will\n     * unsubscribe during the unsubscribe process of this Subscription.\n     * @param {Subscription} subscription The subscription to remove.\n     * @return {void}\n     */\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _a = this, _parent = _a._parent, _parents = _a._parents;\n        if (!_parent || _parent === parent) {\n            // If we don't have a parent, or the new parent is the same as the\n            // current parent, then set this._parent to the new parent.\n            this._parent = parent;\n        }\n        else if (!_parents) {\n            // If there's already one parent, but not multiple, allocate an Array to\n            // store the rest of the parent Subscriptions.\n            this._parents = [parent];\n        }\n        else if (_parents.indexOf(parent) === -1) {\n            // Only add the new parent to the _parents list if it's not already there.\n            _parents.push(parent);\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexports.Subscription = Subscription;\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError_1.UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/Subscription.js","\"use strict\";\nexports.isArray = Array.isArray || (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArray.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/util/isArray.js","\"use strict\";\nfunction isObject(x) {\n    return x != null && typeof x === 'object';\n}\nexports.isObject = isObject;\n//# sourceMappingURL=isObject.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/util/isObject.js","\"use strict\";\nfunction isFunction(x) {\n    return typeof x === 'function';\n}\nexports.isFunction = isFunction;\n//# sourceMappingURL=isFunction.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/util/isFunction.js","\"use strict\";\nvar errorObject_1 = require('./errorObject');\nvar tryCatchTarget;\nfunction tryCatcher() {\n    try {\n        return tryCatchTarget.apply(this, arguments);\n    }\n    catch (e) {\n        errorObject_1.errorObject.e = e;\n        return errorObject_1.errorObject;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\nexports.tryCatch = tryCatch;\n;\n//# sourceMappingURL=tryCatch.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/util/tryCatch.js","\"use strict\";\n// typeof any so that it we don't have to cast when comparing a result to the error object\nexports.errorObject = { e: {} };\n//# sourceMappingURL=errorObject.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/util/errorObject.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nvar UnsubscriptionError = (function (_super) {\n    __extends(UnsubscriptionError, _super);\n    function UnsubscriptionError(errors) {\n        _super.call(this);\n        this.errors = errors;\n        var err = Error.call(this, errors ?\n            errors.length + \" errors occurred during unsubscription:\\n  \" + errors.map(function (err, i) { return ((i + 1) + \") \" + err.toString()); }).join('\\n  ') : '');\n        this.name = err.name = 'UnsubscriptionError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return UnsubscriptionError;\n}(Error));\nexports.UnsubscriptionError = UnsubscriptionError;\n//# sourceMappingURL=UnsubscriptionError.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/util/UnsubscriptionError.js","\"use strict\";\nvar root_1 = require('./util/root');\nvar toSubscriber_1 = require('./util/toSubscriber');\nvar observable_1 = require('./symbol/observable');\nvar pipe_1 = require('./util/pipe');\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nvar Observable = (function () {\n    /**\n     * @constructor\n     * @param {Function} subscribe the function that is called when the Observable is\n     * initially subscribed to. This function is given a Subscriber, to which new values\n     * can be `next`ed, or an `error` method can be called to raise an error, or\n     * `complete` can be called to notify of a successful completion.\n     */\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    /**\n     * Creates a new Observable, with this Observable as the source, and the passed\n     * operator defined as the new observable's operator.\n     * @method lift\n     * @param {Operator} operator the operator defining the operation to take on the observable\n     * @return {Observable} a new observable with the Operator applied\n     */\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    /**\n     * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n     *\n     * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n     *\n     * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n     * might be for example a function that you passed to a {@link create} static factory, but most of the time it is\n     * a library implementation, which defines what and when will be emitted by an Observable. This means that calling\n     * `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n     * thought.\n     *\n     * Apart from starting the execution of an Observable, this method allows you to listen for values\n     * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n     * following ways.\n     *\n     * The first way is creating an object that implements {@link Observer} interface. It should have methods\n     * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n     * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n     * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n     * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n     * do anything, you can simply omit it. Note however, that if `error` method is not provided, all errors will\n     * be left uncaught.\n     *\n     * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n     * This means you can provide three functions as arguments to `subscribe`, where first function is equivalent\n     * of a `next` method, second of an `error` method and third of a `complete` method. Just as in case of Observer,\n     * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n     * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n     * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n     *\n     * Whatever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n     * This object allows you to call `unsubscribe` on it, which in turn will stop work that an Observable does and will clean\n     * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n     * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n     *\n     * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n     * It is an Observable itself that decides when these functions will be called. For example {@link of}\n     * by default emits all its values synchronously. Always check documentation for how given Observable\n     * will behave when subscribed and if its default behavior can be modified with a {@link Scheduler}.\n     *\n     * @example <caption>Subscribe with an Observer</caption>\n     * const sumObserver = {\n     *   sum: 0,\n     *   next(value) {\n     *     console.log('Adding: ' + value);\n     *     this.sum = this.sum + value;\n     *   },\n     *   error() { // We actually could just remove this method,\n     *   },        // since we do not really care about errors right now.\n     *   complete() {\n     *     console.log('Sum equals: ' + this.sum);\n     *   }\n     * };\n     *\n     * Rx.Observable.of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n     * .subscribe(sumObserver);\n     *\n     * // Logs:\n     * // \"Adding: 1\"\n     * // \"Adding: 2\"\n     * // \"Adding: 3\"\n     * // \"Sum equals: 6\"\n     *\n     *\n     * @example <caption>Subscribe with functions</caption>\n     * let sum = 0;\n     *\n     * Rx.Observable.of(1, 2, 3)\n     * .subscribe(\n     *   function(value) {\n     *     console.log('Adding: ' + value);\n     *     sum = sum + value;\n     *   },\n     *   undefined,\n     *   function() {\n     *     console.log('Sum equals: ' + sum);\n     *   }\n     * );\n     *\n     * // Logs:\n     * // \"Adding: 1\"\n     * // \"Adding: 2\"\n     * // \"Adding: 3\"\n     * // \"Sum equals: 6\"\n     *\n     *\n     * @example <caption>Cancel a subscription</caption>\n     * const subscription = Rx.Observable.interval(1000).subscribe(\n     *   num => console.log(num),\n     *   undefined,\n     *   () => console.log('completed!') // Will not be called, even\n     * );                                // when cancelling subscription\n     *\n     *\n     * setTimeout(() => {\n     *   subscription.unsubscribe();\n     *   console.log('unsubscribed!');\n     * }, 2500);\n     *\n     * // Logs:\n     * // 0 after 1s\n     * // 1 after 2s\n     * // \"unsubscribed!\" after 2.5s\n     *\n     *\n     * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n     *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n     *  Observable.\n     * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n     *  the error will be thrown as unhandled.\n     * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n     * @return {ISubscription} a subscription reference to the registered handlers\n     * @method subscribe\n     */\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            operator.call(sink, this.source);\n        }\n        else {\n            sink.add(this.source || !sink.syncErrorThrowable ? this._subscribe(sink) : this._trySubscribe(sink));\n        }\n        if (sink.syncErrorThrowable) {\n            sink.syncErrorThrowable = false;\n            if (sink.syncErrorThrown) {\n                throw sink.syncErrorValue;\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.syncErrorThrown = true;\n            sink.syncErrorValue = err;\n            sink.error(err);\n        }\n    };\n    /**\n     * @method forEach\n     * @param {Function} next a handler for each value emitted by the observable\n     * @param {PromiseConstructor} [PromiseCtor] a constructor function used to instantiate the Promise\n     * @return {Promise} a promise that either resolves on observable completion or\n     *  rejects with the handled error\n     */\n    Observable.prototype.forEach = function (next, PromiseCtor) {\n        var _this = this;\n        if (!PromiseCtor) {\n            if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {\n                PromiseCtor = root_1.root.Rx.config.Promise;\n            }\n            else if (root_1.root.Promise) {\n                PromiseCtor = root_1.root.Promise;\n            }\n        }\n        if (!PromiseCtor) {\n            throw new Error('no Promise impl found');\n        }\n        return new PromiseCtor(function (resolve, reject) {\n            // Must be declared in a separate statement to avoid a RefernceError when\n            // accessing subscription below in the closure due to Temporal Dead Zone.\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                if (subscription) {\n                    // if there is a subscription, then we can surmise\n                    // the next handling is asynchronous. Any errors thrown\n                    // need to be rejected explicitly and unsubscribe must be\n                    // called manually\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscription.unsubscribe();\n                    }\n                }\n                else {\n                    // if there is NO subscription, then we're getting a nexted\n                    // value synchronously during subscription. We can just call it.\n                    // If it errors, Observable's `subscribe` will ensure the\n                    // unsubscription logic is called, then synchronously rethrow the error.\n                    // After that, Promise will trap the error and send it\n                    // down the rejection path.\n                    next(value);\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        return this.source.subscribe(subscriber);\n    };\n    /**\n     * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n     * @method Symbol.observable\n     * @return {Observable} this instance of the observable\n     */\n    Observable.prototype[observable_1.observable] = function () {\n        return this;\n    };\n    /* tslint:enable:max-line-length */\n    /**\n     * Used to stitch together functional operators into a chain.\n     * @method pipe\n     * @return {Observable} the Observable result of all of the operators having\n     * been called in the order they were passed in.\n     *\n     * @example\n     *\n     * import { map, filter, scan } from 'rxjs/operators';\n     *\n     * Rx.Observable.interval(1000)\n     *   .pipe(\n     *     filter(x => x % 2 === 0),\n     *     map(x => x + x),\n     *     scan((acc, x) => acc + x)\n     *   )\n     *   .subscribe(x => console.log(x))\n     */\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i - 0] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipe_1.pipeFromArray(operations)(this);\n    };\n    /* tslint:enable:max-line-length */\n    Observable.prototype.toPromise = function (PromiseCtor) {\n        var _this = this;\n        if (!PromiseCtor) {\n            if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {\n                PromiseCtor = root_1.root.Rx.config.Promise;\n            }\n            else if (root_1.root.Promise) {\n                PromiseCtor = root_1.root.Promise;\n            }\n        }\n        if (!PromiseCtor) {\n            throw new Error('no Promise impl found');\n        }\n        return new PromiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    // HACK: Since TypeScript inherits static properties too, we have to\n    // fight against TypeScript here so Subject can have a different static create signature\n    /**\n     * Creates a new cold Observable by calling the Observable constructor\n     * @static true\n     * @owner Observable\n     * @method create\n     * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n     * @return {Observable} a new cold observable\n     */\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexports.Observable = Observable;\n//# sourceMappingURL=Observable.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/Observable.js","\"use strict\";\n// CommonJS / Node have global context exposed as \"global\" variable.\n// We don't want to include the whole node.d.ts this this compilation unit so we'll just fake\n// the global \"global\" var for now.\nvar __window = typeof window !== 'undefined' && window;\nvar __self = typeof self !== 'undefined' && typeof WorkerGlobalScope !== 'undefined' &&\n    self instanceof WorkerGlobalScope && self;\nvar __global = typeof global !== 'undefined' && global;\nvar _root = __window || __global || __self;\nexports.root = _root;\n// Workaround Closure Compiler restriction: The body of a goog.module cannot use throw.\n// This is needed when used with angular/tsickle which inserts a goog.module statement.\n// Wrap in IIFE\n(function () {\n    if (!_root) {\n        throw new Error('RxJS could not find any global context (window, self, global)');\n    }\n})();\n//# sourceMappingURL=root.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/util/root.js","\"use strict\";\nvar Subscriber_1 = require('../Subscriber');\nvar rxSubscriber_1 = require('../symbol/rxSubscriber');\nvar Observer_1 = require('../Observer');\nfunction toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriber_1.rxSubscriber]) {\n            return nextOrObserver[rxSubscriber_1.rxSubscriber]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber_1.Subscriber(Observer_1.empty);\n    }\n    return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n}\nexports.toSubscriber = toSubscriber;\n//# sourceMappingURL=toSubscriber.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/util/toSubscriber.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isFunction_1 = require('./util/isFunction');\nvar Subscription_1 = require('./Subscription');\nvar Observer_1 = require('./Observer');\nvar rxSubscriber_1 = require('./symbol/rxSubscriber');\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    /**\n     * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n     * defined Observer or a `next` callback function.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     */\n    function Subscriber(destinationOrNext, error, complete) {\n        _super.call(this);\n        this.syncErrorValue = null;\n        this.syncErrorThrown = false;\n        this.syncErrorThrowable = false;\n        this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                this.destination = Observer_1.empty;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    this.destination = Observer_1.empty;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        this.destination = destinationOrNext;\n                        this.destination.add(this);\n                    }\n                    else {\n                        this.syncErrorThrowable = true;\n                        this.destination = new SafeSubscriber(this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                this.syncErrorThrowable = true;\n                this.destination = new SafeSubscriber(this, destinationOrNext, error, complete);\n                break;\n        }\n    }\n    Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () { return this; };\n    /**\n     * A static factory for a Subscriber, given a (potentially partial) definition\n     * of an Observer.\n     * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n     * Observer represented by the given arguments.\n     */\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `next` from\n     * the Observable, with a value. The Observable may call this method 0 or more\n     * times.\n     * @param {T} [value] The `next` value.\n     * @return {void}\n     */\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `error` from\n     * the Observable, with an attached {@link Error}. Notifies the Observer that\n     * the Observable has experienced an error condition.\n     * @param {any} [err] The `error` exception.\n     * @return {void}\n     */\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive a valueless notification of type\n     * `complete` from the Observable. Notifies the Observer that the Observable\n     * has finished sending push-based notifications.\n     * @return {void}\n     */\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _a = this, _parent = _a._parent, _parents = _a._parents;\n        this._parent = null;\n        this._parents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parent = _parent;\n        this._parents = _parents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription_1.Subscription));\nexports.Subscriber = Subscriber;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        _super.call(this);\n        this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = this;\n        if (isFunction_1.isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== Observer_1.empty) {\n                context = Object.create(observerOrNext);\n                if (isFunction_1.isFunction(context.unsubscribe)) {\n                    this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = this.unsubscribe.bind(this);\n            }\n        }\n        this._context = context;\n        this._next = next;\n        this._error = error;\n        this._complete = complete;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._error) {\n                if (!_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                throw err;\n            }\n            else {\n                _parentSubscriber.syncErrorValue = err;\n                _parentSubscriber.syncErrorThrown = true;\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            throw err;\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            parent.syncErrorValue = err;\n            parent.syncErrorThrown = true;\n            return true;\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\n//# sourceMappingURL=Subscriber.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/Subscriber.js","\"use strict\";\nexports.empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) { throw err; },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/Observer.js","\"use strict\";\nvar root_1 = require('../util/root');\nvar Symbol = root_1.root.Symbol;\nexports.rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function') ?\n    Symbol.for('rxSubscriber') : '@@rxSubscriber';\n/**\n * @deprecated use rxSubscriber instead\n */\nexports.$$rxSubscriber = exports.rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/symbol/rxSubscriber.js","\"use strict\";\nvar root_1 = require('../util/root');\nfunction getSymbolObservable(context) {\n    var $$observable;\n    var Symbol = context.Symbol;\n    if (typeof Symbol === 'function') {\n        if (Symbol.observable) {\n            $$observable = Symbol.observable;\n        }\n        else {\n            $$observable = Symbol('observable');\n            Symbol.observable = $$observable;\n        }\n    }\n    else {\n        $$observable = '@@observable';\n    }\n    return $$observable;\n}\nexports.getSymbolObservable = getSymbolObservable;\nexports.observable = getSymbolObservable(root_1.root);\n/**\n * @deprecated use observable instead\n */\nexports.$$observable = exports.observable;\n//# sourceMappingURL=observable.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/symbol/observable.js","\"use strict\";\nvar noop_1 = require('./noop');\n/* tslint:enable:max-line-length */\nfunction pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i - 0] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexports.pipe = pipe;\n/* @internal */\nfunction pipeFromArray(fns) {\n    if (!fns) {\n        return noop_1.noop;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\nexports.pipeFromArray = pipeFromArray;\n//# sourceMappingURL=pipe.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/util/pipe.js","\"use strict\";\n/* tslint:disable:no-empty */\nfunction noop() { }\nexports.noop = noop;\n//# sourceMappingURL=noop.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/util/noop.js","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar fromEvent_1 = require('../../observable/fromEvent');\nObservable_1.Observable.fromEvent = fromEvent_1.fromEvent;\n//# sourceMappingURL=fromEvent.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/add/observable/fromEvent.js","\"use strict\";\nvar FromEventObservable_1 = require('./FromEventObservable');\nexports.fromEvent = FromEventObservable_1.FromEventObservable.create;\n//# sourceMappingURL=fromEvent.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/observable/fromEvent.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar tryCatch_1 = require('../util/tryCatch');\nvar isFunction_1 = require('../util/isFunction');\nvar errorObject_1 = require('../util/errorObject');\nvar Subscription_1 = require('../Subscription');\nvar toString = Object.prototype.toString;\nfunction isNodeStyleEventEmitter(sourceObj) {\n    return !!sourceObj && typeof sourceObj.addListener === 'function' && typeof sourceObj.removeListener === 'function';\n}\nfunction isJQueryStyleEventEmitter(sourceObj) {\n    return !!sourceObj && typeof sourceObj.on === 'function' && typeof sourceObj.off === 'function';\n}\nfunction isNodeList(sourceObj) {\n    return !!sourceObj && toString.call(sourceObj) === '[object NodeList]';\n}\nfunction isHTMLCollection(sourceObj) {\n    return !!sourceObj && toString.call(sourceObj) === '[object HTMLCollection]';\n}\nfunction isEventTarget(sourceObj) {\n    return !!sourceObj && typeof sourceObj.addEventListener === 'function' && typeof sourceObj.removeEventListener === 'function';\n}\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar FromEventObservable = (function (_super) {\n    __extends(FromEventObservable, _super);\n    function FromEventObservable(sourceObj, eventName, selector, options) {\n        _super.call(this);\n        this.sourceObj = sourceObj;\n        this.eventName = eventName;\n        this.selector = selector;\n        this.options = options;\n    }\n    /* tslint:enable:max-line-length */\n    /**\n     * Creates an Observable that emits events of a specific type coming from the\n     * given event target.\n     *\n     * <span class=\"informal\">Creates an Observable from DOM events, or Node.js\n     * EventEmitter events or others.</span>\n     *\n     * <img src=\"./img/fromEvent.png\" width=\"100%\">\n     *\n     * `fromEvent` accepts as a first argument event target, which is an object with methods\n     * for registering event handler functions. As a second argument it takes string that indicates\n     * type of event we want to listen for. `fromEvent` supports selected types of event targets,\n     * which are described in detail below. If your event target does not match any of the ones listed,\n     * you should use {@link fromEventPattern}, which can be used on arbitrary APIs.\n     * When it comes to APIs supported by `fromEvent`, their methods for adding and removing event\n     * handler functions have different names, but they all accept a string describing event type\n     * and function itself, which will be called whenever said event happens.\n     *\n     * Every time resulting Observable is subscribed, event handler function will be registered\n     * to event target on given event type. When that event fires, value\n     * passed as a first argument to registered function will be emitted by output Observable.\n     * When Observable is unsubscribed, function will be unregistered from event target.\n     *\n     * Note that if event target calls registered function with more than one argument, second\n     * and following arguments will not appear in resulting stream. In order to get access to them,\n     * you can pass to `fromEvent` optional project function, which will be called with all arguments\n     * passed to event handler. Output Observable will then emit value returned by project function,\n     * instead of the usual value.\n     *\n     * Remember that event targets listed below are checked via duck typing. It means that\n     * no matter what kind of object you have and no matter what environment you work in,\n     * you can safely use `fromEvent` on that object if it exposes described methods (provided\n     * of course they behave as was described above). So for example if Node.js library exposes\n     * event target which has the same method names as DOM EventTarget, `fromEvent` is still\n     * a good choice.\n     *\n     * If the API you use is more callback then event handler oriented (subscribed\n     * callback function fires only once and thus there is no need to manually\n     * unregister it), you should use {@link bindCallback} or {@link bindNodeCallback}\n     * instead.\n     *\n     * `fromEvent` supports following types of event targets:\n     *\n     * **DOM EventTarget**\n     *\n     * This is an object with `addEventListener` and `removeEventListener` methods.\n     *\n     * In the browser, `addEventListener` accepts - apart from event type string and event\n     * handler function arguments - optional third parameter, which is either an object or boolean,\n     * both used for additional configuration how and when passed function will be called. When\n     * `fromEvent` is used with event target of that type, you can provide this values\n     * as third parameter as well.\n     *\n     * **Node.js EventEmitter**\n     *\n     * An object with `addListener` and `removeListener` methods.\n     *\n     * **JQuery-style event target**\n     *\n     * An object with `on` and `off` methods\n     *\n     * **DOM NodeList**\n     *\n     * List of DOM Nodes, returned for example by `document.querySelectorAll` or `Node.childNodes`.\n     *\n     * Although this collection is not event target in itself, `fromEvent` will iterate over all Nodes\n     * it contains and install event handler function in every of them. When returned Observable\n     * is unsubscribed, function will be removed from all Nodes.\n     *\n     * **DOM HtmlCollection**\n     *\n     * Just as in case of NodeList it is a collection of DOM nodes. Here as well event handler function is\n     * installed and removed in each of elements.\n     *\n     *\n     * @example <caption>Emits clicks happening on the DOM document</caption>\n     * var clicks = Rx.Observable.fromEvent(document, 'click');\n     * clicks.subscribe(x => console.log(x));\n     *\n     * // Results in:\n     * // MouseEvent object logged to console every time a click\n     * // occurs on the document.\n     *\n     *\n     * @example <caption>Use addEventListener with capture option</caption>\n     * var clicksInDocument = Rx.Observable.fromEvent(document, 'click', true); // note optional configuration parameter\n     *                                                                          // which will be passed to addEventListener\n     * var clicksInDiv = Rx.Observable.fromEvent(someDivInDocument, 'click');\n     *\n     * clicksInDocument.subscribe(() => console.log('document'));\n     * clicksInDiv.subscribe(() => console.log('div'));\n     *\n     * // By default events bubble UP in DOM tree, so normally\n     * // when we would click on div in document\n     * // \"div\" would be logged first and then \"document\".\n     * // Since we specified optional `capture` option, document\n     * // will catch event when it goes DOWN DOM tree, so console\n     * // will log \"document\" and then \"div\".\n     *\n     * @see {@link bindCallback}\n     * @see {@link bindNodeCallback}\n     * @see {@link fromEventPattern}\n     *\n     * @param {EventTargetLike} target The DOM EventTarget, Node.js\n     * EventEmitter, JQuery-like event target, NodeList or HTMLCollection to attach the event handler to.\n     * @param {string} eventName The event name of interest, being emitted by the\n     * `target`.\n     * @param {EventListenerOptions} [options] Options to pass through to addEventListener\n     * @param {SelectorMethodSignature<T>} [selector] An optional function to\n     * post-process results. It takes the arguments from the event handler and\n     * should return a single value.\n     * @return {Observable<T>}\n     * @static true\n     * @name fromEvent\n     * @owner Observable\n     */\n    FromEventObservable.create = function (target, eventName, options, selector) {\n        if (isFunction_1.isFunction(options)) {\n            selector = options;\n            options = undefined;\n        }\n        return new FromEventObservable(target, eventName, selector, options);\n    };\n    FromEventObservable.setupSubscription = function (sourceObj, eventName, handler, subscriber, options) {\n        var unsubscribe;\n        if (isNodeList(sourceObj) || isHTMLCollection(sourceObj)) {\n            for (var i = 0, len = sourceObj.length; i < len; i++) {\n                FromEventObservable.setupSubscription(sourceObj[i], eventName, handler, subscriber, options);\n            }\n        }\n        else if (isEventTarget(sourceObj)) {\n            var source_1 = sourceObj;\n            sourceObj.addEventListener(eventName, handler, options);\n            unsubscribe = function () { return source_1.removeEventListener(eventName, handler); };\n        }\n        else if (isJQueryStyleEventEmitter(sourceObj)) {\n            var source_2 = sourceObj;\n            sourceObj.on(eventName, handler);\n            unsubscribe = function () { return source_2.off(eventName, handler); };\n        }\n        else if (isNodeStyleEventEmitter(sourceObj)) {\n            var source_3 = sourceObj;\n            sourceObj.addListener(eventName, handler);\n            unsubscribe = function () { return source_3.removeListener(eventName, handler); };\n        }\n        else {\n            throw new TypeError('Invalid event target');\n        }\n        subscriber.add(new Subscription_1.Subscription(unsubscribe));\n    };\n    FromEventObservable.prototype._subscribe = function (subscriber) {\n        var sourceObj = this.sourceObj;\n        var eventName = this.eventName;\n        var options = this.options;\n        var selector = this.selector;\n        var handler = selector ? function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i - 0] = arguments[_i];\n            }\n            var result = tryCatch_1.tryCatch(selector).apply(void 0, args);\n            if (result === errorObject_1.errorObject) {\n                subscriber.error(errorObject_1.errorObject.e);\n            }\n            else {\n                subscriber.next(result);\n            }\n        } : function (e) { return subscriber.next(e); };\n        FromEventObservable.setupSubscription(sourceObj, eventName, handler, subscriber, options);\n    };\n    return FromEventObservable;\n}(Observable_1.Observable));\nexports.FromEventObservable = FromEventObservable;\n//# sourceMappingURL=FromEventObservable.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/observable/FromEventObservable.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('./Subject');\nvar queue_1 = require('./scheduler/queue');\nvar Subscription_1 = require('./Subscription');\nvar observeOn_1 = require('./operators/observeOn');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\nvar SubjectSubscription_1 = require('./SubjectSubscription');\n/**\n * @class ReplaySubject<T>\n */\nvar ReplaySubject = (function (_super) {\n    __extends(ReplaySubject, _super);\n    function ReplaySubject(bufferSize, windowTime, scheduler) {\n        if (bufferSize === void 0) { bufferSize = Number.POSITIVE_INFINITY; }\n        if (windowTime === void 0) { windowTime = Number.POSITIVE_INFINITY; }\n        _super.call(this);\n        this.scheduler = scheduler;\n        this._events = [];\n        this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n        this._windowTime = windowTime < 1 ? 1 : windowTime;\n    }\n    ReplaySubject.prototype.next = function (value) {\n        var now = this._getNow();\n        this._events.push(new ReplayEvent(now, value));\n        this._trimBufferThenGetEvents();\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype._subscribe = function (subscriber) {\n        var _events = this._trimBufferThenGetEvents();\n        var scheduler = this.scheduler;\n        var subscription;\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscription = Subscription_1.Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscription = Subscription_1.Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            subscription = new SubjectSubscription_1.SubjectSubscription(this, subscriber);\n        }\n        if (scheduler) {\n            subscriber.add(subscriber = new observeOn_1.ObserveOnSubscriber(subscriber, scheduler));\n        }\n        var len = _events.length;\n        for (var i = 0; i < len && !subscriber.closed; i++) {\n            subscriber.next(_events[i].value);\n        }\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n        }\n        return subscription;\n    };\n    ReplaySubject.prototype._getNow = function () {\n        return (this.scheduler || queue_1.queue).now();\n    };\n    ReplaySubject.prototype._trimBufferThenGetEvents = function () {\n        var now = this._getNow();\n        var _bufferSize = this._bufferSize;\n        var _windowTime = this._windowTime;\n        var _events = this._events;\n        var eventsCount = _events.length;\n        var spliceCount = 0;\n        // Trim events that fall out of the time window.\n        // Start at the front of the list. Break early once\n        // we encounter an event that falls within the window.\n        while (spliceCount < eventsCount) {\n            if ((now - _events[spliceCount].time) < _windowTime) {\n                break;\n            }\n            spliceCount++;\n        }\n        if (eventsCount > _bufferSize) {\n            spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n        }\n        if (spliceCount > 0) {\n            _events.splice(0, spliceCount);\n        }\n        return _events;\n    };\n    return ReplaySubject;\n}(Subject_1.Subject));\nexports.ReplaySubject = ReplaySubject;\nvar ReplayEvent = (function () {\n    function ReplayEvent(time, value) {\n        this.time = time;\n        this.value = value;\n    }\n    return ReplayEvent;\n}());\n//# sourceMappingURL=ReplaySubject.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/ReplaySubject.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('./Observable');\nvar Subscriber_1 = require('./Subscriber');\nvar Subscription_1 = require('./Subscription');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\nvar SubjectSubscription_1 = require('./SubjectSubscription');\nvar rxSubscriber_1 = require('./symbol/rxSubscriber');\n/**\n * @class SubjectSubscriber<T>\n */\nvar SubjectSubscriber = (function (_super) {\n    __extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        _super.call(this, destination);\n        this.destination = destination;\n    }\n    return SubjectSubscriber;\n}(Subscriber_1.Subscriber));\nexports.SubjectSubscriber = SubjectSubscriber;\n/**\n * @class Subject<T>\n */\nvar Subject = (function (_super) {\n    __extends(Subject, _super);\n    function Subject() {\n        _super.call(this);\n        this.observers = [];\n        this.closed = false;\n        this.isStopped = false;\n        this.hasError = false;\n        this.thrownError = null;\n    }\n    Subject.prototype[rxSubscriber_1.rxSubscriber] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription_1.SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable_1.Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable_1.Observable));\nexports.Subject = Subject;\n/**\n * @class AnonymousSubject<T>\n */\nvar AnonymousSubject = (function (_super) {\n    __extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        _super.call(this);\n        this.destination = destination;\n        this.source = source;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription_1.Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexports.AnonymousSubject = AnonymousSubject;\n//# sourceMappingURL=Subject.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/Subject.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when an action is invalid because the object has been\n * unsubscribed.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n *\n * @class ObjectUnsubscribedError\n */\nvar ObjectUnsubscribedError = (function (_super) {\n    __extends(ObjectUnsubscribedError, _super);\n    function ObjectUnsubscribedError() {\n        var err = _super.call(this, 'object unsubscribed');\n        this.name = err.name = 'ObjectUnsubscribedError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return ObjectUnsubscribedError;\n}(Error));\nexports.ObjectUnsubscribedError = ObjectUnsubscribedError;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/util/ObjectUnsubscribedError.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscription_1 = require('./Subscription');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SubjectSubscription = (function (_super) {\n    __extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        _super.call(this);\n        this.subject = subject;\n        this.subscriber = subscriber;\n        this.closed = false;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription_1.Subscription));\nexports.SubjectSubscription = SubjectSubscription;\n//# sourceMappingURL=SubjectSubscription.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/SubjectSubscription.js","\"use strict\";\nvar QueueAction_1 = require('./QueueAction');\nvar QueueScheduler_1 = require('./QueueScheduler');\n/**\n *\n * Queue Scheduler\n *\n * <span class=\"informal\">Put every next task on a queue, instead of executing it immediately</span>\n *\n * `queue` scheduler, when used with delay, behaves the same as {@link async} scheduler.\n *\n * When used without delay, it schedules given task synchronously - executes it right when\n * it is scheduled. However when called recursively, that is when inside the scheduled task,\n * another task is scheduled with queue scheduler, instead of executing immediately as well,\n * that task will be put on a queue and wait for current one to finish.\n *\n * This means that when you execute task with `queue` scheduler, you are sure it will end\n * before any other task scheduled with that scheduler will start.\n *\n * @examples <caption>Schedule recursively first, then do something</caption>\n *\n * Rx.Scheduler.queue.schedule(() => {\n *   Rx.Scheduler.queue.schedule(() => console.log('second')); // will not happen now, but will be put on a queue\n *\n *   console.log('first');\n * });\n *\n * // Logs:\n * // \"first\"\n * // \"second\"\n *\n *\n * @example <caption>Reschedule itself recursively</caption>\n *\n * Rx.Scheduler.queue.schedule(function(state) {\n *   if (state !== 0) {\n *     console.log('before', state);\n *     this.schedule(state - 1); // `this` references currently executing Action,\n *                               // which we reschedule with new state\n *     console.log('after', state);\n *   }\n * }, 0, 3);\n *\n * // In scheduler that runs recursively, you would expect:\n * // \"before\", 3\n * // \"before\", 2\n * // \"before\", 1\n * // \"after\", 1\n * // \"after\", 2\n * // \"after\", 3\n *\n * // But with queue it logs:\n * // \"before\", 3\n * // \"after\", 3\n * // \"before\", 2\n * // \"after\", 2\n * // \"before\", 1\n * // \"after\", 1\n *\n *\n * @static true\n * @name queue\n * @owner Scheduler\n */\nexports.queue = new QueueScheduler_1.QueueScheduler(QueueAction_1.QueueAction);\n//# sourceMappingURL=queue.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/scheduler/queue.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar AsyncAction_1 = require('./AsyncAction');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar QueueAction = (function (_super) {\n    __extends(QueueAction, _super);\n    function QueueAction(scheduler, work) {\n        _super.call(this, scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n    }\n    QueueAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (delay > 0) {\n            return _super.prototype.schedule.call(this, state, delay);\n        }\n        this.delay = delay;\n        this.state = state;\n        this.scheduler.flush(this);\n        return this;\n    };\n    QueueAction.prototype.execute = function (state, delay) {\n        return (delay > 0 || this.closed) ?\n            _super.prototype.execute.call(this, state, delay) :\n            this._execute(state, delay);\n    };\n    QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If delay exists and is greater than 0, or if the delay is null (the\n        // action wasn't rescheduled) but was originally scheduled as an async\n        // action, then recycle as an async action.\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        // Otherwise flush the scheduler starting with this action.\n        return scheduler.flush(this);\n    };\n    return QueueAction;\n}(AsyncAction_1.AsyncAction));\nexports.QueueAction = QueueAction;\n//# sourceMappingURL=QueueAction.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/scheduler/QueueAction.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../util/root');\nvar Action_1 = require('./Action');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AsyncAction = (function (_super) {\n    __extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        _super.call(this, scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n        this.pending = false;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (this.closed) {\n            return this;\n        }\n        // Always replace the current state with the new state.\n        this.state = state;\n        // Set the pending flag indicating that this action has been scheduled, or\n        // has recursively rescheduled itself.\n        this.pending = true;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        //\n        // Important implementation note:\n        //\n        // Actions only execute once by default, unless rescheduled from within the\n        // scheduled callback. This allows us to implement single and repeat\n        // actions via the same code path, without adding API surface area, as well\n        // as mimic traditional recursion but across asynchronous boundaries.\n        //\n        // However, JS runtimes and timers distinguish between intervals achieved by\n        // serial `setTimeout` calls vs. a single `setInterval` call. An interval of\n        // serial `setTimeout` calls can be individually delayed, which delays\n        // scheduling the next `setTimeout`, and so on. `setInterval` attempts to\n        // guarantee the interval callback will be invoked more precisely to the\n        // interval period, regardless of load.\n        //\n        // Therefore, we use `setInterval` to schedule single and repeat actions.\n        // If the action reschedules itself with the same delay, the interval is not\n        // canceled. If the action doesn't reschedule, or reschedules with a\n        // different delay, the interval will be canceled after scheduled callback\n        // execution.\n        //\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.delay = delay;\n        // If this action has already an async Id, don't request a new one.\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        return root_1.root.setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If this action is rescheduled with the same delay time, don't clear the interval id.\n        if (delay !== null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        // Otherwise, if the action's delay time is different from the current delay,\n        // or the action has been rescheduled before it's executed, clear the interval id\n        return root_1.root.clearInterval(id) && undefined || undefined;\n    };\n    /**\n     * Immediately executes this action and the `work` it contains.\n     * @return {any}\n     */\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            // Dequeue if the action didn't reschedule itself. Don't call\n            // unsubscribe(), because the action could reschedule later.\n            // For example:\n            // ```\n            // scheduler.schedule(function doWork(counter) {\n            //   /* ... I'm a busy worker bee ... */\n            //   var originalAction = this;\n            //   /* wait 100ms before rescheduling the action */\n            //   setTimeout(function () {\n            //     originalAction.schedule(counter + 1);\n            //   }, 100);\n            // }, 1000);\n            // ```\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, delay) {\n        var errored = false;\n        var errorValue = undefined;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = !!e && e || new Error(e);\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    AsyncAction.prototype._unsubscribe = function () {\n        var id = this.id;\n        var scheduler = this.scheduler;\n        var actions = scheduler.actions;\n        var index = actions.indexOf(this);\n        this.work = null;\n        this.state = null;\n        this.pending = false;\n        this.scheduler = null;\n        if (index !== -1) {\n            actions.splice(index, 1);\n        }\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, null);\n        }\n        this.delay = null;\n    };\n    return AsyncAction;\n}(Action_1.Action));\nexports.AsyncAction = AsyncAction;\n//# sourceMappingURL=AsyncAction.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/scheduler/AsyncAction.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscription_1 = require('../Subscription');\n/**\n * A unit of work to be executed in a {@link Scheduler}. An action is typically\n * created from within a Scheduler and an RxJS user does not need to concern\n * themselves about creating and manipulating an Action.\n *\n * ```ts\n * class Action<T> extends Subscription {\n *   new (scheduler: Scheduler, work: (state?: T) => void);\n *   schedule(state?: T, delay: number = 0): Subscription;\n * }\n * ```\n *\n * @class Action<T>\n */\nvar Action = (function (_super) {\n    __extends(Action, _super);\n    function Action(scheduler, work) {\n        _super.call(this);\n    }\n    /**\n     * Schedules this action on its parent Scheduler for execution. May be passed\n     * some context object, `state`. May happen at some point in the future,\n     * according to the `delay` parameter, if specified.\n     * @param {T} [state] Some contextual data that the `work` function uses when\n     * called by the Scheduler.\n     * @param {number} [delay] Time to wait before executing the work, where the\n     * time unit is implicit and defined by the Scheduler.\n     * @return {void}\n     */\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        return this;\n    };\n    return Action;\n}(Subscription_1.Subscription));\nexports.Action = Action;\n//# sourceMappingURL=Action.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/scheduler/Action.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar AsyncScheduler_1 = require('./AsyncScheduler');\nvar QueueScheduler = (function (_super) {\n    __extends(QueueScheduler, _super);\n    function QueueScheduler() {\n        _super.apply(this, arguments);\n    }\n    return QueueScheduler;\n}(AsyncScheduler_1.AsyncScheduler));\nexports.QueueScheduler = QueueScheduler;\n//# sourceMappingURL=QueueScheduler.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/scheduler/QueueScheduler.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Scheduler_1 = require('../Scheduler');\nvar AsyncScheduler = (function (_super) {\n    __extends(AsyncScheduler, _super);\n    function AsyncScheduler() {\n        _super.apply(this, arguments);\n        this.actions = [];\n        /**\n         * A flag to indicate whether the Scheduler is currently executing a batch of\n         * queued actions.\n         * @type {boolean}\n         */\n        this.active = false;\n        /**\n         * An internal ID used to track the latest asynchronous task such as those\n         * coming from `setTimeout`, `setInterval`, `requestAnimationFrame`, and\n         * others.\n         * @type {any}\n         */\n        this.scheduled = undefined;\n    }\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this.active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this.active = true;\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (action = actions.shift()); // exhaust the scheduler queue\n        this.active = false;\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler_1.Scheduler));\nexports.AsyncScheduler = AsyncScheduler;\n//# sourceMappingURL=AsyncScheduler.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/scheduler/AsyncScheduler.js","\"use strict\";\n/**\n * An execution context and a data structure to order tasks and schedule their\n * execution. Provides a notion of (potentially virtual) time, through the\n * `now()` getter method.\n *\n * Each unit of work in a Scheduler is called an {@link Action}.\n *\n * ```ts\n * class Scheduler {\n *   now(): number;\n *   schedule(work, delay?, state?): Subscription;\n * }\n * ```\n *\n * @class Scheduler\n */\nvar Scheduler = (function () {\n    function Scheduler(SchedulerAction, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        this.SchedulerAction = SchedulerAction;\n        this.now = now;\n    }\n    /**\n     * Schedules a function, `work`, for execution. May happen at some point in\n     * the future, according to the `delay` parameter, if specified. May be passed\n     * some context object, `state`, which will be passed to the `work` function.\n     *\n     * The given arguments will be processed an stored as an Action object in a\n     * queue of actions.\n     *\n     * @param {function(state: ?T): ?Subscription} work A function representing a\n     * task, or some unit of work to be executed by the Scheduler.\n     * @param {number} [delay] Time to wait before executing the work, where the\n     * time unit is implicit and defined by the Scheduler itself.\n     * @param {T} [state] Some contextual data that the `work` function uses when\n     * called by the Scheduler.\n     * @return {Subscription} A subscription in order to be able to unsubscribe\n     * the scheduled work.\n     */\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) { delay = 0; }\n        return new this.SchedulerAction(this, work).schedule(state, delay);\n    };\n    Scheduler.now = Date.now ? Date.now : function () { return +new Date(); };\n    return Scheduler;\n}());\nexports.Scheduler = Scheduler;\n//# sourceMappingURL=Scheduler.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/Scheduler.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar Notification_1 = require('../Notification');\n/**\n *\n * Re-emits all notifications from source Observable with specified scheduler.\n *\n * <span class=\"informal\">Ensure a specific scheduler is used, from outside of an Observable.</span>\n *\n * `observeOn` is an operator that accepts a scheduler as a first parameter, which will be used to reschedule\n * notifications emitted by the source Observable. It might be useful, if you do not have control over\n * internal scheduler of a given Observable, but want to control when its values are emitted nevertheless.\n *\n * Returned Observable emits the same notifications (nexted values, complete and error events) as the source Observable,\n * but rescheduled with provided scheduler. Note that this doesn't mean that source Observables internal\n * scheduler will be replaced in any way. Original scheduler still will be used, but when the source Observable emits\n * notification, it will be immediately scheduled again - this time with scheduler passed to `observeOn`.\n * An anti-pattern would be calling `observeOn` on Observable that emits lots of values synchronously, to split\n * that emissions into asynchronous chunks. For this to happen, scheduler would have to be passed into the source\n * Observable directly (usually into the operator that creates it). `observeOn` simply delays notifications a\n * little bit more, to ensure that they are emitted at expected moments.\n *\n * As a matter of fact, `observeOn` accepts second parameter, which specifies in milliseconds with what delay notifications\n * will be emitted. The main difference between {@link delay} operator and `observeOn` is that `observeOn`\n * will delay all notifications - including error notifications - while `delay` will pass through error\n * from source Observable immediately when it is emitted. In general it is highly recommended to use `delay` operator\n * for any kind of delaying of values in the stream, while using `observeOn` to specify which scheduler should be used\n * for notification emissions in general.\n *\n * @example <caption>Ensure values in subscribe are called just before browser repaint.</caption>\n * const intervals = Rx.Observable.interval(10); // Intervals are scheduled\n *                                               // with async scheduler by default...\n *\n * intervals\n * .observeOn(Rx.Scheduler.animationFrame)       // ...but we will observe on animationFrame\n * .subscribe(val => {                           // scheduler to ensure smooth animation.\n *   someDiv.style.height = val + 'px';\n * });\n *\n * @see {@link delay}\n *\n * @param {IScheduler} scheduler Scheduler that will be used to reschedule notifications from source Observable.\n * @param {number} [delay] Number of milliseconds that states with what delay every notification should be rescheduled.\n * @return {Observable<T>} Observable that emits the same notifications as the source Observable,\n * but with provided scheduler.\n *\n * @method observeOn\n * @owner Observable\n */\nfunction observeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return function observeOnOperatorFunction(source) {\n        return source.lift(new ObserveOnOperator(scheduler, delay));\n    };\n}\nexports.observeOn = observeOn;\nvar ObserveOnOperator = (function () {\n    function ObserveOnOperator(scheduler, delay) {\n        if (delay === void 0) { delay = 0; }\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n    };\n    return ObserveOnOperator;\n}());\nexports.ObserveOnOperator = ObserveOnOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ObserveOnSubscriber = (function (_super) {\n    __extends(ObserveOnSubscriber, _super);\n    function ObserveOnSubscriber(destination, scheduler, delay) {\n        if (delay === void 0) { delay = 0; }\n        _super.call(this, destination);\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnSubscriber.dispatch = function (arg) {\n        var notification = arg.notification, destination = arg.destination;\n        notification.observe(destination);\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {\n        this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));\n    };\n    ObserveOnSubscriber.prototype._next = function (value) {\n        this.scheduleMessage(Notification_1.Notification.createNext(value));\n    };\n    ObserveOnSubscriber.prototype._error = function (err) {\n        this.scheduleMessage(Notification_1.Notification.createError(err));\n    };\n    ObserveOnSubscriber.prototype._complete = function () {\n        this.scheduleMessage(Notification_1.Notification.createComplete());\n    };\n    return ObserveOnSubscriber;\n}(Subscriber_1.Subscriber));\nexports.ObserveOnSubscriber = ObserveOnSubscriber;\nvar ObserveOnMessage = (function () {\n    function ObserveOnMessage(notification, destination) {\n        this.notification = notification;\n        this.destination = destination;\n    }\n    return ObserveOnMessage;\n}());\nexports.ObserveOnMessage = ObserveOnMessage;\n//# sourceMappingURL=observeOn.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/operators/observeOn.js","\"use strict\";\nvar Observable_1 = require('./Observable');\n/**\n * Represents a push-based event or value that an {@link Observable} can emit.\n * This class is particularly useful for operators that manage notifications,\n * like {@link materialize}, {@link dematerialize}, {@link observeOn}, and\n * others. Besides wrapping the actual delivered value, it also annotates it\n * with metadata of, for instance, what type of push message it is (`next`,\n * `error`, or `complete`).\n *\n * @see {@link materialize}\n * @see {@link dematerialize}\n * @see {@link observeOn}\n *\n * @class Notification<T>\n */\nvar Notification = (function () {\n    function Notification(kind, value, error) {\n        this.kind = kind;\n        this.value = value;\n        this.error = error;\n        this.hasValue = kind === 'N';\n    }\n    /**\n     * Delivers to the given `observer` the value wrapped by this Notification.\n     * @param {Observer} observer\n     * @return\n     */\n    Notification.prototype.observe = function (observer) {\n        switch (this.kind) {\n            case 'N':\n                return observer.next && observer.next(this.value);\n            case 'E':\n                return observer.error && observer.error(this.error);\n            case 'C':\n                return observer.complete && observer.complete();\n        }\n    };\n    /**\n     * Given some {@link Observer} callbacks, deliver the value represented by the\n     * current Notification to the correctly corresponding callback.\n     * @param {function(value: T): void} next An Observer `next` callback.\n     * @param {function(err: any): void} [error] An Observer `error` callback.\n     * @param {function(): void} [complete] An Observer `complete` callback.\n     * @return {any}\n     */\n    Notification.prototype.do = function (next, error, complete) {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return next && next(this.value);\n            case 'E':\n                return error && error(this.error);\n            case 'C':\n                return complete && complete();\n        }\n    };\n    /**\n     * Takes an Observer or its individual callback functions, and calls `observe`\n     * or `do` methods accordingly.\n     * @param {Observer|function(value: T): void} nextOrObserver An Observer or\n     * the `next` callback.\n     * @param {function(err: any): void} [error] An Observer `error` callback.\n     * @param {function(): void} [complete] An Observer `complete` callback.\n     * @return {any}\n     */\n    Notification.prototype.accept = function (nextOrObserver, error, complete) {\n        if (nextOrObserver && typeof nextOrObserver.next === 'function') {\n            return this.observe(nextOrObserver);\n        }\n        else {\n            return this.do(nextOrObserver, error, complete);\n        }\n    };\n    /**\n     * Returns a simple Observable that just delivers the notification represented\n     * by this Notification instance.\n     * @return {any}\n     */\n    Notification.prototype.toObservable = function () {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return Observable_1.Observable.of(this.value);\n            case 'E':\n                return Observable_1.Observable.throw(this.error);\n            case 'C':\n                return Observable_1.Observable.empty();\n        }\n        throw new Error('unexpected notification kind value');\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `next` from a\n     * given value.\n     * @param {T} value The `next` value.\n     * @return {Notification<T>} The \"next\" Notification representing the\n     * argument.\n     */\n    Notification.createNext = function (value) {\n        if (typeof value !== 'undefined') {\n            return new Notification('N', value);\n        }\n        return Notification.undefinedValueNotification;\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `error` from a\n     * given error.\n     * @param {any} [err] The `error` error.\n     * @return {Notification<T>} The \"error\" Notification representing the\n     * argument.\n     */\n    Notification.createError = function (err) {\n        return new Notification('E', undefined, err);\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `complete`.\n     * @return {Notification<any>} The valueless \"complete\" Notification.\n     */\n    Notification.createComplete = function () {\n        return Notification.completeNotification;\n    };\n    Notification.completeNotification = new Notification('C');\n    Notification.undefinedValueNotification = new Notification('N', undefined);\n    return Notification;\n}());\nexports.Notification = Notification;\n//# sourceMappingURL=Notification.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/Notification.js","import Route from './route';\n\nimport { Subscription } from 'rxjs/Subscription';\nimport { Observable } from 'rxjs/Observable';\n\nimport 'rxjs/add/observable/fromEvent';\nimport 'rxjs/add/observable/merge';\n\nimport 'rxjs/add/operator/distinctUntilChanged';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/startWith';\n\nimport eventManager from './manager/events';\n\nconst {EMPTY} = Subscription;\n\nlet instance = null;\n\nlet _useHistory = false;\nlet _routes = {};\nlet _disposables;\nlet _currentRoute;\nlet _404Route;\n\n/**\n * @class SerialSubscription\n * Mimics behavior of SerialDisposable in RxJS v4,\n * allows to add only single subscription. If new subscription's added,\n * existing subscription will be unsubscribed.\n *\n * By design of RxJS v5 it is no longer recommended to manage subscription\n * imperatively vis various kind of subscription, reason it only have single\n * kind of composite subscription. This implementation is for interop between\n * existing codebases.\n * @extends {Subscription}\n */\nclass SerialSubscription extends Subscription {\n  constructor() {\n    super();\n    this._currentSubscription = EMPTY;\n  }\n\n  /**\n   * Adds a tear down to be called during the unsubscribe() of this\n   * Subscription.\n   *\n   * If there's existing subscription, it'll be unsubscribed and\n   * removed.\n   *\n   * @param {TeardownLogic} teardown The additional logic to execute on\n   * teardown.\n   * @return {Subscription} Returns the Subscription used or created to be\n   * added to the inner subscriptions list. This Subscription can be used with\n   * `remove()` to remove the passed teardown logic from the inner subscriptions\n   * list.\n   */\n  add(teardown) {\n    if (this.closed) return;\n    if (typeof(teardown) === 'function') teardown = new Subscription(teardown);\n\n    if (this._currentSubscription) {\n      this.remove(this._currentSubscription);\n      this._currentSubscription.unsubscribe();\n      this._currentSubscription = null;\n    }\n\n    super.add(this._currentSubscription = teardown);\n  }\n}\n\nexport default class Router {\n  static SUPPORTS_HISTORY_API = window.history && 'pushState' in window.history;\n\n  static PARAM = /(?:\\:([^\\/]+))/g;\n  static LTRIM_SLASH = /^\\/(\\b)/;\n  static EMPTY = /^$/;\n\n  static HASH_PREFIX = /^#\\!?\\/*/;\n  static PATH_PREFIX = /^\\/*/;\n\n  static isNavigationInProgress = false;\n\n  constructor() {\n    if (!instance) {\n      instance = this;\n    }\n\n    eventManager.on('template-transition-end', () => {\n      this.isNavigationInProgress = false;\n    });\n\n    return instance;\n  }\n\n  /**\n   * @param {Boolean} value\n   */\n  set useHistory(value) {\n    /* istanbul ignore else */\n    if (Router.SUPPORTS_HISTORY_API) {\n      _useHistory = value;\n    }\n  }\n\n  get useHistory() {\n    return _useHistory;\n  }\n\n  set routes(routes) {\n    _routes = routes;\n  }\n\n  get routes() {\n    return _routes;\n  }\n\n  get currentRoute() {\n    return _currentRoute;\n  }\n  /**\n   * @param {Object} route\n   */\n  // eslint-disable-next-line no-unused-vars\n  handler(route) {\n    // Overwrite to make something after all matched routes\n  }\n\n  addRoute(name, pattern) {\n    this.routes[name] = new Route(name, pattern);\n    return this.routes[name];\n  }\n\n  addRoutes(routes) {\n    var __routes = {};\n    for (var routeName in routes) {\n      __routes[routeName] = this.addRoute(routeName, routes[routeName]);\n    }\n    return __routes;\n  }\n\n  /**\n   * @private\n   * @return {String}\n   */\n  _getHashPath() {\n    return location.hash\n      .replace(Router.HASH_PREFIX, '/')\n      .replace(Router.EMPTY, '/');\n  }\n\n  /**\n   * @private\n   * @return {Observable}\n   */\n  _observeHashChange() {\n    return Observable.fromEvent(window, 'hashchange')\n      .map(this._getHashPath)\n      .startWith(this._getHashPath());\n  }\n\n  /**\n   * @private\n   * @return {String}\n   */\n  _getURLPath() {\n    return location.pathname.replace(Router.PATH_PREFIX, '/');\n  }\n\n  /**\n   * @private\n   * @return {Observable}\n   */\n  _observeStateChange() {\n    return Observable.merge(\n      Observable.fromEvent(window, 'popstate'),\n      Observable.fromEvent(window, 'pushstate'))\n      .map(this._getURLPath)\n      .startWith(this._getURLPath());\n  }\n\n  /**\n   * @private\n   * @param {String}\n   * @return {Array}\n   */\n  matchRoute(fullPath) {\n    var route;\n    var [path, query] = fullPath.split('?');\n    query = this._parseQuery(query);\n    for (var routeName in this.routes) {\n      route = this.routes[routeName];\n      if ((!route.is404() || route.isAccessible) && route.matchPath(path)) {\n        route.parsePath(path)\n        route.parseQuery(query);\n        return route;\n      }\n    }\n  }\n\n  _parseQuery(querystr) {\n    var params = {};\n    if (querystr) {\n      // Split into key/value pairs\n      var queries = querystr.split('&');\n      if (queries) {\n        // Convert the array of strings into an object\n        let key, value, i, len = queries.length;\n        for (i = 0; i < len; i++) {\n          [key, value] = queries[i].split('=');\n          params[key] = decodeURIComponent(value);\n        }\n      }\n    }\n    return params;\n  }\n\n  _setup404() {\n    const route404 = this.routes[Route._404_PAGE_NAME];\n\n    // We check if 404 route have a pattern...\n    if (route404 && route404.pattern !== '') {\n      const routeWithSamePattern = this.getRouteWithPattern(route404.pattern);\n\n      // We set redirect page based on, if it's a repeated URL pattern or a unique one.\n      // If it's unique, we set it accesible from the router.\n      // Otherwise, it's going to NOT be accesible from the router (multiple router with same pattern)\n      route404.redirectPage = routeWithSamePattern ? routeWithSamePattern.name : route404.name;\n      route404.isAccessible = !routeWithSamePattern;\n    }\n\n    return route404;\n  }\n\n  getRouteWithPattern(patternToMath) {\n    for (let routeName in this.routes) {\n      let route = this.routes[routeName];\n\n      // we only take care about routes with same patterns that aren't the same\n      if (!route.is404() && route.pattern === patternToMath) {\n        return route;\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   *\n   * @return {Subscription}\n   */\n  start() {\n    /* istanbul ignore else */\n    if (!_disposables) {\n      var active = new SerialSubscription();\n\n      _404Route = this._setup404();\n\n      const source = this.useHistory ?\n        this._observeStateChange() :\n        this._observeHashChange();\n\n      const subscription = source\n        .distinctUntilChanged()\n        .map(this.matchRoute.bind(this))\n        .forEach(route => {\n          if (route) {\n            _currentRoute = route;\n            var disposable = new Subscription(() => this.currentRoute);\n            active.add(disposable);\n            this.currentRoute.handler();\n            this.handler(this.currentRoute);\n          } else if (_404Route && _404Route.redirectPage) {\n            this.goReplacing(_404Route.redirectPage);\n          }\n        });\n\n      _disposables = new Subscription(\n        subscription,\n        active\n      );\n    }\n\n    return _disposables;\n  }\n\n  stop() {\n    if (_disposables) {\n      _disposables.unsubscribe();\n      _disposables = null;\n    }\n    this.isNavigationInProgress = false;\n  }\n\n  destroy() {\n    this.stop();\n    this.routes = {};\n  }\n\n  getPath(routeName, params) {\n    var route = this.routes[routeName];\n    if (route) {\n      return route.path(params);\n    } else {\n      console.error('Wrong route name: %s, valid route names: %s', routeName, Object.keys(this.routes).join(', '));\n    }\n  }\n\n  go(name, params, replace) {\n    if (this.isNavigationInProgress) {\n      return;\n    }\n\n    var sanitizedName = name.replace(Router.LTRIM_SLASH, '');\n    var path = this.getPath(sanitizedName, params);\n    if (path !== this._getHashPath()) {\n      this.isNavigationInProgress = true;\n      if (this.useHistory) {\n        if (replace) {\n          this.historyReplaceState(path);\n        } else {\n          this.historyPushState(path);\n        }\n      } else {\n        if (replace) {\n          this.locationReplace(path);\n        } else {\n          this.locationHash(path);\n        }\n      }\n    }\n  }\n\n  goReplacing(name, params) {\n    this.go(name, params, true);\n  }\n\n  historyReplaceState(path) {\n    history.replaceState(null, null, path);\n  }\n\n  historyPushState(path) {\n    history.pushState(null, null, path);\n  }\n\n  locationReplace(path) {\n    location.replace('#!' + path);\n  }\n\n  locationHash(path) {\n    location.hash = '#!' + path;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/cells-bridge/src/router.js","export default class Route {\n  static PARAM = /(?:\\:([^\\/]+))/g;\n  static TRAILING_SLASHES = /\\/*$/;\n  static _404_PAGE_NAME = '404';\n\n  name = '';\n  pattern = '';\n  regexp = null;\n  redirectPage = null;\n  isAccessible = true; // needed to discriminate between 404 and rest of pages with same pattern\n\n   /**\n   * @private\n   * @param {String} routeName\n   * * @param {String} pattern\n   * @return {Object}\n   */\n  constructor(name, pattern) {\n    this.name = name;\n    this.pattern = pattern;\n    var regexp = pattern\n      .replace(Route.PARAM, '([^/]+)')\n      .replace(Route.TRAILING_SLASHES, '/*');\n    this.regexp = new RegExp('^' + regexp + '$');\n    var parts;\n    var keys = [];\n    while ((parts = Route.PARAM.exec(pattern)) !== null) {\n      keys.push(parts[1]);\n    }\n    this.keys = keys;\n  }\n\n  path(params) {\n    params = params || {};\n    this.params = {};\n    var parts;\n    var path = this.pattern;\n    while ((parts = Route.PARAM.exec(this.pattern)) !== null) {\n      path = path.replace(parts[0], params[parts[1]]);\n      this.params[parts[1]] = params[parts[1]];\n    }\n    var queryParams = [];\n    for (var param in params) {\n      if (!this.params.hasOwnProperty(param)) {\n        queryParams.push(param + '=' + encodeURIComponent(params[param]));\n      }\n    }\n    if (queryParams.length) {\n      path += '?' + queryParams.join('&');\n    }\n    return path;\n  }\n\n  matchPath(path) {\n    return path.match(this.regexp);\n  }\n\n  parsePath(path) {\n    var match = this.matchPath(path);\n    this.params = {};\n    if (match) {\n      var i = 1;\n      var parts;\n      while ((parts = Route.PARAM.exec(this.pattern)) !== null) {\n        this.params[parts[1]] = this._parseParam(match[i]);\n        i++;\n      }\n    }\n  }\n\n  parseQuery(query) {\n    this.query = query;\n    for (var queryParam in this.query) {\n      this.params[queryParam] = this.query[queryParam];\n    }\n  }\n\n  /**\n   * @return {Boolean}\n   */\n  is404() {\n    return this.name === Route._404_PAGE_NAME;\n  }\n\n  /**\n   * @private\n   * @param {String} value\n   * @return {Boolean}\n   */\n  _isNumber(value) {\n    return parseInt(value) + '' === value || parseFloat(value) + '' === value;\n  }\n\n  /**\n   * @private\n   * @param {String} param\n   * @return {String|Number}\n   */\n  _parseParam(param) {\n    if (this._isNumber(param)) {\n      param = +param;\n    }\n\n    return param;\n  }\n\n  handler() {\n    // Overwrite to make something with the current route\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/cells-bridge/src/route.js","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar merge_1 = require('../../observable/merge');\nObservable_1.Observable.merge = merge_1.merge;\n//# sourceMappingURL=merge.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/add/observable/merge.js","\"use strict\";\nvar Observable_1 = require('../Observable');\nvar ArrayObservable_1 = require('./ArrayObservable');\nvar isScheduler_1 = require('../util/isScheduler');\nvar mergeAll_1 = require('../operators/mergeAll');\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which concurrently emits all values from every\n * given input Observable.\n *\n * <span class=\"informal\">Flattens multiple Observables together by blending\n * their values into one Observable.</span>\n *\n * <img src=\"./img/merge.png\" width=\"100%\">\n *\n * `merge` subscribes to each given input Observable (as arguments), and simply\n * forwards (without doing any transformation) all the values from all the input\n * Observables to the output Observable. The output Observable only completes\n * once all input Observables have completed. Any error delivered by an input\n * Observable will be immediately emitted on the output Observable.\n *\n * @example <caption>Merge together two Observables: 1s interval and clicks</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var timer = Rx.Observable.interval(1000);\n * var clicksOrTimer = Rx.Observable.merge(clicks, timer);\n * clicksOrTimer.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // timer will emit ascending values, one every second(1000ms) to console\n * // clicks logs MouseEvents to console everytime the \"document\" is clicked\n * // Since the two streams are merged you see these happening\n * // as they occur.\n *\n * @example <caption>Merge together 3 Observables, but only 2 run concurrently</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var concurrent = 2; // the argument\n * var merged = Rx.Observable.merge(timer1, timer2, timer3, concurrent);\n * merged.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // - First timer1 and timer2 will run concurrently\n * // - timer1 will emit a value every 1000ms for 10 iterations\n * // - timer2 will emit a value every 2000ms for 6 iterations\n * // - after timer1 hits it's max iteration, timer2 will\n * //   continue, and timer3 will start to run concurrently with timer2\n * // - when timer2 hits it's max iteration it terminates, and\n * //   timer3 will continue to emit a value every 500ms until it is complete\n *\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n *\n * @param {...ObservableInput} observables Input Observables to merge together.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {Scheduler} [scheduler=null] The IScheduler to use for managing\n * concurrency of input Observables.\n * @return {Observable} an Observable that emits items that are the result of\n * every input Observable.\n * @static true\n * @name merge\n * @owner Observable\n */\nfunction merge() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    var concurrent = Number.POSITIVE_INFINITY;\n    var scheduler = null;\n    var last = observables[observables.length - 1];\n    if (isScheduler_1.isScheduler(last)) {\n        scheduler = observables.pop();\n        if (observables.length > 1 && typeof observables[observables.length - 1] === 'number') {\n            concurrent = observables.pop();\n        }\n    }\n    else if (typeof last === 'number') {\n        concurrent = observables.pop();\n    }\n    if (scheduler === null && observables.length === 1 && observables[0] instanceof Observable_1.Observable) {\n        return observables[0];\n    }\n    return mergeAll_1.mergeAll(concurrent)(new ArrayObservable_1.ArrayObservable(observables, scheduler));\n}\nexports.merge = merge;\n//# sourceMappingURL=merge.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/observable/merge.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar ScalarObservable_1 = require('./ScalarObservable');\nvar EmptyObservable_1 = require('./EmptyObservable');\nvar isScheduler_1 = require('../util/isScheduler');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ArrayObservable = (function (_super) {\n    __extends(ArrayObservable, _super);\n    function ArrayObservable(array, scheduler) {\n        _super.call(this);\n        this.array = array;\n        this.scheduler = scheduler;\n        if (!scheduler && array.length === 1) {\n            this._isScalar = true;\n            this.value = array[0];\n        }\n    }\n    ArrayObservable.create = function (array, scheduler) {\n        return new ArrayObservable(array, scheduler);\n    };\n    /**\n     * Creates an Observable that emits some values you specify as arguments,\n     * immediately one after the other, and then emits a complete notification.\n     *\n     * <span class=\"informal\">Emits the arguments you provide, then completes.\n     * </span>\n     *\n     * <img src=\"./img/of.png\" width=\"100%\">\n     *\n     * This static operator is useful for creating a simple Observable that only\n     * emits the arguments given, and the complete notification thereafter. It can\n     * be used for composing with other Observables, such as with {@link concat}.\n     * By default, it uses a `null` IScheduler, which means the `next`\n     * notifications are sent synchronously, although with a different IScheduler\n     * it is possible to determine when those notifications will be delivered.\n     *\n     * @example <caption>Emit 10, 20, 30, then 'a', 'b', 'c', then start ticking every second.</caption>\n     * var numbers = Rx.Observable.of(10, 20, 30);\n     * var letters = Rx.Observable.of('a', 'b', 'c');\n     * var interval = Rx.Observable.interval(1000);\n     * var result = numbers.concat(letters).concat(interval);\n     * result.subscribe(x => console.log(x));\n     *\n     * @see {@link create}\n     * @see {@link empty}\n     * @see {@link never}\n     * @see {@link throw}\n     *\n     * @param {...T} values Arguments that represent `next` values to be emitted.\n     * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n     * the emissions of the `next` notifications.\n     * @return {Observable<T>} An Observable that emits each given input value.\n     * @static true\n     * @name of\n     * @owner Observable\n     */\n    ArrayObservable.of = function () {\n        var array = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            array[_i - 0] = arguments[_i];\n        }\n        var scheduler = array[array.length - 1];\n        if (isScheduler_1.isScheduler(scheduler)) {\n            array.pop();\n        }\n        else {\n            scheduler = null;\n        }\n        var len = array.length;\n        if (len > 1) {\n            return new ArrayObservable(array, scheduler);\n        }\n        else if (len === 1) {\n            return new ScalarObservable_1.ScalarObservable(array[0], scheduler);\n        }\n        else {\n            return new EmptyObservable_1.EmptyObservable(scheduler);\n        }\n    };\n    ArrayObservable.dispatch = function (state) {\n        var array = state.array, index = state.index, count = state.count, subscriber = state.subscriber;\n        if (index >= count) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(array[index]);\n        if (subscriber.closed) {\n            return;\n        }\n        state.index = index + 1;\n        this.schedule(state);\n    };\n    ArrayObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var array = this.array;\n        var count = array.length;\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(ArrayObservable.dispatch, 0, {\n                array: array, index: index, count: count, subscriber: subscriber\n            });\n        }\n        else {\n            for (var i = 0; i < count && !subscriber.closed; i++) {\n                subscriber.next(array[i]);\n            }\n            subscriber.complete();\n        }\n    };\n    return ArrayObservable;\n}(Observable_1.Observable));\nexports.ArrayObservable = ArrayObservable;\n//# sourceMappingURL=ArrayObservable.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/observable/ArrayObservable.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ScalarObservable = (function (_super) {\n    __extends(ScalarObservable, _super);\n    function ScalarObservable(value, scheduler) {\n        _super.call(this);\n        this.value = value;\n        this.scheduler = scheduler;\n        this._isScalar = true;\n        if (scheduler) {\n            this._isScalar = false;\n        }\n    }\n    ScalarObservable.create = function (value, scheduler) {\n        return new ScalarObservable(value, scheduler);\n    };\n    ScalarObservable.dispatch = function (state) {\n        var done = state.done, value = state.value, subscriber = state.subscriber;\n        if (done) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(value);\n        if (subscriber.closed) {\n            return;\n        }\n        state.done = true;\n        this.schedule(state);\n    };\n    ScalarObservable.prototype._subscribe = function (subscriber) {\n        var value = this.value;\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(ScalarObservable.dispatch, 0, {\n                done: false, value: value, subscriber: subscriber\n            });\n        }\n        else {\n            subscriber.next(value);\n            if (!subscriber.closed) {\n                subscriber.complete();\n            }\n        }\n    };\n    return ScalarObservable;\n}(Observable_1.Observable));\nexports.ScalarObservable = ScalarObservable;\n//# sourceMappingURL=ScalarObservable.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/observable/ScalarObservable.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar EmptyObservable = (function (_super) {\n    __extends(EmptyObservable, _super);\n    function EmptyObservable(scheduler) {\n        _super.call(this);\n        this.scheduler = scheduler;\n    }\n    /**\n     * Creates an Observable that emits no items to the Observer and immediately\n     * emits a complete notification.\n     *\n     * <span class=\"informal\">Just emits 'complete', and nothing else.\n     * </span>\n     *\n     * <img src=\"./img/empty.png\" width=\"100%\">\n     *\n     * This static operator is useful for creating a simple Observable that only\n     * emits the complete notification. It can be used for composing with other\n     * Observables, such as in a {@link mergeMap}.\n     *\n     * @example <caption>Emit the number 7, then complete.</caption>\n     * var result = Rx.Observable.empty().startWith(7);\n     * result.subscribe(x => console.log(x));\n     *\n     * @example <caption>Map and flatten only odd numbers to the sequence 'a', 'b', 'c'</caption>\n     * var interval = Rx.Observable.interval(1000);\n     * var result = interval.mergeMap(x =>\n     *   x % 2 === 1 ? Rx.Observable.of('a', 'b', 'c') : Rx.Observable.empty()\n     * );\n     * result.subscribe(x => console.log(x));\n     *\n     * // Results in the following to the console:\n     * // x is equal to the count on the interval eg(0,1,2,3,...)\n     * // x will occur every 1000ms\n     * // if x % 2 is equal to 1 print abc\n     * // if x % 2 is not equal to 1 nothing will be output\n     *\n     * @see {@link create}\n     * @see {@link never}\n     * @see {@link of}\n     * @see {@link throw}\n     *\n     * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n     * the emission of the complete notification.\n     * @return {Observable} An \"empty\" Observable: emits only the complete\n     * notification.\n     * @static true\n     * @name empty\n     * @owner Observable\n     */\n    EmptyObservable.create = function (scheduler) {\n        return new EmptyObservable(scheduler);\n    };\n    EmptyObservable.dispatch = function (arg) {\n        var subscriber = arg.subscriber;\n        subscriber.complete();\n    };\n    EmptyObservable.prototype._subscribe = function (subscriber) {\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(EmptyObservable.dispatch, 0, { subscriber: subscriber });\n        }\n        else {\n            subscriber.complete();\n        }\n    };\n    return EmptyObservable;\n}(Observable_1.Observable));\nexports.EmptyObservable = EmptyObservable;\n//# sourceMappingURL=EmptyObservable.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/observable/EmptyObservable.js","\"use strict\";\nfunction isScheduler(value) {\n    return value && typeof value.schedule === 'function';\n}\nexports.isScheduler = isScheduler;\n//# sourceMappingURL=isScheduler.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/util/isScheduler.js","\"use strict\";\nvar mergeMap_1 = require('./mergeMap');\nvar identity_1 = require('../util/identity');\n/**\n * Converts a higher-order Observable into a first-order Observable which\n * concurrently delivers all values that are emitted on the inner Observables.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables.</span>\n *\n * <img src=\"./img/mergeAll.png\" width=\"100%\">\n *\n * `mergeAll` subscribes to an Observable that emits Observables, also known as\n * a higher-order Observable. Each time it observes one of these emitted inner\n * Observables, it subscribes to that and delivers all the values from the\n * inner Observable on the output Observable. The output Observable only\n * completes once all inner Observables have completed. Any error delivered by\n * a inner Observable will be immediately emitted on the output Observable.\n *\n * @example <caption>Spawn a new interval Observable for each click event, and blend their outputs as one Observable</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000));\n * var firstOrder = higherOrder.mergeAll();\n * firstOrder.subscribe(x => console.log(x));\n *\n * @example <caption>Count from 0 to 9 every second for each click, but only allow 2 concurrent timers</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000).take(10));\n * var firstOrder = higherOrder.mergeAll(2);\n * firstOrder.subscribe(x => console.log(x));\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link exhaust}\n * @see {@link merge}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switch}\n * @see {@link zipAll}\n *\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of inner\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits values coming from all the\n * inner Observables emitted by the source Observable.\n * @method mergeAll\n * @owner Observable\n */\nfunction mergeAll(concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    return mergeMap_1.mergeMap(identity_1.identity, null, concurrent);\n}\nexports.mergeAll = mergeAll;\n//# sourceMappingURL=mergeAll.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/operators/mergeAll.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link mergeAll}.</span>\n *\n * <img src=\"./img/mergeMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an Observable, and then merging those resulting Observables and\n * emitting the results of this merger.\n *\n * @example <caption>Map and flatten each letter to an Observable ticking every 1 second</caption>\n * var letters = Rx.Observable.of('a', 'b', 'c');\n * var result = letters.mergeMap(x =>\n *   Rx.Observable.interval(1000).map(i => x+i)\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // a0\n * // b0\n * // c0\n * // a1\n * // b1\n * // c1\n * // continues to list a,b,c with respective ascending integers\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link merge}\n * @see {@link mergeAll}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional `resultSelector`) to each item emitted\n * by the source Observable and merging the results of the Observables obtained\n * from this transformation.\n * @method mergeMap\n * @owner Observable\n */\nfunction mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    return function mergeMapOperatorFunction(source) {\n        if (typeof resultSelector === 'number') {\n            concurrent = resultSelector;\n            resultSelector = null;\n        }\n        return source.lift(new MergeMapOperator(project, resultSelector, concurrent));\n    };\n}\nexports.mergeMap = mergeMap;\nvar MergeMapOperator = (function () {\n    function MergeMapOperator(project, resultSelector, concurrent) {\n        if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n        this.project = project;\n        this.resultSelector = resultSelector;\n        this.concurrent = concurrent;\n    }\n    MergeMapOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new MergeMapSubscriber(observer, this.project, this.resultSelector, this.concurrent));\n    };\n    return MergeMapOperator;\n}());\nexports.MergeMapOperator = MergeMapOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MergeMapSubscriber = (function (_super) {\n    __extends(MergeMapSubscriber, _super);\n    function MergeMapSubscriber(destination, project, resultSelector, concurrent) {\n        if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n        _super.call(this, destination);\n        this.project = project;\n        this.resultSelector = resultSelector;\n        this.concurrent = concurrent;\n        this.hasCompleted = false;\n        this.buffer = [];\n        this.active = 0;\n        this.index = 0;\n    }\n    MergeMapSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            this._tryNext(value);\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeMapSubscriber.prototype._tryNext = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.active++;\n        this._innerSub(result, value, index);\n    };\n    MergeMapSubscriber.prototype._innerSub = function (ish, value, index) {\n        this.add(subscribeToResult_1.subscribeToResult(this, ish, value, index));\n    };\n    MergeMapSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            this.destination.complete();\n        }\n    };\n    MergeMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        if (this.resultSelector) {\n            this._notifyResultSelector(outerValue, innerValue, outerIndex, innerIndex);\n        }\n        else {\n            this.destination.next(innerValue);\n        }\n    };\n    MergeMapSubscriber.prototype._notifyResultSelector = function (outerValue, innerValue, outerIndex, innerIndex) {\n        var result;\n        try {\n            result = this.resultSelector(outerValue, innerValue, outerIndex, innerIndex);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    MergeMapSubscriber.prototype.notifyComplete = function (innerSub) {\n        var buffer = this.buffer;\n        this.remove(innerSub);\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return MergeMapSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\nexports.MergeMapSubscriber = MergeMapSubscriber;\n//# sourceMappingURL=mergeMap.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/operators/mergeMap.js","\"use strict\";\nvar root_1 = require('./root');\nvar isArrayLike_1 = require('./isArrayLike');\nvar isPromise_1 = require('./isPromise');\nvar isObject_1 = require('./isObject');\nvar Observable_1 = require('../Observable');\nvar iterator_1 = require('../symbol/iterator');\nvar InnerSubscriber_1 = require('../InnerSubscriber');\nvar observable_1 = require('../symbol/observable');\nfunction subscribeToResult(outerSubscriber, result, outerValue, outerIndex) {\n    var destination = new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n    if (destination.closed) {\n        return null;\n    }\n    if (result instanceof Observable_1.Observable) {\n        if (result._isScalar) {\n            destination.next(result.value);\n            destination.complete();\n            return null;\n        }\n        else {\n            destination.syncErrorThrowable = true;\n            return result.subscribe(destination);\n        }\n    }\n    else if (isArrayLike_1.isArrayLike(result)) {\n        for (var i = 0, len = result.length; i < len && !destination.closed; i++) {\n            destination.next(result[i]);\n        }\n        if (!destination.closed) {\n            destination.complete();\n        }\n    }\n    else if (isPromise_1.isPromise(result)) {\n        result.then(function (value) {\n            if (!destination.closed) {\n                destination.next(value);\n                destination.complete();\n            }\n        }, function (err) { return destination.error(err); })\n            .then(null, function (err) {\n            // Escaping the Promise trap: globally throw unhandled errors\n            root_1.root.setTimeout(function () { throw err; });\n        });\n        return destination;\n    }\n    else if (result && typeof result[iterator_1.iterator] === 'function') {\n        var iterator = result[iterator_1.iterator]();\n        do {\n            var item = iterator.next();\n            if (item.done) {\n                destination.complete();\n                break;\n            }\n            destination.next(item.value);\n            if (destination.closed) {\n                break;\n            }\n        } while (true);\n    }\n    else if (result && typeof result[observable_1.observable] === 'function') {\n        var obs = result[observable_1.observable]();\n        if (typeof obs.subscribe !== 'function') {\n            destination.error(new TypeError('Provided object does not correctly implement Symbol.observable'));\n        }\n        else {\n            return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex));\n        }\n    }\n    else {\n        var value = isObject_1.isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = (\"You provided \" + value + \" where a stream was expected.\")\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        destination.error(new TypeError(msg));\n    }\n    return null;\n}\nexports.subscribeToResult = subscribeToResult;\n//# sourceMappingURL=subscribeToResult.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/util/subscribeToResult.js","\"use strict\";\nexports.isArrayLike = (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArrayLike.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/util/isArrayLike.js","\"use strict\";\nfunction isPromise(value) {\n    return value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}\nexports.isPromise = isPromise;\n//# sourceMappingURL=isPromise.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/util/isPromise.js","\"use strict\";\nvar root_1 = require('../util/root');\nfunction symbolIteratorPonyfill(root) {\n    var Symbol = root.Symbol;\n    if (typeof Symbol === 'function') {\n        if (!Symbol.iterator) {\n            Symbol.iterator = Symbol('iterator polyfill');\n        }\n        return Symbol.iterator;\n    }\n    else {\n        // [for Mozilla Gecko 27-35:](https://mzl.la/2ewE1zC)\n        var Set_1 = root.Set;\n        if (Set_1 && typeof new Set_1()['@@iterator'] === 'function') {\n            return '@@iterator';\n        }\n        var Map_1 = root.Map;\n        // required for compatability with es6-shim\n        if (Map_1) {\n            var keys = Object.getOwnPropertyNames(Map_1.prototype);\n            for (var i = 0; i < keys.length; ++i) {\n                var key = keys[i];\n                // according to spec, Map.prototype[@@iterator] and Map.orototype.entries must be equal.\n                if (key !== 'entries' && key !== 'size' && Map_1.prototype[key] === Map_1.prototype['entries']) {\n                    return key;\n                }\n            }\n        }\n        return '@@iterator';\n    }\n}\nexports.symbolIteratorPonyfill = symbolIteratorPonyfill;\nexports.iterator = symbolIteratorPonyfill(root_1.root);\n/**\n * @deprecated use iterator instead\n */\nexports.$$iterator = exports.iterator;\n//# sourceMappingURL=iterator.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/symbol/iterator.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('./Subscriber');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar InnerSubscriber = (function (_super) {\n    __extends(InnerSubscriber, _super);\n    function InnerSubscriber(parent, outerValue, outerIndex) {\n        _super.call(this);\n        this.parent = parent;\n        this.outerValue = outerValue;\n        this.outerIndex = outerIndex;\n        this.index = 0;\n    }\n    InnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n    };\n    InnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error, this);\n        this.unsubscribe();\n    };\n    InnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete(this);\n        this.unsubscribe();\n    };\n    return InnerSubscriber;\n}(Subscriber_1.Subscriber));\nexports.InnerSubscriber = InnerSubscriber;\n//# sourceMappingURL=InnerSubscriber.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/InnerSubscriber.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('./Subscriber');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar OuterSubscriber = (function (_super) {\n    __extends(OuterSubscriber, _super);\n    function OuterSubscriber() {\n        _super.apply(this, arguments);\n    }\n    OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    OuterSubscriber.prototype.notifyError = function (error, innerSub) {\n        this.destination.error(error);\n    };\n    OuterSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.destination.complete();\n    };\n    return OuterSubscriber;\n}(Subscriber_1.Subscriber));\nexports.OuterSubscriber = OuterSubscriber;\n//# sourceMappingURL=OuterSubscriber.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/OuterSubscriber.js","\"use strict\";\nfunction identity(x) {\n    return x;\n}\nexports.identity = identity;\n//# sourceMappingURL=identity.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/util/identity.js","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar distinctUntilChanged_1 = require('../../operator/distinctUntilChanged');\nObservable_1.Observable.prototype.distinctUntilChanged = distinctUntilChanged_1.distinctUntilChanged;\n//# sourceMappingURL=distinctUntilChanged.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/add/operator/distinctUntilChanged.js","\"use strict\";\nvar distinctUntilChanged_1 = require('../operators/distinctUntilChanged');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item.\n *\n * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.\n *\n * If a comparator function is not provided, an equality check is used by default.\n *\n * @example <caption>A simple example with numbers</caption>\n * Observable.of(1, 1, 2, 2, 2, 1, 1, 2, 3, 3, 4)\n *   .distinctUntilChanged()\n *   .subscribe(x => console.log(x)); // 1, 2, 1, 2, 3, 4\n *\n * @example <caption>An example using a compare function</caption>\n * interface Person {\n *    age: number,\n *    name: string\n * }\n *\n * Observable.of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'})\n *     { age: 6, name: 'Foo'})\n *     .distinctUntilChanged((p: Person, q: Person) => p.name === q.name)\n *     .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo' }\n *\n * @see {@link distinct}\n * @see {@link distinctUntilKeyChanged}\n *\n * @param {function} [compare] Optional comparison function called to test if an item is distinct from the previous item in the source.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values.\n * @method distinctUntilChanged\n * @owner Observable\n */\nfunction distinctUntilChanged(compare, keySelector) {\n    return distinctUntilChanged_1.distinctUntilChanged(compare, keySelector)(this);\n}\nexports.distinctUntilChanged = distinctUntilChanged;\n//# sourceMappingURL=distinctUntilChanged.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/operator/distinctUntilChanged.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar tryCatch_1 = require('../util/tryCatch');\nvar errorObject_1 = require('../util/errorObject');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item.\n *\n * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.\n *\n * If a comparator function is not provided, an equality check is used by default.\n *\n * @example <caption>A simple example with numbers</caption>\n * Observable.of(1, 1, 2, 2, 2, 1, 1, 2, 3, 3, 4)\n *   .distinctUntilChanged()\n *   .subscribe(x => console.log(x)); // 1, 2, 1, 2, 3, 4\n *\n * @example <caption>An example using a compare function</caption>\n * interface Person {\n *    age: number,\n *    name: string\n * }\n *\n * Observable.of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'})\n *     { age: 6, name: 'Foo'})\n *     .distinctUntilChanged((p: Person, q: Person) => p.name === q.name)\n *     .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo' }\n *\n * @see {@link distinct}\n * @see {@link distinctUntilKeyChanged}\n *\n * @param {function} [compare] Optional comparison function called to test if an item is distinct from the previous item in the source.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values.\n * @method distinctUntilChanged\n * @owner Observable\n */\nfunction distinctUntilChanged(compare, keySelector) {\n    return function (source) { return source.lift(new DistinctUntilChangedOperator(compare, keySelector)); };\n}\nexports.distinctUntilChanged = distinctUntilChanged;\nvar DistinctUntilChangedOperator = (function () {\n    function DistinctUntilChangedOperator(compare, keySelector) {\n        this.compare = compare;\n        this.keySelector = keySelector;\n    }\n    DistinctUntilChangedOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DistinctUntilChangedSubscriber(subscriber, this.compare, this.keySelector));\n    };\n    return DistinctUntilChangedOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DistinctUntilChangedSubscriber = (function (_super) {\n    __extends(DistinctUntilChangedSubscriber, _super);\n    function DistinctUntilChangedSubscriber(destination, compare, keySelector) {\n        _super.call(this, destination);\n        this.keySelector = keySelector;\n        this.hasKey = false;\n        if (typeof compare === 'function') {\n            this.compare = compare;\n        }\n    }\n    DistinctUntilChangedSubscriber.prototype.compare = function (x, y) {\n        return x === y;\n    };\n    DistinctUntilChangedSubscriber.prototype._next = function (value) {\n        var keySelector = this.keySelector;\n        var key = value;\n        if (keySelector) {\n            key = tryCatch_1.tryCatch(this.keySelector)(value);\n            if (key === errorObject_1.errorObject) {\n                return this.destination.error(errorObject_1.errorObject.e);\n            }\n        }\n        var result = false;\n        if (this.hasKey) {\n            result = tryCatch_1.tryCatch(this.compare)(this.key, key);\n            if (result === errorObject_1.errorObject) {\n                return this.destination.error(errorObject_1.errorObject.e);\n            }\n        }\n        else {\n            this.hasKey = true;\n        }\n        if (Boolean(result) === false) {\n            this.key = key;\n            this.destination.next(value);\n        }\n    };\n    return DistinctUntilChangedSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=distinctUntilChanged.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/operators/distinctUntilChanged.js","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar map_1 = require('../../operator/map');\nObservable_1.Observable.prototype.map = map_1.map;\n//# sourceMappingURL=map.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/add/operator/map.js","\"use strict\";\nvar map_1 = require('../operators/map');\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * <img src=\"./img/map.png\" width=\"100%\">\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * @example <caption>Map every click to the clientX position of that click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks.map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nfunction map(project, thisArg) {\n    return map_1.map(project, thisArg)(this);\n}\nexports.map = map;\n//# sourceMappingURL=map.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/operator/map.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * <img src=\"./img/map.png\" width=\"100%\">\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * @example <caption>Map every click to the clientX position of that click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks.map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nfunction map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nexports.map = map;\nvar MapOperator = (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexports.MapOperator = MapOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MapSubscriber = (function (_super) {\n    __extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        _super.call(this, destination);\n        this.project = project;\n        this.count = 0;\n        this.thisArg = thisArg || this;\n    }\n    // NOTE: This looks unoptimized, but it's actually purposefully NOT\n    // using try/catch optimizations.\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=map.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/operators/map.js","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar startWith_1 = require('../../operator/startWith');\nObservable_1.Observable.prototype.startWith = startWith_1.startWith;\n//# sourceMappingURL=startWith.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/add/operator/startWith.js","\"use strict\";\nvar startWith_1 = require('../operators/startWith');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits the items you specify as arguments before it begins to emit\n * items emitted by the source Observable.\n *\n * <img src=\"./img/startWith.png\" width=\"100%\">\n *\n * @param {...T} values - Items you want the modified Observable to emit first.\n * @param {Scheduler} [scheduler] - A {@link IScheduler} to use for scheduling\n * the emissions of the `next` notifications.\n * @return {Observable} An Observable that emits the items in the specified Iterable and then emits the items\n * emitted by the source Observable.\n * @method startWith\n * @owner Observable\n */\nfunction startWith() {\n    var array = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        array[_i - 0] = arguments[_i];\n    }\n    return startWith_1.startWith.apply(void 0, array)(this);\n}\nexports.startWith = startWith;\n//# sourceMappingURL=startWith.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/operator/startWith.js","\"use strict\";\nvar ArrayObservable_1 = require('../observable/ArrayObservable');\nvar ScalarObservable_1 = require('../observable/ScalarObservable');\nvar EmptyObservable_1 = require('../observable/EmptyObservable');\nvar concat_1 = require('../observable/concat');\nvar isScheduler_1 = require('../util/isScheduler');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits the items you specify as arguments before it begins to emit\n * items emitted by the source Observable.\n *\n * <img src=\"./img/startWith.png\" width=\"100%\">\n *\n * @param {...T} values - Items you want the modified Observable to emit first.\n * @param {Scheduler} [scheduler] - A {@link IScheduler} to use for scheduling\n * the emissions of the `next` notifications.\n * @return {Observable} An Observable that emits the items in the specified Iterable and then emits the items\n * emitted by the source Observable.\n * @method startWith\n * @owner Observable\n */\nfunction startWith() {\n    var array = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        array[_i - 0] = arguments[_i];\n    }\n    return function (source) {\n        var scheduler = array[array.length - 1];\n        if (isScheduler_1.isScheduler(scheduler)) {\n            array.pop();\n        }\n        else {\n            scheduler = null;\n        }\n        var len = array.length;\n        if (len === 1) {\n            return concat_1.concat(new ScalarObservable_1.ScalarObservable(array[0], scheduler), source);\n        }\n        else if (len > 1) {\n            return concat_1.concat(new ArrayObservable_1.ArrayObservable(array, scheduler), source);\n        }\n        else {\n            return concat_1.concat(new EmptyObservable_1.EmptyObservable(scheduler), source);\n        }\n    };\n}\nexports.startWith = startWith;\n//# sourceMappingURL=startWith.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/operators/startWith.js","\"use strict\";\nvar isScheduler_1 = require('../util/isScheduler');\nvar of_1 = require('./of');\nvar from_1 = require('./from');\nvar concatAll_1 = require('../operators/concatAll');\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which sequentially emits all values from given\n * Observable and then moves on to the next.\n *\n * <span class=\"informal\">Concatenates multiple Observables together by\n * sequentially emitting their values, one Observable after the other.</span>\n *\n * <img src=\"./img/concat.png\" width=\"100%\">\n *\n * `concat` joins multiple Observables together, by subscribing to them one at a time and\n * merging their results into the output Observable. You can pass either an array of\n * Observables, or put them directly as arguments. Passing an empty array will result\n * in Observable that completes immediately.\n *\n * `concat` will subscribe to first input Observable and emit all its values, without\n * changing or affecting them in any way. When that Observable completes, it will\n * subscribe to then next Observable passed and, again, emit its values. This will be\n * repeated, until the operator runs out of Observables. When last input Observable completes,\n * `concat` will complete as well. At any given moment only one Observable passed to operator\n * emits values. If you would like to emit values from passed Observables concurrently, check out\n * {@link merge} instead, especially with optional `concurrent` parameter. As a matter of fact,\n * `concat` is an equivalent of `merge` operator with `concurrent` parameter set to `1`.\n *\n * Note that if some input Observable never completes, `concat` will also never complete\n * and Observables following the one that did not complete will never be subscribed. On the other\n * hand, if some Observable simply completes immediately after it is subscribed, it will be\n * invisible for `concat`, which will just move on to the next Observable.\n *\n * If any Observable in chain errors, instead of passing control to the next Observable,\n * `concat` will error immediately as well. Observables that would be subscribed after\n * the one that emitted error, never will.\n *\n * If you pass to `concat` the same Observable many times, its stream of values\n * will be \"replayed\" on every subscription, which means you can repeat given Observable\n * as many times as you like. If passing the same Observable to `concat` 1000 times becomes tedious,\n * you can always use {@link repeat}.\n *\n * @example <caption>Concatenate a timer counting from 0 to 3 with a synchronous sequence from 1 to 10</caption>\n * var timer = Rx.Observable.interval(1000).take(4);\n * var sequence = Rx.Observable.range(1, 10);\n * var result = Rx.Observable.concat(timer, sequence);\n * result.subscribe(x => console.log(x));\n *\n * // results in:\n * // 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3 -immediate-> 1 ... 10\n *\n *\n * @example <caption>Concatenate an array of 3 Observables</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var result = Rx.Observable.concat([timer1, timer2, timer3]); // note that array is passed\n * result.subscribe(x => console.log(x));\n *\n * // results in the following:\n * // (Prints to console sequentially)\n * // -1000ms-> 0 -1000ms-> 1 -1000ms-> ... 9\n * // -2000ms-> 0 -2000ms-> 1 -2000ms-> ... 5\n * // -500ms-> 0 -500ms-> 1 -500ms-> ... 9\n *\n *\n * @example <caption>Concatenate the same Observable to repeat it</caption>\n * const timer = Rx.Observable.interval(1000).take(2);\n *\n * Rx.Observable.concat(timer, timer) // concating the same Observable!\n * .subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('...and it is done!')\n * );\n *\n * // Logs:\n * // 0 after 1s\n * // 1 after 2s\n * // 0 after 3s\n * // 1 after 4s\n * // \"...and it is done!\" also after 4s\n *\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n *\n * @param {ObservableInput} input1 An input Observable to concatenate with others.\n * @param {ObservableInput} input2 An input Observable to concatenate with others.\n * More than one input Observables may be given as argument.\n * @param {Scheduler} [scheduler=null] An optional IScheduler to schedule each\n * Observable subscription on.\n * @return {Observable} All values of each passed Observable merged into a\n * single Observable, in order, in serial fashion.\n * @static true\n * @name concat\n * @owner Observable\n */\nfunction concat() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    if (observables.length === 1 || (observables.length === 2 && isScheduler_1.isScheduler(observables[1]))) {\n        return from_1.from(observables[0]);\n    }\n    return concatAll_1.concatAll()(of_1.of.apply(void 0, observables));\n}\nexports.concat = concat;\n//# sourceMappingURL=concat.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/observable/concat.js","\"use strict\";\nvar ArrayObservable_1 = require('./ArrayObservable');\nexports.of = ArrayObservable_1.ArrayObservable.of;\n//# sourceMappingURL=of.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/observable/of.js","\"use strict\";\nvar FromObservable_1 = require('./FromObservable');\nexports.from = FromObservable_1.FromObservable.create;\n//# sourceMappingURL=from.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/observable/from.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isArray_1 = require('../util/isArray');\nvar isArrayLike_1 = require('../util/isArrayLike');\nvar isPromise_1 = require('../util/isPromise');\nvar PromiseObservable_1 = require('./PromiseObservable');\nvar IteratorObservable_1 = require('./IteratorObservable');\nvar ArrayObservable_1 = require('./ArrayObservable');\nvar ArrayLikeObservable_1 = require('./ArrayLikeObservable');\nvar iterator_1 = require('../symbol/iterator');\nvar Observable_1 = require('../Observable');\nvar observeOn_1 = require('../operators/observeOn');\nvar observable_1 = require('../symbol/observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar FromObservable = (function (_super) {\n    __extends(FromObservable, _super);\n    function FromObservable(ish, scheduler) {\n        _super.call(this, null);\n        this.ish = ish;\n        this.scheduler = scheduler;\n    }\n    /**\n     * Creates an Observable from an Array, an array-like object, a Promise, an\n     * iterable object, or an Observable-like object.\n     *\n     * <span class=\"informal\">Converts almost anything to an Observable.</span>\n     *\n     * <img src=\"./img/from.png\" width=\"100%\">\n     *\n     * Convert various other objects and data types into Observables. `from`\n     * converts a Promise or an array-like or an\n     * [iterable](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterable)\n     * object into an Observable that emits the items in that promise or array or\n     * iterable. A String, in this context, is treated as an array of characters.\n     * Observable-like objects (contains a function named with the ES2015 Symbol\n     * for Observable) can also be converted through this operator.\n     *\n     * @example <caption>Converts an array to an Observable</caption>\n     * var array = [10, 20, 30];\n     * var result = Rx.Observable.from(array);\n     * result.subscribe(x => console.log(x));\n     *\n     * // Results in the following:\n     * // 10 20 30\n     *\n     * @example <caption>Convert an infinite iterable (from a generator) to an Observable</caption>\n     * function* generateDoubles(seed) {\n     *   var i = seed;\n     *   while (true) {\n     *     yield i;\n     *     i = 2 * i; // double it\n     *   }\n     * }\n     *\n     * var iterator = generateDoubles(3);\n     * var result = Rx.Observable.from(iterator).take(10);\n     * result.subscribe(x => console.log(x));\n     *\n     * // Results in the following:\n     * // 3 6 12 24 48 96 192 384 768 1536\n     *\n     * @see {@link create}\n     * @see {@link fromEvent}\n     * @see {@link fromEventPattern}\n     * @see {@link fromPromise}\n     *\n     * @param {ObservableInput<T>} ish A subscribable object, a Promise, an\n     * Observable-like, an Array, an iterable or an array-like object to be\n     * converted.\n     * @param {Scheduler} [scheduler] The scheduler on which to schedule the\n     * emissions of values.\n     * @return {Observable<T>} The Observable whose values are originally from the\n     * input object that was converted.\n     * @static true\n     * @name from\n     * @owner Observable\n     */\n    FromObservable.create = function (ish, scheduler) {\n        if (ish != null) {\n            if (typeof ish[observable_1.observable] === 'function') {\n                if (ish instanceof Observable_1.Observable && !scheduler) {\n                    return ish;\n                }\n                return new FromObservable(ish, scheduler);\n            }\n            else if (isArray_1.isArray(ish)) {\n                return new ArrayObservable_1.ArrayObservable(ish, scheduler);\n            }\n            else if (isPromise_1.isPromise(ish)) {\n                return new PromiseObservable_1.PromiseObservable(ish, scheduler);\n            }\n            else if (typeof ish[iterator_1.iterator] === 'function' || typeof ish === 'string') {\n                return new IteratorObservable_1.IteratorObservable(ish, scheduler);\n            }\n            else if (isArrayLike_1.isArrayLike(ish)) {\n                return new ArrayLikeObservable_1.ArrayLikeObservable(ish, scheduler);\n            }\n        }\n        throw new TypeError((ish !== null && typeof ish || ish) + ' is not observable');\n    };\n    FromObservable.prototype._subscribe = function (subscriber) {\n        var ish = this.ish;\n        var scheduler = this.scheduler;\n        if (scheduler == null) {\n            return ish[observable_1.observable]().subscribe(subscriber);\n        }\n        else {\n            return ish[observable_1.observable]().subscribe(new observeOn_1.ObserveOnSubscriber(subscriber, scheduler, 0));\n        }\n    };\n    return FromObservable;\n}(Observable_1.Observable));\nexports.FromObservable = FromObservable;\n//# sourceMappingURL=FromObservable.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/observable/FromObservable.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../util/root');\nvar Observable_1 = require('../Observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar PromiseObservable = (function (_super) {\n    __extends(PromiseObservable, _super);\n    function PromiseObservable(promise, scheduler) {\n        _super.call(this);\n        this.promise = promise;\n        this.scheduler = scheduler;\n    }\n    /**\n     * Converts a Promise to an Observable.\n     *\n     * <span class=\"informal\">Returns an Observable that just emits the Promise's\n     * resolved value, then completes.</span>\n     *\n     * Converts an ES2015 Promise or a Promises/A+ spec compliant Promise to an\n     * Observable. If the Promise resolves with a value, the output Observable\n     * emits that resolved value as a `next`, and then completes. If the Promise\n     * is rejected, then the output Observable emits the corresponding Error.\n     *\n     * @example <caption>Convert the Promise returned by Fetch to an Observable</caption>\n     * var result = Rx.Observable.fromPromise(fetch('http://myserver.com/'));\n     * result.subscribe(x => console.log(x), e => console.error(e));\n     *\n     * @see {@link bindCallback}\n     * @see {@link from}\n     *\n     * @param {PromiseLike<T>} promise The promise to be converted.\n     * @param {Scheduler} [scheduler] An optional IScheduler to use for scheduling\n     * the delivery of the resolved value (or the rejection).\n     * @return {Observable<T>} An Observable which wraps the Promise.\n     * @static true\n     * @name fromPromise\n     * @owner Observable\n     */\n    PromiseObservable.create = function (promise, scheduler) {\n        return new PromiseObservable(promise, scheduler);\n    };\n    PromiseObservable.prototype._subscribe = function (subscriber) {\n        var _this = this;\n        var promise = this.promise;\n        var scheduler = this.scheduler;\n        if (scheduler == null) {\n            if (this._isScalar) {\n                if (!subscriber.closed) {\n                    subscriber.next(this.value);\n                    subscriber.complete();\n                }\n            }\n            else {\n                promise.then(function (value) {\n                    _this.value = value;\n                    _this._isScalar = true;\n                    if (!subscriber.closed) {\n                        subscriber.next(value);\n                        subscriber.complete();\n                    }\n                }, function (err) {\n                    if (!subscriber.closed) {\n                        subscriber.error(err);\n                    }\n                })\n                    .then(null, function (err) {\n                    // escape the promise trap, throw unhandled errors\n                    root_1.root.setTimeout(function () { throw err; });\n                });\n            }\n        }\n        else {\n            if (this._isScalar) {\n                if (!subscriber.closed) {\n                    return scheduler.schedule(dispatchNext, 0, { value: this.value, subscriber: subscriber });\n                }\n            }\n            else {\n                promise.then(function (value) {\n                    _this.value = value;\n                    _this._isScalar = true;\n                    if (!subscriber.closed) {\n                        subscriber.add(scheduler.schedule(dispatchNext, 0, { value: value, subscriber: subscriber }));\n                    }\n                }, function (err) {\n                    if (!subscriber.closed) {\n                        subscriber.add(scheduler.schedule(dispatchError, 0, { err: err, subscriber: subscriber }));\n                    }\n                })\n                    .then(null, function (err) {\n                    // escape the promise trap, throw unhandled errors\n                    root_1.root.setTimeout(function () { throw err; });\n                });\n            }\n        }\n    };\n    return PromiseObservable;\n}(Observable_1.Observable));\nexports.PromiseObservable = PromiseObservable;\nfunction dispatchNext(arg) {\n    var value = arg.value, subscriber = arg.subscriber;\n    if (!subscriber.closed) {\n        subscriber.next(value);\n        subscriber.complete();\n    }\n}\nfunction dispatchError(arg) {\n    var err = arg.err, subscriber = arg.subscriber;\n    if (!subscriber.closed) {\n        subscriber.error(err);\n    }\n}\n//# sourceMappingURL=PromiseObservable.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/observable/PromiseObservable.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../util/root');\nvar Observable_1 = require('../Observable');\nvar iterator_1 = require('../symbol/iterator');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar IteratorObservable = (function (_super) {\n    __extends(IteratorObservable, _super);\n    function IteratorObservable(iterator, scheduler) {\n        _super.call(this);\n        this.scheduler = scheduler;\n        if (iterator == null) {\n            throw new Error('iterator cannot be null.');\n        }\n        this.iterator = getIterator(iterator);\n    }\n    IteratorObservable.create = function (iterator, scheduler) {\n        return new IteratorObservable(iterator, scheduler);\n    };\n    IteratorObservable.dispatch = function (state) {\n        var index = state.index, hasError = state.hasError, iterator = state.iterator, subscriber = state.subscriber;\n        if (hasError) {\n            subscriber.error(state.error);\n            return;\n        }\n        var result = iterator.next();\n        if (result.done) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(result.value);\n        state.index = index + 1;\n        if (subscriber.closed) {\n            if (typeof iterator.return === 'function') {\n                iterator.return();\n            }\n            return;\n        }\n        this.schedule(state);\n    };\n    IteratorObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var _a = this, iterator = _a.iterator, scheduler = _a.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(IteratorObservable.dispatch, 0, {\n                index: index, iterator: iterator, subscriber: subscriber\n            });\n        }\n        else {\n            do {\n                var result = iterator.next();\n                if (result.done) {\n                    subscriber.complete();\n                    break;\n                }\n                else {\n                    subscriber.next(result.value);\n                }\n                if (subscriber.closed) {\n                    if (typeof iterator.return === 'function') {\n                        iterator.return();\n                    }\n                    break;\n                }\n            } while (true);\n        }\n    };\n    return IteratorObservable;\n}(Observable_1.Observable));\nexports.IteratorObservable = IteratorObservable;\nvar StringIterator = (function () {\n    function StringIterator(str, idx, len) {\n        if (idx === void 0) { idx = 0; }\n        if (len === void 0) { len = str.length; }\n        this.str = str;\n        this.idx = idx;\n        this.len = len;\n    }\n    StringIterator.prototype[iterator_1.iterator] = function () { return (this); };\n    StringIterator.prototype.next = function () {\n        return this.idx < this.len ? {\n            done: false,\n            value: this.str.charAt(this.idx++)\n        } : {\n            done: true,\n            value: undefined\n        };\n    };\n    return StringIterator;\n}());\nvar ArrayIterator = (function () {\n    function ArrayIterator(arr, idx, len) {\n        if (idx === void 0) { idx = 0; }\n        if (len === void 0) { len = toLength(arr); }\n        this.arr = arr;\n        this.idx = idx;\n        this.len = len;\n    }\n    ArrayIterator.prototype[iterator_1.iterator] = function () { return this; };\n    ArrayIterator.prototype.next = function () {\n        return this.idx < this.len ? {\n            done: false,\n            value: this.arr[this.idx++]\n        } : {\n            done: true,\n            value: undefined\n        };\n    };\n    return ArrayIterator;\n}());\nfunction getIterator(obj) {\n    var i = obj[iterator_1.iterator];\n    if (!i && typeof obj === 'string') {\n        return new StringIterator(obj);\n    }\n    if (!i && obj.length !== undefined) {\n        return new ArrayIterator(obj);\n    }\n    if (!i) {\n        throw new TypeError('object is not iterable');\n    }\n    return obj[iterator_1.iterator]();\n}\nvar maxSafeInteger = Math.pow(2, 53) - 1;\nfunction toLength(o) {\n    var len = +o.length;\n    if (isNaN(len)) {\n        return 0;\n    }\n    if (len === 0 || !numberIsFinite(len)) {\n        return len;\n    }\n    len = sign(len) * Math.floor(Math.abs(len));\n    if (len <= 0) {\n        return 0;\n    }\n    if (len > maxSafeInteger) {\n        return maxSafeInteger;\n    }\n    return len;\n}\nfunction numberIsFinite(value) {\n    return typeof value === 'number' && root_1.root.isFinite(value);\n}\nfunction sign(value) {\n    var valueAsNumber = +value;\n    if (valueAsNumber === 0) {\n        return valueAsNumber;\n    }\n    if (isNaN(valueAsNumber)) {\n        return valueAsNumber;\n    }\n    return valueAsNumber < 0 ? -1 : 1;\n}\n//# sourceMappingURL=IteratorObservable.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/observable/IteratorObservable.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar ScalarObservable_1 = require('./ScalarObservable');\nvar EmptyObservable_1 = require('./EmptyObservable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ArrayLikeObservable = (function (_super) {\n    __extends(ArrayLikeObservable, _super);\n    function ArrayLikeObservable(arrayLike, scheduler) {\n        _super.call(this);\n        this.arrayLike = arrayLike;\n        this.scheduler = scheduler;\n        if (!scheduler && arrayLike.length === 1) {\n            this._isScalar = true;\n            this.value = arrayLike[0];\n        }\n    }\n    ArrayLikeObservable.create = function (arrayLike, scheduler) {\n        var length = arrayLike.length;\n        if (length === 0) {\n            return new EmptyObservable_1.EmptyObservable();\n        }\n        else if (length === 1) {\n            return new ScalarObservable_1.ScalarObservable(arrayLike[0], scheduler);\n        }\n        else {\n            return new ArrayLikeObservable(arrayLike, scheduler);\n        }\n    };\n    ArrayLikeObservable.dispatch = function (state) {\n        var arrayLike = state.arrayLike, index = state.index, length = state.length, subscriber = state.subscriber;\n        if (subscriber.closed) {\n            return;\n        }\n        if (index >= length) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(arrayLike[index]);\n        state.index = index + 1;\n        this.schedule(state);\n    };\n    ArrayLikeObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var _a = this, arrayLike = _a.arrayLike, scheduler = _a.scheduler;\n        var length = arrayLike.length;\n        if (scheduler) {\n            return scheduler.schedule(ArrayLikeObservable.dispatch, 0, {\n                arrayLike: arrayLike, index: index, length: length, subscriber: subscriber\n            });\n        }\n        else {\n            for (var i = 0; i < length && !subscriber.closed; i++) {\n                subscriber.next(arrayLike[i]);\n            }\n            subscriber.complete();\n        }\n    };\n    return ArrayLikeObservable;\n}(Observable_1.Observable));\nexports.ArrayLikeObservable = ArrayLikeObservable;\n//# sourceMappingURL=ArrayLikeObservable.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/observable/ArrayLikeObservable.js","\"use strict\";\nvar mergeAll_1 = require('./mergeAll');\n/**\n * Converts a higher-order Observable into a first-order Observable by\n * concatenating the inner Observables in order.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by putting one\n * inner Observable after the other.</span>\n *\n * <img src=\"./img/concatAll.png\" width=\"100%\">\n *\n * Joins every Observable emitted by the source (a higher-order Observable), in\n * a serial fashion. It subscribes to each inner Observable only after the\n * previous inner Observable has completed, and merges all of their values into\n * the returned observable.\n *\n * __Warning:__ If the source Observable emits Observables quickly and\n * endlessly, and the inner Observables it emits generally complete slower than\n * the source emits, you can run into memory issues as the incoming Observables\n * collect in an unbounded buffer.\n *\n * Note: `concatAll` is equivalent to `mergeAll` with concurrency parameter set\n * to `1`.\n *\n * @example <caption>For each click event, tick every second from 0 to 3, with no concurrency</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map(ev => Rx.Observable.interval(1000).take(4));\n * var firstOrder = higherOrder.concatAll();\n * firstOrder.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n *\n * @see {@link combineAll}\n * @see {@link concat}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n * @see {@link exhaust}\n * @see {@link mergeAll}\n * @see {@link switch}\n * @see {@link zipAll}\n *\n * @return {Observable} An Observable emitting values from all the inner\n * Observables concatenated.\n * @method concatAll\n * @owner Observable\n */\nfunction concatAll() {\n    return mergeAll_1.mergeAll(1);\n}\nexports.concatAll = concatAll;\n//# sourceMappingURL=concatAll.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/operators/concatAll.js","import eventManager from './events';\n\nvar _after = function (times, func) {\n  return function () {\n    if (--times < 1) {\n      return func();\n    }\n  };\n};\n\nlet CellsManagerImport = class CellsManagerImport {\n  _importElement(endPoint, componentPath, callback) {\n    var node = document.createElement('link');\n    node.rel = 'import';\n    node.href = endPoint + componentPath;\n    node.onload = callback;\n    node.onerror = callback;\n    node.setAttribute('async', '');\n\n    document.head.appendChild(node);\n  }\n\n  loadBundleForTemplate(baseUri, pageName, callback) {\n    this._importElement(baseUri, pageName + '.html', callback);\n  }\n\n  loadComponent(component, callback, baseUri) {\n    var list = component;\n\n    if (!Array.isArray(list)) {\n      list = [component];\n    }\n\n    if (list.length === 0) {\n      return callback.call(this);\n    }\n\n    eventManager.emit('before-import');\n\n    var iCb = _after(list.length, () => {\n      eventManager.emit('after-import');\n      return callback.call(this);\n    });\n\n    for (let item of list) {\n      this._importElement(baseUri, item.spec.path, iCb);\n    }\n  }\n}\n\nexport default CellsManagerImport;\n\n\n\n// WEBPACK FOOTER //\n// ./~/cells-bridge/src/manager/import.js","import CellsTemplate from '../template';\nimport eventManager from './events';\n\nlet CellsManagerTemplate = class CellsManagerTemplate {\n  cache = {};\n  templates = {};\n  selected = '';\n\n\n  create(name, spec) {\n    var template = this.get(name);\n\n    if (!template) {\n      template = this._createCellsTemplate(spec);\n      template.name = name;\n\n      let node = template.node;\n\n      this.cache[name] = template;\n      this.templates[name] = node;\n\n      node.id = this.parseTemplateId(name);\n      node.name = this.parseTemplateName(name);\n\n      template.setProps();\n      template.cache();\n    }\n\n    return template;\n  }\n\n  _createCellsTemplate(spec) {\n    return new CellsTemplate(spec);\n  }\n\n  get(name) {\n    return this.cache[name];\n  }\n\n  getNode(name) {\n    return this.templates[name];\n  }\n\n  parseTemplateName(name) {\n    return name;\n  }\n\n  parseTemplateId(name) {\n    return 'cells-template-' + name.replace(/\\./g, '-');\n  }\n\n  select(name, bridgeChannelManager = undefined, binding = 'always') {\n    var template = this.get(name);\n    let cache = this.cache;\n    let oldPageName;\n\n    for (let tplName in cache) {\n      if (tplName === this.selected) {\n        oldPageName = tplName;\n        cache[tplName].deactivate();\n      } else if (name !== tplName) {\n        cache[tplName].cache();\n      }\n    }\n\n    this.selected = name;\n    template.activate();\n\n    if(bridgeChannelManager && binding !== 'currentview' && binding !== 'ui'){\n      bridgeChannelManager.updateAppContext(oldPageName, name);\n      bridgeChannelManager.initPrivateChannel(oldPageName, name);\n    }\n\n    eventManager.emit('template-transition-end', template);\n  }\n\n  /**\n   *\n   * remove one template by name.\n   * it remove the template from html and from the templates and cache nodes\n   *\n   * @param String templateName the name of the  template to remove\n   */\n  removeTemplate(templateName) {\n    if (this.templates[templateName]) {\n      let node = document.querySelector('#' + this.templates[templateName].id);\n      node.parentNode.removeChild(node);\n      delete this.templates[templateName];\n      delete this.cache[templateName];\n    }\n  }\n\n   /**\n   *\n   * remove all templates except initial one and cross component one.\n   *\n   * @param String initialTemplate the name of the initial template\n   * @param String crossContainerId the name of the cross component template\n   */\n  removeTemplates(initialTemplate, crossContainerId) {\n    for (let templateName in this.templates) {\n      if (templateName !== initialTemplate && templateName !== crossContainerId) {\n        this.removeTemplate(templateName);\n      }\n    }\n  }\n\n  /**\n   *\n   * remove all children of a template,\n   * it is used, for example, for clear cross component template.\n   *\n   * @param String templateName the name of the  template\n   */\n  removeTemplateChildrens(templateName){\n    let template = this.templates[templateName];\n    if(template && template.children){\n      for (let i = template.children.length - 1; i >= 0; i-- ) {\n        template.removeChild(template.children[i]);\n      }\n    }\n  }\n}\n\nexport default CellsManagerTemplate;\n\n\n\n// WEBPACK FOOTER //\n// ./~/cells-bridge/src/manager/template.js","import CellsComponent from './component';\n\n/**\n * Class for managing templates\n *\n * A template is a component used in Cells apps for managing the components distribution\n *\n * A template has defined zones like app__header or app__main \n * where you can place your components. \n * The property zoneId (in the json page definition file) indicates the zone in wHich the\n * the component is appended.\n *\n * The components added to the template are the template's children. There are two kind of children: \n * the fixed children and the normal children. The normal ones are appended\n * to the asigned zone, the fixed ones are just stored in the fixedChildren property\n * and appended to an especial zone that is fixed.\n *\n * As the class extends from Component it has properties like node which refers to \n * the node the template is attached.\n *\n * The 'state' atributte in the node is used to know the actual state of the template\n * it can be active, cached or inactive.\n */\nexport default class CellsBridgeTemplate extends CellsComponent {\n  /**\n   * children \n   *\n   * a list of all the components in the template (including the fixed ones)\n   *\n   * @type {Array}\n   */\n  children = null;\n  /**\n   * fixedChildren \n   *\n   * a list of the components in the template of type fixed, not attached to the template\n   * but in a special fixed zone\n   *\n   * @type {Array}\n   */\n  fixedChildren = null;\n  /**\n   * type\n   *\n   * indicates the type of this component\n   *\n   * @type {String}\n   */  \n  type = 'TEMPLATE';\n\n  /**\n   * class constructor, receives the template definition object, initializes the children array and fixed children array\n   * \n   * @param {Object} spec\n   */\n  constructor(spec) {\n    super(spec);\n    this.children = [];\n    this.fixedChildren = [];\n  }\n\n  /**\n   * returns the zone node in the template identified by the id.\n   * \n   * @param {String} zoneId\n   * \n   * @return {HTMLElement}\n   */  \n  getZone(zoneId) {\n    var curTemplate = this.node;\n    var node;\n    if(curTemplate.$ && curTemplate.$[zoneId]) {\n      node = curTemplate.$[zoneId];\n    } else if(!zoneId) {\n      node = curTemplate;\n    } else {\n      node = curTemplate.querySelector('#' + zoneId);\n    }\n    return node || curTemplate;\n  }\n\n  /**\n   * sets the attribute cache in the template node to 'cached'\n   * for not loading the template again the next time the template is used\n   */  \n  cache() {\n    this.node.setAttribute('state', 'cached');\n  }\n\n  /**\n   * sets the attribute cache in the template node to 'active'\n   * so you can know which of the templates in html is the actual one\n   */  \n  activate() {\n    this.node.setAttribute('state', 'active');\n  }\n\n  /**\n   * sets the attribute cache in the template node to 'inactive'\n   * so you can know which of the templates in html are not the actual one\n   */  \n  deactivate() {\n    this.node.setAttribute('state', 'inactive');\n  }\n\n  /**\n   * recieves one component or a list of them, gets the new ones and append \n   * them as child in the selected zone of the template\n   * \n   * @param {Array}/{Object} components\n   * \n   * @return {Boolean}\n   */  \n  append(components) {\n    /* istanbul ignore else */\n    if(!components) {\n      return;\n    }\n    /* istanbul ignore else */\n    if (components.length === undefined) {\n      components = [components];\n    }\n\n    let newContentComponents = components.filter(component => component.fixed !== true);\n    let newFixedChildren = components.filter(component => component.fixed === true);\n    this.fixedChildren = this.fixedChildren.concat(newFixedChildren);\n    this.children = this.children.concat(components);\n\n    for(let component of newContentComponents) {\n      // for backward compatibility with Polymer 1\n      component.node.setAttribute('data-select', component.zone);\n      // for the use of slots required by Polymer 2\n      component.node.setAttribute('slot', component.zone); \n      this.getZone(component.zone).appendChild(component.node);\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./~/cells-bridge/src/template.js","import CellsBridgeManagerDom from './manager/dom';\n\nexport default class CellsBridgeComponent extends CellsBridgeManagerDom {\n  /**\n   * Componen type. It could be TYPE_UI, TYPE_DM or TYPE_CC.\n   *\n   * @type {String}\n   */\n  type = '';\n\n  spec = null;\n  zone = null;\n  node = null;\n  fixed = null;\n  connections = null;\n\n  constructor(spec) {\n    super();\n    // @TODO: Por qu almacenar spec en una propiedad y algunas de sus propiedades en otra.\n    this.spec = spec;\n    this.type = spec.type;\n    this.zone = spec.zone;\n    this.fixed = spec.fixed;\n    this.node = this.createElement(this.spec.tagName);\n    this.connections = spec.connections;\n  }\n\n  setProps() {\n    var spec = this.spec;\n    if (spec.connections && spec.connections.ignoreAttr) {\n      for (let key of spec.connections.ignoreAttr) {\n        delete spec.properties[key];\n      }\n    }\n\n    this.setAttrs(this.node, spec.properties);\n  }\n\n  isUnresolved() {\n    return this.node.tagName.indexOf('-') > -1 && this.node.constructor === HTMLElement;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/cells-bridge/src/component.js","import { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/fromEvent';\nimport 'rxjs/add/operator/first';\n\nlet BridgeChannelManager = class BridgeChannelManager {\n  constructor(bridge) {\n    this.componentConnector = bridge.ComponentConnector;\n    this.privateChannels = new Set();\n  }\n\n  /**\n   * Returns the name of the application context channel.\n   */\n  getAppContextChannelName() {\n    return '__bridge_app';\n  }\n\n  /**\n   * Returns the prefix for private channels.\n   */\n  getPrivateChannelPrefix() {\n    return '__bridge_page_';\n  }\n\n  /**\n   * Returns the prefix for event channels.\n   */\n  getEventChannelPrefix() {\n    return '__bridge_evt_';\n  }\n\n  /**\n   * Returns the prefix for generic channels.\n   */\n  getBridgeChannelPrefix() {\n    return '__bridge_ch_';\n  }\n\n  /**\n   * Gets a channel that is for exclusive use of the bridge.\n   * If the channel doesn't exist, it creates one channel with.\n   *\n   * @param name of the channel to retrieve/create\n   *\n   * @return {Channel}\n   *\n   */\n  getBridgeChannel(channelName) {\n    return this.componentConnector.manager.get(this.getBridgeChannelPrefix() +  channelName);\n  }\n\n  getIdleCallbackChannel() {\n    return Observable.create(function (observer) {\n      observer.next(true);\n    });\n  }\n\n  /**\n   * Gets the application context channel.\n   *\n   * @return {Channel}\n   */\n  getAppContextChannel() {\n    return this.componentConnector.manager.get(this.getAppContextChannelName());\n  }\n\n  /**\n   * Gets the private channel that corresponds to a page.\n   *\n   * @param  {String} pageName\n   *\n   * @return {Channel}\n   */\n  getPrivate(pageName) {\n    let newName = this.getPrivateChannelPrefix() + pageName;\n    let channel = this.componentConnector.manager.get(newName);\n    this.privateChannels.add(newName);\n    return channel;\n  }\n\n  /**\n   * Creates and initializes the application context channel.\n   *\n   */\n  initAppContextChannel() {\n    this.getAppContextChannel();\n  }\n\n  /**\n   * Initializes the private chanel for the given page.\n   *\n   * @param {String} pageName\n   *\n   */\n  initPrivateChannel(oldPageName, newPageName) {\n    // let oldPrivateChannelName;\n    // let newPrivateChannelName;\n    let channel;\n    let evt;\n    if (oldPageName) {\n      // oldPrivateChannelName = this.getPrivateChannelPrefix() + oldPageName;\n      // channel = this.componentConnector.manager.get(oldPrivateChannelName);\n      channel = this.getPrivate(oldPageName);\n      evt = this.componentConnector.createEvent('page-load', false);\n      channel.next(evt);\n    }\n    // newPrivateChannelName = this.getPrivateChannelPrefix() + newPageName;\n    // channel = this.componentConnector.manager.get(newPrivateChannelName);\n    channel = this.getPrivate(newPageName);\n    evt = this.componentConnector.createEvent('page-load', true);\n    channel.next(evt);\n  }\n\n  /**\n   * Updates the application context.\n   * Puts in context the information of the current page and previous active page.\n   *\n   * @param {String} oldPage was the previous current page\n   * @param {String} newPage is the page that becomes the current page\n   *\n   */\n  updateAppContext(oldPage, newPage) {\n    let evt = this.componentConnector.createEvent('page-load', {\n      currentPage: newPage,\n      fromPage: oldPage\n    });\n    this.getAppContextChannel().next(evt);\n  }\n\n  /**\n   * returns true if the given name matches a private channel's name\n   *\n   * @param {String} name\n   *\n   * @return {Boolean}\n   */\n  isPrivateChannel(name) {\n    return name.indexOf(this.getPrivateChannelPrefix()) === 0;\n  }\n\n  /**\n   * returns true if there's a private channel with the given name\n   *\n   * @param {String} name\n   *\n   * @return {Boolean}\n   */\n  isActivePrivateChannel(name) {\n    return this.privateChannels.has(name);\n  }\n\n  /**\n   * resets all channels, including the private channels.\n   * It removes all observers and publications.\n   *\n   */\n  resetBridgeChannels(mainNode) {\n    let bridgeChannels = Object.keys(this.componentConnector.manager.channels);\n\n    bridgeChannels.forEach(function(chnlName) {\n      let chnl = this.componentConnector.manager.get(chnlName);\n      chnl.clean();\n      chnl.unsubscribeAll();\n    }.bind(this));\n\n    this.componentConnector.unregister(mainNode);\n  }\n\n  initEventChannels(node, externalEvents) {\n    externalEvents.forEach(function(eventName) {\n      let prefix = this.getEventChannelPrefix();\n      let channelName = prefix + eventName;\n      let channel = this.componentConnector.manager.get(channelName);\n      let source = Observable.fromEvent(node, eventName);\n      source.subscribe(function(event) {\n        channel.next(event);\n      });\n    }.bind(this));\n  }\n\n  subscribeToEvent(node, eventName, callback) {\n    let prefix = this.getEventChannelPrefix();\n    let channelName = prefix + eventName;\n    let subscriptor = this.componentConnector.getSubscriptor(node);\n    let channel = this.componentConnector.manager.get(channelName);\n    callback.node = node;\n    subscriptor.subscribe(channel, callback);\n  }\n}\n\n/**\n * BridgeChannelManager definition\n */\nexport default BridgeChannelManager;\n\n\n\n// WEBPACK FOOTER //\n// ./~/cells-bridge/src/manager/bridge-channels.js","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar first_1 = require('../../operator/first');\nObservable_1.Observable.prototype.first = first_1.first;\n//# sourceMappingURL=first.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/add/operator/first.js","\"use strict\";\nvar first_1 = require('../operators/first');\n/**\n * Emits only the first value (or the first value that meets some condition)\n * emitted by the source Observable.\n *\n * <span class=\"informal\">Emits only the first value. Or emits only the first\n * value that passes some test.</span>\n *\n * <img src=\"./img/first.png\" width=\"100%\">\n *\n * If called with no arguments, `first` emits the first value of the source\n * Observable, then completes. If called with a `predicate` function, `first`\n * emits the first value of the source that matches the specified condition. It\n * may also take a `resultSelector` function to produce the output value from\n * the input value, and a `defaultValue` to emit in case the source completes\n * before it is able to emit a valid value. Throws an error if `defaultValue`\n * was not provided and a matching element is not found.\n *\n * @example <caption>Emit only the first click that happens on the DOM</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.first();\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Emits the first click that happens on a DIV</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.first(ev => ev.target.tagName === 'DIV');\n * result.subscribe(x => console.log(x));\n *\n * @see {@link filter}\n * @see {@link find}\n * @see {@link take}\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} [predicate]\n * An optional function called with each item to test for condition matching.\n * @param {function(value: T, index: number): R} [resultSelector] A function to\n * produce the value on the output Observable based on the values\n * and the indices of the source Observable. The arguments passed to this\n * function are:\n * - `value`: the value that was emitted on the source.\n * - `index`: the \"index\" of the value from the source.\n * @param {R} [defaultValue] The default value emitted in case no valid value\n * was found on the source.\n * @return {Observable<T|R>} An Observable of the first item that matches the\n * condition.\n * @method first\n * @owner Observable\n */\nfunction first(predicate, resultSelector, defaultValue) {\n    return first_1.first(predicate, resultSelector, defaultValue)(this);\n}\nexports.first = first;\n//# sourceMappingURL=first.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/operator/first.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar EmptyError_1 = require('../util/EmptyError');\n/**\n * Emits only the first value (or the first value that meets some condition)\n * emitted by the source Observable.\n *\n * <span class=\"informal\">Emits only the first value. Or emits only the first\n * value that passes some test.</span>\n *\n * <img src=\"./img/first.png\" width=\"100%\">\n *\n * If called with no arguments, `first` emits the first value of the source\n * Observable, then completes. If called with a `predicate` function, `first`\n * emits the first value of the source that matches the specified condition. It\n * may also take a `resultSelector` function to produce the output value from\n * the input value, and a `defaultValue` to emit in case the source completes\n * before it is able to emit a valid value. Throws an error if `defaultValue`\n * was not provided and a matching element is not found.\n *\n * @example <caption>Emit only the first click that happens on the DOM</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.first();\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Emits the first click that happens on a DIV</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.first(ev => ev.target.tagName === 'DIV');\n * result.subscribe(x => console.log(x));\n *\n * @see {@link filter}\n * @see {@link find}\n * @see {@link take}\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} [predicate]\n * An optional function called with each item to test for condition matching.\n * @param {function(value: T, index: number): R} [resultSelector] A function to\n * produce the value on the output Observable based on the values\n * and the indices of the source Observable. The arguments passed to this\n * function are:\n * - `value`: the value that was emitted on the source.\n * - `index`: the \"index\" of the value from the source.\n * @param {R} [defaultValue] The default value emitted in case no valid value\n * was found on the source.\n * @return {Observable<T|R>} An Observable of the first item that matches the\n * condition.\n * @method first\n * @owner Observable\n */\nfunction first(predicate, resultSelector, defaultValue) {\n    return function (source) { return source.lift(new FirstOperator(predicate, resultSelector, defaultValue, source)); };\n}\nexports.first = first;\nvar FirstOperator = (function () {\n    function FirstOperator(predicate, resultSelector, defaultValue, source) {\n        this.predicate = predicate;\n        this.resultSelector = resultSelector;\n        this.defaultValue = defaultValue;\n        this.source = source;\n    }\n    FirstOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new FirstSubscriber(observer, this.predicate, this.resultSelector, this.defaultValue, this.source));\n    };\n    return FirstOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar FirstSubscriber = (function (_super) {\n    __extends(FirstSubscriber, _super);\n    function FirstSubscriber(destination, predicate, resultSelector, defaultValue, source) {\n        _super.call(this, destination);\n        this.predicate = predicate;\n        this.resultSelector = resultSelector;\n        this.defaultValue = defaultValue;\n        this.source = source;\n        this.index = 0;\n        this.hasCompleted = false;\n        this._emitted = false;\n    }\n    FirstSubscriber.prototype._next = function (value) {\n        var index = this.index++;\n        if (this.predicate) {\n            this._tryPredicate(value, index);\n        }\n        else {\n            this._emit(value, index);\n        }\n    };\n    FirstSubscriber.prototype._tryPredicate = function (value, index) {\n        var result;\n        try {\n            result = this.predicate(value, index, this.source);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this._emit(value, index);\n        }\n    };\n    FirstSubscriber.prototype._emit = function (value, index) {\n        if (this.resultSelector) {\n            this._tryResultSelector(value, index);\n            return;\n        }\n        this._emitFinal(value);\n    };\n    FirstSubscriber.prototype._tryResultSelector = function (value, index) {\n        var result;\n        try {\n            result = this.resultSelector(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this._emitFinal(result);\n    };\n    FirstSubscriber.prototype._emitFinal = function (value) {\n        var destination = this.destination;\n        if (!this._emitted) {\n            this._emitted = true;\n            destination.next(value);\n            destination.complete();\n            this.hasCompleted = true;\n        }\n    };\n    FirstSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        if (!this.hasCompleted && typeof this.defaultValue !== 'undefined') {\n            destination.next(this.defaultValue);\n            destination.complete();\n        }\n        else if (!this.hasCompleted) {\n            destination.error(new EmptyError_1.EmptyError);\n        }\n    };\n    return FirstSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=first.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/operators/first.js","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when an Observable or a sequence was queried but has no\n * elements.\n *\n * @see {@link first}\n * @see {@link last}\n * @see {@link single}\n *\n * @class EmptyError\n */\nvar EmptyError = (function (_super) {\n    __extends(EmptyError, _super);\n    function EmptyError() {\n        var err = _super.call(this, 'no elements in sequence');\n        this.name = err.name = 'EmptyError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return EmptyError;\n}(Error));\nexports.EmptyError = EmptyError;\n//# sourceMappingURL=EmptyError.js.map\n\n\n// WEBPACK FOOTER //\n// ./~/rxjs/util/EmptyError.js","import eventManager from '../manager/events';\n\n/**\n * Class to define core private channels behavior\n */\nlet ActionChannelManager = class ActionChannelManager {\n  constructor(bridge) {\n    this.bridge = bridge;\n    this.PageManager = bridge.PageManager;\n    this.ChannelManager = bridge.BridgeChannelManager;\n    this.TemplateManager = bridge.TemplateManager;\n  }\n\n  subscribeAll() {\n    this.ChannelManager.getBridgeChannel('config').subscribe(evt => this._configSubscriptor(evt));\n    this.ChannelManager.getBridgeChannel('locales').subscribe(evt => this._localesSubscriptor(evt));\n    this.ChannelManager.getBridgeChannel('logout').subscribe(evt => this._logoutSubscriptor(evt));\n  }\n\n  _isAllowedProperty(prop) {\n    return typeof this.bridge[prop] !== 'function';\n  }\n\n  _configSubscriptor(evt) {\n    const selected = this.TemplateManager.selected;\n\n    if (evt.detail) {\n      for (let prop in evt.detail) {\n        if(this._isAllowedProperty(prop)) {\n          this.bridge[prop] = evt.detail[prop];\n        }\n      }\n\n      if (evt.detail.app || evt.detail.pagesPath) {\n        this.PageManager.clear();\n        this.TemplateManager.removeTemplates(selected, this.bridge.crossContainerId);\n        eventManager.once('template-registered', () => this.TemplateManager.removeTemplate(selected));\n      }\n    }\n  }\n\n  _localesSubscriptor(evt) {\n    if (window.I18nMsg && evt.detail && evt.detail.lang) {\n      window.I18nMsg.lang = evt.detail.lang;\n    }\n  }\n\n  _logoutSubscriptor() {\n    this.bridge.logout();\n    this.subscribeAll();\n  }\n};\n\nexport default ActionChannelManager;\n\n\n// WEBPACK FOOTER //\n// ./~/cells-bridge/src/manager/action-channels.js","import CellsComponentConnector from 'cells-bridge/src/component-connector';\n\nvar _getProperyChangedName = function (name) {\n  var propertyName;\n\n  /* istanbul ignore else */\n  if (!Polymer.Base._EVENT_CHANGED) {\n    Polymer.Base._EVENT_CHANGED = '-changed';\n  }\n  /* istanbul ignore else */\n  if (name.endsWith(Polymer.Base._EVENT_CHANGED)) {\n    propertyName = name.slice(0, -Polymer.Base._EVENT_CHANGED.length);\n    propertyName = Polymer.CaseMap.dashToCamelCase(propertyName);\n  }\n\n  return propertyName;\n};\n\n// Hell to test:\nvar _parseActionInEvent = function(evt, targetPath, target) {\n  var path;\n  var value;\n\n  // Check if event is because of property changed.\n  var propertyName = _getProperyChangedName(evt.type);\n\n  if (propertyName && evt.detail && evt.detail.hasOwnProperty('value')) {\n    value = evt.detail.value;\n    targetPath = targetPath || propertyName;\n\n    if (evt.detail.path) {\n      path = evt.detail.path.replace(propertyName, targetPath);\n    } else {\n      path = targetPath;\n    }\n  } else {\n    path = targetPath;\n    value = evt.detail;\n  }\n\n  if (target !== undefined && target.is === undefined && typeof(value) === 'object') {\n    if (Polymer.Element === undefined) {\n      value = JSON.stringify(value);\n    } else {\n       /* istanbul ignore else */\n      if ((target instanceof Polymer.Element) === false) {\n        value = JSON.stringify(value);\n      }\n    }\n  }\n\n  return {\n    path: path,\n    value: value,\n    property: targetPath\n  };\n};\n\nexport default class CellsPolymerComponentConnector extends CellsComponentConnector {\n\n  wrapCallback(node, bindName) {\n    return function(evt) {\n      var checkDispatchActionType = function(mutations, observerObject) {\n        /* istanbul ignore else */\n        if (this._isPolymerElement(node)) {\n          if (typeof node[bindName] === 'function') {\n            this._dispatchActionFunction(evt, node, bindName);\n          } else {\n            this._dispatchActionProperty(evt, node, bindName);\n          }\n          /* istanbul ignore else */\n          if (observerObject) {\n            observerObject.disconnect();\n          }\n        }\n      }.bind(this);\n\n      if (this._isPolymerElement(node)) {\n        checkDispatchActionType();\n      } else {\n        var observer = new MutationObserver(checkDispatchActionType);\n        var config = { attributes: true, childList: true, characterData: true };\n        observer.observe(node, config);\n      }\n    }.bind(this);\n  }\n\n  /**\n   * Return the version of Polymer instance if the node is a Polymer element.\n   * Return -1 if if the node is not a Polymer element.\n   *\n   * @param {Element} node\n   */\n  _whichPolymerVersion(node) {\n    let version = -1;\n    if (Polymer.Element !== undefined && node instanceof Polymer.Element) {\n      version = 2;\n    } else {\n      /* istanbul ignore else */\n      if (node.__isPolymerInstance__ !== undefined) {\n        version = 1;\n      }\n    }\n    return version;\n  }\n\n  /**\n   * Return true if the node is instance of a Polymer element, otherwise return false.\n   *\n   * @param {Element} node\n   */\n  _isPolymerElement(node) {\n    return this._whichPolymerVersion(node) > 0;\n  }\n\n  /**\n   * Returns true if the event has reached the node that is listening the event\n   *\n   * @param {Event} event\n   */\n  _isEventAtTarget(event) {\n    var atTarget;\n    if (Polymer.Settings.hasShadow === false) {\n      var normalizedEvent = Polymer.dom(event);\n      atTarget = normalizedEvent.localTarget === event.currentTarget;\n    } else {\n      atTarget = super._isEventAtTarget(event);\n    }\n    return atTarget;\n  }\n\n  _dispatchActionFunction(evt, target, method) {\n    var propertyName = _getProperyChangedName(evt.type);\n    var payload;\n\n    if (propertyName && evt.detail && evt.detail.hasOwnProperty('value')) {\n      payload = Polymer.dom(evt).rootTarget[propertyName];\n    } else {\n      payload = evt.detail;\n    }\n\n    //TODO: Review to see if we actually want to show this warning.\n    if (this.bridge && this.bridge.debug && this.bridge.parsePayload && ('' + target[method]).indexOf('.data') > -1) {\n      payload = this.bridge.parsePayload(evt.detail);\n      console.warn('%c' + target.tagName + '%c is using an incompatible payload data in ' + method, 'background: #ff9800; color: white; padding: 4px 4px 4px 10px', 'background: #ff9800; color: rgba(255,255,255,0.9); padding: 4px 10px 4px 0');\n    }\n\n    target[method](payload);\n  }\n\n  _getTargetProperties(target) {\n    let props;\n    if (target.constructor.config) {\n      props = target.constructor.config.properties;\n    } else if (target.constructor.properties) {\n      props = target.constructor.properties\n    }\n    return props;\n  }\n\n  _dispatchActionProperty(evt, target, property) {\n    var info;\n    var data = _parseActionInEvent(evt, property, target);\n\n    //check if target is an instance of Polymer Element to check if is a polymer 2 element\n    if (target && target.getPropertyInfo || Polymer.Element !== undefined && (target instanceof Polymer.Element) === false) {\n      if (target.getPropertyInfo) {\n        info = target.getPropertyInfo(data.property)\n      } else {\n        info = this._getTargetProperties(target)[data.property];\n      }\n\n      /* istanbul ignore else */\n      if (info && info.defined && !info.readOnly && !info.computed) {\n        return target.set(data.path, data.value);\n      }\n    }\n    //check if target is an instance of Polymer Element to check if is a polymer 2 element\n    if (target && target.getPropertyInfo === undefined || Polymer.Element !== undefined && (target instanceof Polymer.Element) === false) {\n      info = this._getTargetProperties(target) !== undefined ? this._getTargetProperties(target)[data.property] : undefined;\n\n      /* istanbul ignore else */\n      if (info && !info.readOnly && !info.computed) {\n        return target.set(data.path, data.value);\n      }\n\n    }\n\n    return target.setAttribute(data.path, data.value);\n  }\n\n  register(node, connections) {\n    super.register(node, connections);\n\n    if (!node || !connections) {\n      return;\n    }\n\n    if (node.__isCellsConnected) {\n      return;\n    }\n\n    /* istanbul ignore else */\n    if (connections.in) {\n      for (let action in connections.in) {\n        /* istanbul ignore else */\n        if (this.manager.get(action)._events[0]) {\n          /* istanbul ignore else */\n          if (connections.ignoreAttr) {\n            connections.ignoreAttr.push(connections.in[action].bind);\n          } else {\n            connections.ignoreAttr = [connections.in[action].bind];\n          }\n        }\n      }\n    }\n\n    /* istanbul ignore else */\n    if (connections.out) {\n      for (let _action in connections.out) {\n        let attrName = _getProperyChangedName(connections.out[_action].bind);\n\n        let polymerVersion = this._whichPolymerVersion(node);\n        if (polymerVersion === 2 ) {\n          /* istanbul ignore else */\n          if (attrName && node.__data && !this.manager.get(_action)._events[0]) {\n            /* istanbul ignore else */\n            if (node && node._hasReadOnlyEffect) {\n              /* istanbul ignore else */\n              if (!node._hasReadOnlyEffect(attrName) && !node._hasComputedEffect(attrName)) {\n                let oldValue = node[attrName];\n                node.__data[attrName] = undefined;\n                node[attrName] = oldValue;\n              }\n            }\n          }\n        } else {\n          /* istanbul ignore else */\n          if (attrName && node.__data__ && !this.manager.get(_action)._events[0]) {\n            /* istanbul ignore else */\n            if (node && node.getPropertyInfo) {\n              var info = node.getPropertyInfo(attrName);\n\n              /* istanbul ignore else */\n              if (info.defined && !info.readOnly && !info.computed) {\n                let oldValue = node[attrName];\n                // remove polymer internal current value to trigger model changes\n                node.__data__[attrName] = undefined;\n                node[attrName] = oldValue;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    node.__isCellsConnected = true;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/polymer-component-connector.js","import CellsManagerTemplate from 'cells-bridge/src/manager/template';\nimport PolymerTemplate from './polymer-template';\n\nexport default class PolymerTemplateManager extends CellsManagerTemplate {\n\n  _createCellsTemplate(spec, context) {\n    return new PolymerTemplate(spec, context);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/polymer-template-manager.js","import CellsBridgeTemplate from 'cells-bridge/src/template';\nimport { isPolymerElementUnresolved } from './polymer-resolution-checker';\n\nexport default class PolymerTemplate extends CellsBridgeTemplate {\n\n  isUnresolved() {\n    return isPolymerElementUnresolved(this.node);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/polymer-template.js","export function isPolymerElementUnresolved(node) {\n  const isCustomElement = node.tagName.indexOf('-') > -1 ;\n  const isPolymer1 = node.__isPolymerInstance__ === true;\n  const isPolymer2 = (Polymer.Element !== undefined && node instanceof Polymer.Element);\n\n  return isCustomElement && !isPolymer1 && !isPolymer2;\n}\n\nexport default {\n  isPolymerElementUnresolved\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/polymer-resolution-checker.js","import CellsBridgeComponent from 'cells-bridge/src/component';\nimport { isPolymerElementUnresolved } from './polymer-resolution-checker';\n\nexport default class PolymerComponent extends CellsBridgeComponent {\n\n  isUnresolved() {\n    return isPolymerElementUnresolved(this.node);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/polymer-component.js"],"sourceRoot":""}